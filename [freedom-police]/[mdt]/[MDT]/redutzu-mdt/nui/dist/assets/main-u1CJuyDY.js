import{r as ku,a as _u,g as Eu}from"./index-eXvOsqb3.js";function Su(Li,dl){for(var $o=0;$o<dl.length;$o++){const Jr=dl[$o];if(typeof Jr!="string"&&!Array.isArray(Jr)){for(const Qr in Jr)if(Qr!=="default"&&!(Qr in Li)){const Wr=Object.getOwnPropertyDescriptor(Jr,Qr);Wr&&Object.defineProperty(Li,Qr,Wr.get?Wr:{enumerable:!0,get:()=>Jr[Qr]})}}}return Object.freeze(Object.defineProperty(Li,Symbol.toStringTag,{value:"Module"}))}var $c={exports:{}},Jc={exports:{}};/*! For license information please see excalidraw.production.min.js.LICENSE.txt */(function(Li,dl){(function($o,Jr){Li.exports=Jr(ku,_u)})(self,function($o,Jr){return function(){var Qr,Wr,Jo,fl,$l={7945:function(le,K,o){le.exports=o(1602)},45:function(le,K,o){function x(v){var g,j,y="";if(typeof v=="string"||typeof v=="number")y+=v;else if(typeof v=="object")if(Array.isArray(v))for(g=0;g<v.length;g++)v[g]&&(j=x(v[g]))&&(y&&(y+=" "),y+=j);else for(g in v)v[g]&&(y&&(y+=" "),y+=g);return y}function i(){for(var v,g,j=0,y="";j<arguments.length;)(v=arguments[j++])&&(g=x(v))&&(y&&(y+=" "),y+=g);return y}o.d(K,{Z:function(){return i}})},6233:function(le,K){var o;o=function(x){x.version="0.3.0";var i=function(){for(var j=0,y=new Array(256),V=0;V!=256;++V)j=1&(j=1&(j=1&(j=1&(j=1&(j=1&(j=1&(j=1&(j=V)?-306674912^j>>>1:j>>>1)?-306674912^j>>>1:j>>>1)?-306674912^j>>>1:j>>>1)?-306674912^j>>>1:j>>>1)?-306674912^j>>>1:j>>>1)?-306674912^j>>>1:j>>>1)?-306674912^j>>>1:j>>>1)?-306674912^j>>>1:j>>>1,y[V]=j;return typeof Int32Array<"u"?new Int32Array(y):y}(),v=typeof Buffer<"u";function g(j){for(var y=-1,V=0,ie=j.length-7;V<ie;)y=(y=(y=(y=(y=(y=(y=(y=y>>>8^i[255&(y^j[V++])])>>>8^i[255&(y^j[V++])])>>>8^i[255&(y^j[V++])])>>>8^i[255&(y^j[V++])])>>>8^i[255&(y^j[V++])])>>>8^i[255&(y^j[V++])])>>>8^i[255&(y^j[V++])])>>>8^i[255&(y^j[V++])];for(;V<ie+7;)y=y>>>8^i[255&(y^j[V++])];return-1^y}x.table=i,x.bstr=function(j){if(j.length>32768&&v)return g(new Buffer(j));for(var y=-1,V=j.length-1,ie=0;ie<V;)y=i[255&(y^j.charCodeAt(ie++))]^y>>>8,y=i[255&(y^j.charCodeAt(ie++))]^y>>>8;return ie===V&&(y=y>>>8^i[255&(y^j.charCodeAt(ie))]),-1^y},x.buf=function(j){if(j.length>1e4)return g(j);for(var y=-1,V=0,ie=j.length-3;V<ie;)y=(y=(y=(y=y>>>8^i[255&(y^j[V++])])>>>8^i[255&(y^j[V++])])>>>8^i[255&(y^j[V++])])>>>8^i[255&(y^j[V++])];for(;V<ie+3;)y=y>>>8^i[255&(y^j[V++])];return-1^y},x.str=function(j){for(var y,V,ie=-1,I=0,te=j.length;I<te;)(y=j.charCodeAt(I++))<128?ie=ie>>>8^i[255&(ie^y)]:y<2048?ie=(ie=ie>>>8^i[255&(ie^(192|y>>6&31))])>>>8^i[255&(ie^(128|63&y))]:y>=55296&&y<57344?(y=64+(1023&y),V=1023&j.charCodeAt(I++),ie=(ie=(ie=(ie=ie>>>8^i[255&(ie^(240|y>>8&7))])>>>8^i[255&(ie^(128|y>>2&63))])>>>8^i[255&(ie^(128|V>>6&15|3&y))])>>>8^i[255&(ie^(128|63&V))]):ie=(ie=(ie=ie>>>8^i[255&(ie^(224|y>>12&15))])>>>8^i[255&(ie^(128|y>>6&63))])>>>8^i[255&(ie^(128|63&y))];return-1^ie}},o(typeof DO_NOT_EXPORT_CRC>"u"?K:{})},4739:function(le,K,o){o.d(K,{KO:function(){return M},Vv:function(){return S},cn:function(){return U},zt:function(){return D}});var x=o(9787);const i=Symbol(),v=G=>!!G[i],g=G=>{var ae,ce;(ce=(ae=G[i]).c)==null||ce.call(ae)},j=(G,ae)=>{const ce=G[i].o,J=ae[i].o;return ce===J||G===J||v(ce)&&j(ce,ae)},y=G=>{const ae={o:G,c:null},ce=new Promise(J=>{ae.c=()=>{ae.c=null,J()},G.then(ae.c,ae.c)});return ce[i]=ae,ce};var V=Object.defineProperty,ie=Object.defineProperties,I=Object.getOwnPropertyDescriptors,te=Object.getOwnPropertySymbols,pe=Object.prototype.hasOwnProperty,fe=Object.prototype.propertyIsEnumerable,W=(G,ae,ce)=>ae in G?V(G,ae,{enumerable:!0,configurable:!0,writable:!0,value:ce}):G[ae]=ce;const re=G=>"init"in G,ne="r",ue="w",$="c",ge="s",se=G=>{const ae=new WeakMap,ce=new WeakMap,J=new Map;let Y,oe;if(Y=new Set,oe=new Set,G)for(const[de,_e]of G){const we={v:_e,r:0,d:new Map};Object.freeze(we),re(de)||console.warn("Found initial value for derived atom which can cause unexpected behavior",de),ae.set(de,we)}const xe=new WeakMap,L=new WeakMap,A=de=>{let _e=L.get(de);return _e||(_e=new Map,L.set(de,_e)),_e},N=(de,_e)=>{if(de){const we=A(de);let Me=we.get(_e);return Me||(Me=N(de.p,_e),Me&&("p"in Me&&Me.p.then(()=>we.delete(_e)),we.set(_e,Me))),Me}return ae.get(_e)},z=(de,_e,we)=>{if(Object.freeze(we),de)A(de).set(_e,we);else{const Me=ae.get(_e);ae.set(_e,we),J.has(_e)||J.set(_e,Me)}},ee=(de,_e=new Map,we)=>{if(!we)return _e;const Me=new Map;let Te=!1;return we.forEach(Le=>{var Be;const We=((Be=N(de,Le))==null?void 0:Be.r)||0;Me.set(Le,We),_e.get(Le)!==We&&(Te=!0)}),_e.size!==Me.size||Te?Me:_e},ke=(de,_e,we,Me,Te)=>{const Le=N(de,_e);if(Le){if(Te&&(!("p"in Le)||!j(Le.p,Te)))return Le;"p"in Le&&g(Le.p)}const Be={v:we,r:(Le==null?void 0:Le.r)||0,d:ee(de,Le==null?void 0:Le.d,Me)};return Le&&"v"in Le&&Object.is(Le.v,we)?Be.d===Le.d||Be.d.size===Le.d.size&&Array.from(Be.d.keys()).every(We=>Le.d.has(We))||Promise.resolve().then(()=>{ft(de)}):(++Be.r,Be.d.has(_e)&&(Be.d=new Map(Be.d).set(_e,Be.r))),z(de,_e,Be),Be},Oe=(de,_e,we,Me,Te)=>{const Le=N(de,_e);if(Le){if(Te&&(!("p"in Le)||!j(Le.p,Te)))return Le;"p"in Le&&g(Le.p)}const Be={e:we,r:(Le==null?void 0:Le.r)||0,d:ee(de,Le==null?void 0:Le.d,Me)};return z(de,_e,Be),Be},Q=(de,_e,we,Me)=>{const Te=N(de,_e);if(Te&&"p"in Te){if(j(Te.p,we))return Te;g(Te.p)}((Be,We,Ge)=>{let it=xe.get(We);it||(it=new Map,xe.set(We,it)),Ge.then(()=>{it.get(Be)===Ge&&(it.delete(Be),it.size||xe.delete(We))}),it.set(Be,Ge)})(de,_e,we);const Le={p:we,r:(Te==null?void 0:Te.r)||0,d:ee(de,Te==null?void 0:Te.d,Me)};return z(de,_e,Le),Le},Ce=(de,_e,we,Me)=>{if(we instanceof Promise){const Te=y(we.then(Le=>{ke(de,_e,Le,Me,Te),ft(de)}).catch(Le=>{if(Le instanceof Promise)return v(Le)?Le.then(()=>{ze(de,_e,!0)}):Le;Oe(de,_e,Le,Me,Te),ft(de)}));return Q(de,_e,Te,Me)}return ke(de,_e,we,Me)},Ne=(de,_e)=>{const we=N(de,_e);if(we){"p"in we&&g(we.p);const Le=(Me=((Be,We)=>{for(var Ge in We||(We={}))pe.call(We,Ge)&&W(Be,Ge,We[Ge]);if(te)for(var Ge of te(We))fe.call(We,Ge)&&W(Be,Ge,We[Ge]);return Be})({},we),Te={i:we.r},ie(Me,I(Te)));z(de,_e,Le)}else console.warn("[Bug] could not invalidate non existing atom",_e);var Me,Te},ze=(de,_e,we)=>{if(!we){const Te=N(de,_e);if(Te&&(Te.r!==Te.i&&"p"in Te&&Te.p[i].c||(Te.d.forEach((Le,Be)=>{if(Be!==_e)if(ce.has(Be)){const We=N(de,Be);We&&We.r===We.i&&ze(de,Be)}else ze(de,Be)}),Array.from(Te.d).every(([Le,Be])=>{const We=N(de,Le);return We&&"v"in We&&We.r===Be}))))return Te}const Me=new Set;try{const Te=_e.read(Le=>{Me.add(Le);const Be=Le===_e?N(de,Le):ze(de,Le);if(Be){if("e"in Be)throw Be.e;if("p"in Be)throw Be.p;return Be.v}if(re(Le))return Le.init;throw new Error("no atom init")});return Ce(de,_e,Te,Me)}catch(Te){if(Te instanceof Promise){const Le=y(Te);return Q(de,_e,Le,Me)}return Oe(de,_e,Te,Me)}},ot=(de,_e)=>ze(_e,de),P=(de,_e)=>!_e.l.size&&(!_e.t.size||_e.t.size===1&&_e.t.has(de)),ye=(de,_e)=>{const we=ce.get(_e);we==null||we.t.forEach(Me=>{Me!==_e&&(Ne(de,Me),ye(de,Me))})},me=(de,_e,we)=>{let Me=!0;const Te=(Be,We)=>{const Ge=ze(de,Be);if("e"in Ge)throw Ge.e;if("p"in Ge){if(We!=null&&We.unstable_promise)return Ge.p.then(()=>Te(Be,We));throw console.info("Reading pending atom state in write operation. We throw a promise for now.",Be),Ge.p}if("v"in Ge)return Ge.v;throw console.warn("[Bug] no value found while reading atom in write operation. This is probably a bug.",Be),new Error("no value found")},Le=_e.write(Te,(Be,We)=>{let Ge;if(Be===_e){if(!re(Be))throw new Error("atom not writable");(Re=>{const Xe=new Set,xt=xe.get(Re);return xt&&(xe.delete(Re),xt.forEach((st,Ot)=>{g(st),Xe.add(Ot)})),Xe})(Be).forEach(Re=>{Re!==de&&Ce(Re,Be,We)}),Ce(de,Be,We),ye(de,Be)}else Ge=me(de,Be,We);return Me||ft(de),Ge},we);return Me=!1,de=void 0,Le},Pe=(de,_e,we)=>{const Me=me(we,de,_e);return ft(we),Me},Ze=(de,_e)=>{const we={t:new Set(_e&&[_e]),l:new Set};if(ce.set(de,we),oe.add(de),ze(void 0,de).d.forEach((Me,Te)=>{const Le=ce.get(Te);Le?Le.t.add(de):Te!==de&&Ze(Te,de)}),(Me=>!!Me.write)(de)&&de.onMount){const Me=Le=>Pe(de,Le),Te=de.onMount(Me);Te&&(we.u=Te)}return we},Je=de=>{var _e;const we=(_e=ce.get(de))==null?void 0:_e.u;we&&we(),ce.delete(de),oe.delete(de);const Me=N(void 0,de);Me?Me.d.forEach((Te,Le)=>{if(Le!==de){const Be=ce.get(Le);Be&&(Be.t.delete(de),P(Le,Be)&&Je(Le))}}):console.warn("[Bug] could not find atom state to unmount",de)},nt=(de,_e,we)=>{const Me=new Set(_e.d.keys());we==null||we.forEach((Te,Le)=>{if(Me.has(Le))return void Me.delete(Le);const Be=ce.get(Le);Be&&(Be.t.delete(de),P(Le,Be)&&Je(Le))}),Me.forEach(Te=>{const Le=ce.get(Te);Le?Le.t.add(de):ce.has(de)&&Ze(Te,de)})},ft=de=>{if(de)A(de).forEach((_e,we)=>{if(_e!==ae.get(we)){const Me=ce.get(we);Me==null||Me.l.forEach(Te=>Te(de))}});else{for(;J.size;){const _e=Array.from(J);J.clear(),_e.forEach(([we,Me])=>{const Te=N(void 0,we);Te&&Te.d!==(Me==null?void 0:Me.d)&&nt(we,Te,Me==null?void 0:Me.d);const Le=ce.get(we);Le==null||Le.l.forEach(Be=>Be())})}Y.forEach(_e=>_e())}},pt=(de,_e)=>{_e&&(we=>{A(we).forEach((Me,Te)=>{const Le=ae.get(Te);(Me.r>((Le==null?void 0:Le.r)||0)||"v"in Me&&Me.r===(Le==null?void 0:Le.r)&&Me.d!==(Le==null?void 0:Le.d))&&(ae.set(Te,Me),Me.d!==(Le==null?void 0:Le.d)&&nt(Te,Me,Le==null?void 0:Le.d))})})(_e),ft(void 0)},et=(de,_e)=>{const we=(Me=>{let Te=ce.get(Me);return Te||(Te=Ze(Me)),Te})(de).l;return we.add(_e),()=>{we.delete(_e),(Me=>{const Te=ce.get(Me);Te&&P(Me,Te)&&Je(Me)})(de)}},he=(de,_e)=>{for(const[we,Me]of de)re(we)&&(Ce(_e,we,Me),ye(_e,we));ft(_e)};return{[ne]:ot,[ue]:Pe,[$]:pt,[ge]:et,h:he,n:de=>(Y.add(de),()=>{Y.delete(de)}),l:()=>oe.values(),a:de=>ae.get(de),m:de=>ce.get(de)}},S=G=>{const ae=se(G),ce=J=>new Promise((Y,oe)=>{const xe=ae.r(J);"e"in xe?oe(xe.e):Y("p"in xe?xe.p.then(()=>ce(J)):xe.v)});return{get:J=>{const Y=ae.r(J);if("e"in Y)throw Y.e;if(!("p"in Y))return Y.v},asyncGet:ce,set:(J,Y)=>ae.w(J,Y),sub:(J,Y)=>ae.s(J,Y),SECRET_INTERNAL_store:ae}},F=(G,ae)=>({s:ae?ae(G).SECRET_INTERNAL_store:se(G)}),h=new Map,u=G=>(h.has(G)||h.set(G,(0,x.createContext)(F())),h.get(G));var O=Object.defineProperty,p=Object.defineProperties,_=Object.getOwnPropertyDescriptors,E=Object.getOwnPropertySymbols,T=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,m=(G,ae,ce)=>ae in G?O(G,ae,{enumerable:!0,configurable:!0,writable:!0,value:ce}):G[ae]=ce,c=(G,ae)=>{for(var ce in ae||(ae={}))T.call(ae,ce)&&m(G,ce,ae[ce]);if(E)for(var ce of E(ae))l.call(ae,ce)&&m(G,ce,ae[ce]);return G};const n=G=>G.debugLabel||G.toString(),C=([G,ae])=>Object.fromEntries(ae.flatMap(ce=>{var J,Y;const oe=(J=G.m)==null?void 0:J.call(G,ce);if(!oe)return[];const xe=oe.t,L=((Y=G.a)==null?void 0:Y.call(G,ce))||{};return[[n(ce),(A=c(c(c({},"e"in L&&{error:L.e}),"p"in L&&{promise:L.p}),"v"in L&&{value:L.v}),N={dependents:Array.from(xe).map(n)},p(A,_(N)))]];var A,N})),D=({children:G,initialValues:ae,scope:ce,unstable_createStore:J,unstable_enableVersionedWrite:Y})=>{const[oe,xe]=(0,x.useState)();(0,x.useEffect)(()=>{oe&&(L.current.s.c(null,oe),delete oe.p)},[oe]);const L=(0,x.useRef)();L.current||(L.current=F(ae,J),Y&&(L.current.w=N=>{xe(z=>{const ee=z?{p:z}:{};return N(ee),ee})})),Y||(N=>{const{s:z}=N,[ee,ke]=(0,x.useState)([]);(0,x.useEffect)(()=>{var Oe;const Q=()=>{var Ne;ke(Array.from(((Ne=z.l)==null?void 0:Ne.call(z))||[]))},Ce=(Oe=z.n)==null?void 0:Oe.call(z,Q);return Q(),Ce},[z]),(0,x.useDebugValue)([z,ee],C)})(L.current);const A=u(ce);return(0,x.createElement)(A.Provider,{value:L.current},G)};let B=0;function U(G,ae){const ce="atom"+ ++B,J={toString:()=>ce};return typeof G=="function"?J.read=G:(J.init=G,J.read=Y=>Y(J),J.write=(Y,oe,xe)=>oe(J,typeof xe=="function"?xe(Y(J)):xe)),ae&&(J.write=ae),J}function R(G,ae){const ce=u(ae),{s:J}=(0,x.useContext)(ce),Y=(0,x.useCallback)(N=>{const z=J.r(G,N);if("e"in z)throw z.e;if("p"in z)throw z.p;if("v"in z)return z.v;throw new Error("no atom value")},[J,G]),[[oe,xe,L],A]=(0,x.useReducer)((0,x.useCallback)((N,z)=>{const ee=Y(z);return Object.is(N[1],ee)&&N[2]===G?N:[z,ee,G]},[Y,G]),void 0,()=>[void 0,Y(void 0),G]);return L!==G&&A(void 0),(0,x.useEffect)(()=>{const N=J.s(G,A);return A(void 0),N},[J,G]),(0,x.useEffect)(()=>{J.c(G,oe)}),(0,x.useDebugValue)(xe),xe}function b(G,ae){const ce=u(ae),{s:J,w:Y}=(0,x.useContext)(ce);return(0,x.useCallback)(oe=>{if(!("write"in G))throw new Error("not writable atom");const xe=L=>J.w(G,oe,L);return Y?Y(xe):xe()},[J,Y,G])}function M(G,ae){return"scope"in G&&(console.warn("atom.scope is deprecated. Please do useAtom(atom, scope) instead."),ae=G.scope),[R(G,ae),b(G,ae)]}},200:function(le,K,o){var x="Expected a function",i=/^\s+|\s+$/g,v=/^[-+]0x[0-9a-f]+$/i,g=/^0b[01]+$/i,j=/^0o[0-7]+$/i,y=parseInt,V=typeof o.g=="object"&&o.g&&o.g.Object===Object&&o.g,ie=typeof self=="object"&&self&&self.Object===Object&&self,I=V||ie||Function("return this")(),te=Object.prototype.toString,pe=Math.max,fe=Math.min,W=function(){return I.Date.now()};function re($,ge,se){var S,F,h,u,O,p,_=0,E=!1,T=!1,l=!0;if(typeof $!="function")throw new TypeError(x);function m(U){var R=S,b=F;return S=F=void 0,_=U,u=$.apply(b,R)}function c(U){return _=U,O=setTimeout(C,ge),E?m(U):u}function n(U){var R=U-p;return p===void 0||R>=ge||R<0||T&&U-_>=h}function C(){var U=W();if(n(U))return D(U);O=setTimeout(C,function(R){var b=ge-(R-p);return T?fe(b,h-(R-_)):b}(U))}function D(U){return O=void 0,l&&S?m(U):(S=F=void 0,u)}function B(){var U=W(),R=n(U);if(S=arguments,F=this,p=U,R){if(O===void 0)return c(p);if(T)return O=setTimeout(C,ge),m(p)}return O===void 0&&(O=setTimeout(C,ge)),u}return ge=ue(ge)||0,ne(se)&&(E=!!se.leading,h=(T="maxWait"in se)?pe(ue(se.maxWait)||0,ge):h,l="trailing"in se?!!se.trailing:l),B.cancel=function(){O!==void 0&&clearTimeout(O),_=0,S=p=F=O=void 0},B.flush=function(){return O===void 0?u:D(W())},B}function ne($){var ge=typeof $;return!!$&&(ge=="object"||ge=="function")}function ue($){if(typeof $=="number")return $;if(function(S){return typeof S=="symbol"||function(F){return!!F&&typeof F=="object"}(S)&&te.call(S)=="[object Symbol]"}($))return NaN;if(ne($)){var ge=typeof $.valueOf=="function"?$.valueOf():$;$=ne(ge)?ge+"":ge}if(typeof $!="string")return $===0?$:+$;$=$.replace(i,"");var se=g.test($);return se||j.test($)?y($.slice(2),se?2:8):v.test($)?NaN:+$}le.exports=function($,ge,se){var S=!0,F=!0;if(typeof $!="function")throw new TypeError(x);return ne(se)&&(S="leading"in se?!!se.leading:S,F="trailing"in se?!!se.trailing:F),re($,ge,{leading:S,maxWait:ge,trailing:F})}},2891:function(le,K,o){var x;le=o.nmd(le),(function(){var i,v="Expected a function",g="__lodash_hash_undefined__",j="__lodash_placeholder__",y=16,V=32,ie=64,I=128,te=256,pe=1/0,fe=9007199254740991,W=NaN,re=4294967295,ne=[["ary",I],["bind",1],["bindKey",2],["curry",8],["curryRight",y],["flip",512],["partial",V],["partialRight",ie],["rearg",te]],ue="[object Arguments]",$="[object Array]",ge="[object Boolean]",se="[object Date]",S="[object Error]",F="[object Function]",h="[object GeneratorFunction]",u="[object Map]",O="[object Number]",p="[object Object]",_="[object Promise]",E="[object RegExp]",T="[object Set]",l="[object String]",m="[object Symbol]",c="[object WeakMap]",n="[object ArrayBuffer]",C="[object DataView]",D="[object Float32Array]",B="[object Float64Array]",U="[object Int8Array]",R="[object Int16Array]",b="[object Int32Array]",M="[object Uint8Array]",G="[object Uint8ClampedArray]",ae="[object Uint16Array]",ce="[object Uint32Array]",J=/\b__p \+= '';/g,Y=/\b(__p \+=) '' \+/g,oe=/(__e\(.*?\)|\b__t\)) \+\n'';/g,xe=/&(?:amp|lt|gt|quot|#39);/g,L=/[&<>"']/g,A=RegExp(xe.source),N=RegExp(L.source),z=/<%-([\s\S]+?)%>/g,ee=/<%([\s\S]+?)%>/g,ke=/<%=([\s\S]+?)%>/g,Oe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Q=/^\w*$/,Ce=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ne=/[\\^$.*+?()[\]{}|]/g,ze=RegExp(Ne.source),ot=/^\s+/,P=/\s/,ye=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,me=/\{\n\/\* \[wrapped with (.+)\] \*/,Pe=/,? & /,Ze=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Je=/[()=,{}\[\]\/\s]/,nt=/\\(\\)?/g,ft=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,pt=/\w*$/,et=/^[-+]0x[0-9a-f]+$/i,he=/^0b[01]+$/i,de=/^\[object .+?Constructor\]$/,_e=/^0o[0-7]+$/i,we=/^(?:0|[1-9]\d*)$/,Me=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Te=/($^)/,Le=/['\n\r\u2028\u2029\\]/g,Be="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",We="\\u2700-\\u27bf",Ge="a-z\\xdf-\\xf6\\xf8-\\xff",it="A-Z\\xc0-\\xd6\\xd8-\\xde",Re="\\ufe0e\\ufe0f",Xe="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",xt="['’]",st="[\\ud800-\\udfff]",Ot="["+Xe+"]",gt="["+Be+"]",kt="\\d+",It="[\\u2700-\\u27bf]",Mt="["+Ge+"]",Zt="[^\\ud800-\\udfff"+Xe+kt+We+Ge+it+"]",Nt="\\ud83c[\\udffb-\\udfff]",Ft="[^\\ud800-\\udfff]",on="(?:\\ud83c[\\udde6-\\uddff]){2}",Rt="[\\ud800-\\udbff][\\udc00-\\udfff]",qt="["+it+"]",Ht="(?:"+Mt+"|"+Zt+")",sn="(?:"+qt+"|"+Zt+")",wn="(?:['’](?:d|ll|m|re|s|t|ve))?",Sn="(?:['’](?:D|LL|M|RE|S|T|VE))?",Yn="(?:"+gt+"|"+Nt+")?",jn="[\\ufe0e\\ufe0f]?",er=jn+Yn+("(?:\\u200d(?:"+[Ft,on,Rt].join("|")+")"+jn+Yn+")*"),Cn="(?:"+[It,on,Rt].join("|")+")"+er,yr="(?:"+[Ft+gt+"?",gt,on,Rt,st].join("|")+")",Gn=RegExp(xt,"g"),eo=RegExp(gt,"g"),xr=RegExp(Nt+"(?="+Nt+")|"+yr+er,"g"),Qo=RegExp([qt+"?"+Mt+"+"+wn+"(?="+[Ot,qt,"$"].join("|")+")",sn+"+"+Sn+"(?="+[Ot,qt+Ht,"$"].join("|")+")",qt+"?"+Ht+"+"+wn,qt+"+"+Sn,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",kt,Cn].join("|"),"g"),Lo=RegExp("[\\u200d\\ud800-\\udfff"+Be+Re+"]"),to=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,sa=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],xo=-1,kn={};kn[D]=kn[B]=kn[U]=kn[R]=kn[b]=kn[M]=kn[G]=kn[ae]=kn[ce]=!0,kn[ue]=kn[$]=kn[n]=kn[ge]=kn[C]=kn[se]=kn[S]=kn[F]=kn[u]=kn[O]=kn[p]=kn[E]=kn[T]=kn[l]=kn[c]=!1;var mn={};mn[ue]=mn[$]=mn[n]=mn[C]=mn[ge]=mn[se]=mn[D]=mn[B]=mn[U]=mn[R]=mn[b]=mn[u]=mn[O]=mn[p]=mn[E]=mn[T]=mn[l]=mn[m]=mn[M]=mn[G]=mn[ae]=mn[ce]=!0,mn[S]=mn[F]=mn[c]=!1;var ua={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},da=parseFloat,hl=parseInt,no=typeof o.g=="object"&&o.g&&o.g.Object===Object&&o.g,wo=typeof self=="object"&&self&&self.Object===Object&&self,Zn=no||wo||Function("return this")(),Pi=K&&!K.nodeType&&K,ko=Pi&&le&&!le.nodeType&&le,Ai=ko&&ko.exports===Pi,jr=Ai&&no.process,lr=function(){try{var Ye=ko&&ko.require&&ko.require("util").types;return Ye||jr&&jr.binding&&jr.binding("util")}catch{}}(),Di=lr&&lr.isArrayBuffer,zi=lr&&lr.isDate,Ri=lr&&lr.isMap,fa=lr&&lr.isRegExp,pa=lr&&lr.isSet,ha=lr&&lr.isTypedArray;function Nn(Ye,lt,at){switch(at.length){case 0:return Ye.call(lt);case 1:return Ye.call(lt,at[0]);case 2:return Ye.call(lt,at[0],at[1]);case 3:return Ye.call(lt,at[0],at[1],at[2])}return Ye.apply(lt,at)}function ma(Ye,lt,at,yt){for(var $t=-1,fn=Ye==null?0:Ye.length;++$t<fn;){var In=Ye[$t];lt(yt,In,at(In),Ye)}return yt}function Bn(Ye,lt){for(var at=-1,yt=Ye==null?0:Ye.length;++at<yt&&lt(Ye[at],at,Ye)!==!1;);return Ye}function ei(Ye,lt){for(var at=Ye==null?0:Ye.length;at--&&lt(Ye[at],at,Ye)!==!1;);return Ye}function Zi(Ye,lt){for(var at=-1,yt=Ye==null?0:Ye.length;++at<yt;)if(!lt(Ye[at],at,Ye))return!1;return!0}function Ir(Ye,lt){for(var at=-1,yt=Ye==null?0:Ye.length,$t=0,fn=[];++at<yt;){var In=Ye[at];lt(In,at,Ye)&&(fn[$t++]=In)}return fn}function Po(Ye,lt){return!!(Ye!=null&&Ye.length)&&Ur(Ye,lt,0)>-1}function Ao(Ye,lt,at){for(var yt=-1,$t=Ye==null?0:Ye.length;++yt<$t;)if(at(lt,Ye[yt]))return!0;return!1}function _n(Ye,lt){for(var at=-1,yt=Ye==null?0:Ye.length,$t=Array(yt);++at<yt;)$t[at]=lt(Ye[at],at,Ye);return $t}function Tr(Ye,lt){for(var at=-1,yt=lt.length,$t=Ye.length;++at<yt;)Ye[$t+at]=lt[at];return Ye}function ti(Ye,lt,at,yt){var $t=-1,fn=Ye==null?0:Ye.length;for(yt&&fn&&(at=Ye[++$t]);++$t<fn;)at=lt(at,Ye[$t],$t,Ye);return at}function ga(Ye,lt,at,yt){var $t=Ye==null?0:Ye.length;for(yt&&$t&&(at=Ye[--$t]);$t--;)at=lt(at,Ye[$t],$t,Ye);return at}function ni(Ye,lt){for(var at=-1,yt=Ye==null?0:Ye.length;++at<yt;)if(lt(Ye[at],at,Ye))return!0;return!1}var Ni=ri("length");function Bi(Ye,lt,at){var yt;return at(Ye,function($t,fn,In){if(lt($t,fn,In))return yt=fn,!1}),yt}function Do(Ye,lt,at,yt){for(var $t=Ye.length,fn=at+(yt?1:-1);yt?fn--:++fn<$t;)if(lt(Ye[fn],fn,Ye))return fn;return-1}function Ur(Ye,lt,at){return lt==lt?function(yt,$t,fn){for(var In=fn-1,pr=yt.length;++In<pr;)if(yt[In]===$t)return In;return-1}(Ye,lt,at):Do(Ye,Hi,at)}function va(Ye,lt,at,yt){for(var $t=at-1,fn=Ye.length;++$t<fn;)if(yt(Ye[$t],lt))return $t;return-1}function Hi(Ye){return Ye!=Ye}function Wi(Ye,lt){var at=Ye==null?0:Ye.length;return at?oi(Ye,lt)/at:W}function ri(Ye){return function(lt){return lt==null?i:lt[Ye]}}function tr(Ye){return function(lt){return Ye==null?i:Ye[lt]}}function ba(Ye,lt,at,yt,$t){return $t(Ye,function(fn,In,pr){at=yt?(yt=!1,fn):lt(at,fn,In,pr)}),at}function oi(Ye,lt){for(var at,yt=-1,$t=Ye.length;++yt<$t;){var fn=lt(Ye[yt]);fn!==i&&(at=at===i?fn:at+fn)}return at}function ii(Ye,lt){for(var at=-1,yt=Array(Ye);++at<Ye;)yt[at]=lt(at);return yt}function Ui(Ye){return Ye&&Ye.slice(0,Ki(Ye)+1).replace(ot,"")}function Xn(Ye){return function(lt){return Ye(lt)}}function nr(Ye,lt){return _n(lt,function(at){return Ye[at]})}function ro(Ye,lt){return Ye.has(lt)}function ya(Ye,lt){for(var at=-1,yt=Ye.length;++at<yt&&Ur(lt,Ye[at],0)>-1;);return at}function Fr(Ye,lt){for(var at=Ye.length;at--&&Ur(lt,Ye[at],0)>-1;);return at}function ai(Ye,lt){for(var at=Ye.length,yt=0;at--;)Ye[at]===lt&&++yt;return yt}var xa=tr({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),wa=tr({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function ka(Ye){return"\\"+ua[Ye]}function oo(Ye){return Lo.test(Ye)}function li(Ye){var lt=-1,at=Array(Ye.size);return Ye.forEach(function(yt,$t){at[++lt]=[$t,yt]}),at}function Fi(Ye,lt){return function(at){return Ye(lt(at))}}function Kr(Ye,lt){for(var at=-1,yt=Ye.length,$t=0,fn=[];++at<yt;){var In=Ye[at];In!==lt&&In!==j||(Ye[at]=j,fn[$t++]=at)}return fn}function ci(Ye){var lt=-1,at=Array(Ye.size);return Ye.forEach(function(yt){at[++lt]=yt}),at}function ml(Ye){var lt=-1,at=Array(Ye.size);return Ye.forEach(function(yt){at[++lt]=[yt,yt]}),at}function Mr(Ye){return oo(Ye)?function(lt){for(var at=xr.lastIndex=0;xr.test(lt);)++at;return at}(Ye):Ni(Ye)}function rr(Ye){return oo(Ye)?function(lt){return lt.match(xr)||[]}(Ye):function(lt){return lt.split("")}(Ye)}function Ki(Ye){for(var lt=Ye.length;lt--&&P.test(Ye.charAt(lt)););return lt}var si=tr({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),ui=function Ye(lt){var at,yt=(lt=lt==null?Zn:ui.defaults(Zn.Object(),lt,ui.pick(Zn,sa))).Array,$t=lt.Date,fn=lt.Error,In=lt.Function,pr=lt.Math,En=lt.Object,di=lt.RegExp,_a=lt.String,or=lt.TypeError,fi=yt.prototype,Ea=In.prototype,io=En.prototype,wr=lt["__core-js_shared__"],pi=Ea.toString,vn=io.hasOwnProperty,cr=0,Sa=(at=/[^.]+$/.exec(wr&&wr.keys&&wr.keys.IE_PROTO||""))?"Symbol(src)_1."+at:"",hi=io.toString,Ca=pi.call(En),Vi=Zn._,gl=di("^"+pi.call(vn).replace(Ne,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),mi=Ai?lt.Buffer:i,Lr=lt.Symbol,zo=lt.Uint8Array,kr=mi?mi.allocUnsafe:i,gi=Fi(En.getPrototypeOf,En),Yi=En.create,Gi=io.propertyIsEnumerable,vi=fi.splice,Xi=Lr?Lr.isConcatSpreadable:i,_o=Lr?Lr.iterator:i,qn=Lr?Lr.toStringTag:i,Pr=function(){try{var t=Yo(En,"defineProperty");return t({},"",{}),t}catch{}}(),Oa=lt.clearTimeout!==Zn.clearTimeout&&lt.clearTimeout,vl=$t&&$t.now!==Zn.Date.now&&$t.now,ja=lt.setTimeout!==Zn.setTimeout&&lt.setTimeout,Ro=pr.ceil,Zo=pr.floor,bi=En.getOwnPropertySymbols,Ia=mi?mi.isBuffer:i,Ta=lt.isFinite,bl=fi.join,Ma=Fi(En.keys,En),Ln=pr.max,Hn=pr.min,yl=$t.now,xl=lt.parseInt,La=pr.random,Pa=fi.reverse,No=Yo(lt,"DataView"),Ct=Yo(lt,"Map"),qi=Yo(lt,"Promise"),Eo=Yo(lt,"Set"),So=Yo(lt,"WeakMap"),Bo=Yo(En,"create"),yi=So&&new So,ao={},Aa=Go(No),Da=Go(Ct),wl=Go(qi),za=Go(Eo),xi=Go(So),wi=Lr?Lr.prototype:i,Co=wi?wi.valueOf:i,ki=wi?wi.toString:i;function Ee(t){if(Mn(t)&&!rn(t)&&!(t instanceof un)){if(t instanceof sr)return t;if(vn.call(t,"__wrapped__"))return gc(t)}return new sr(t)}var Oo=function(){function t(){}return function(r){if(!On(r))return{};if(Yi)return Yi(r);t.prototype=r;var f=new t;return t.prototype=i,f}}();function _i(){}function sr(t,r){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!r,this.__index__=0,this.__values__=i}function un(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=re,this.__views__=[]}function lo(t){var r=-1,f=t==null?0:t.length;for(this.clear();++r<f;){var H=t[r];this.set(H[0],H[1])}}function _r(t){var r=-1,f=t==null?0:t.length;for(this.clear();++r<f;){var H=t[r];this.set(H[0],H[1])}}function Ar(t){var r=-1,f=t==null?0:t.length;for(this.clear();++r<f;){var H=t[r];this.set(H[0],H[1])}}function co(t){var r=-1,f=t==null?0:t.length;for(this.__data__=new Ar;++r<f;)this.add(t[r])}function hr(t){var r=this.__data__=new _r(t);this.size=r.size}function Ra(t,r){var f=rn(t),H=!f&&Xo(t),be=!f&&!H&&To(t),je=!f&&!H&&!be&&Ii(t),De=f||H||be||je,He=De?ii(t.length,_a):[],Ve=He.length;for(var ut in t)!r&&!vn.call(t,ut)||De&&(ut=="length"||be&&(ut=="offset"||ut=="parent")||je&&(ut=="buffer"||ut=="byteLength"||ut=="byteOffset")||go(ut,Ve))||He.push(ut);return He}function Za(t){var r=t.length;return r?t[q(0,r-1)]:i}function kl(t,r){return qa(gn(t),so(r,0,t.length))}function Na(t){return qa(gn(t))}function $i(t,r,f){(f!==i&&!Hr(t[r],f)||f===i&&!(r in t))&&Dr(t,r,f)}function Ho(t,r,f){var H=t[r];vn.call(t,r)&&Hr(H,f)&&(f!==i||r in t)||Dr(t,r,f)}function Ei(t,r){for(var f=t.length;f--;)if(Hr(t[f][0],r))return f;return-1}function Ba(t,r,f,H){return Yr(t,function(be,je,De){r(H,be,f(be),De)}),H}function Ha(t,r){return t&&Tn(r,Kn(r),t)}function Dr(t,r,f){r=="__proto__"&&Pr?Pr(t,r,{configurable:!0,enumerable:!0,value:f,writable:!0}):t[r]=f}function Ji(t,r){for(var f=-1,H=r.length,be=yt(H),je=t==null;++f<H;)be[f]=je?i:Bl(t,r[f]);return be}function so(t,r,f){return t==t&&(f!==i&&(t=t<=f?t:f),r!==i&&(t=t>=r?t:r)),t}function ir(t,r,f,H,be,je){var De,He=1&r,Ve=2&r,ut=4&r;if(f&&(De=be?f(t,H,be,je):f(t)),De!==i)return De;if(!On(t))return t;var ct=rn(t);if(ct){if(De=function(dt){var vt=dt.length,Gt=new dt.constructor(vt);return vt&&typeof dt[0]=="string"&&vn.call(dt,"index")&&(Gt.index=dt.index,Gt.input=dt.input),Gt}(t),!He)return gn(t,De)}else{var mt=Qn(t),Pt=mt==F||mt==h;if(To(t))return Kt(t,He);if(mt==p||mt==ue||Pt&&!be){if(De=Ve||Pt?{}:lc(t),!He)return Ve?function(dt,vt){return Tn(dt,ic(dt),vt)}(t,function(dt,vt){return dt&&Tn(vt,dr(vt),dt)}(De,t)):function(dt,vt){return Tn(dt,Il(dt),vt)}(t,Ha(De,t))}else{if(!mn[mt])return be?t:{};De=function(dt,vt,Gt){var Tt=dt.constructor;switch(vt){case n:return dn(dt);case ge:case se:return new Tt(+dt);case C:return function(Qt,pn){var Bt=pn?dn(Qt.buffer):Qt.buffer;return new Qt.constructor(Bt,Qt.byteOffset,Qt.byteLength)}(dt,Gt);case D:case B:case U:case R:case b:case M:case G:case ae:case ce:return Dt(dt,Gt);case u:case T:return new Tt;case O:case l:return new Tt(dt);case E:return function(Qt){var pn=new Qt.constructor(Qt.source,pt.exec(Qt));return pn.lastIndex=Qt.lastIndex,pn}(dt);case m:return Xt=dt,Co?En(Co.call(Xt)):{}}var Xt}(t,mt,He)}}je||(je=new hr);var zt=je.get(t);if(zt)return zt;je.set(t,De),Ac(t)?t.forEach(function(dt){De.add(ir(dt,r,f,dt,t,je))}):Lc(t)&&t.forEach(function(dt,vt){De.set(vt,ir(dt,r,f,vt,t,je))});var Ut=ct?i:(ut?Ve?Cl:Sl:Ve?dr:Kn)(t);return Bn(Ut||t,function(dt,vt){Ut&&(dt=t[vt=dt]),Ho(De,vt,ir(dt,r,f,vt,t,je))}),De}function Qi(t,r,f){var H=f.length;if(t==null)return!H;for(t=En(t);H--;){var be=f[H],je=r[be],De=t[be];if(De===i&&!(be in t)||!je(De))return!1}return!0}function ea(t,r,f){if(typeof t!="function")throw new or(v);return aa(function(){t.apply(i,f)},r)}function Vr(t,r,f,H){var be=-1,je=Po,De=!0,He=t.length,Ve=[],ut=r.length;if(!He)return Ve;f&&(r=_n(r,Xn(f))),H?(je=Ao,De=!1):r.length>=200&&(je=ro,De=!1,r=new co(r));e:for(;++be<He;){var ct=t[be],mt=f==null?ct:f(ct);if(ct=H||ct!==0?ct:0,De&&mt==mt){for(var Pt=ut;Pt--;)if(r[Pt]===mt)continue e;Ve.push(ct)}else je(r,mt,H)||Ve.push(ct)}return Ve}Ee.templateSettings={escape:z,evaluate:ee,interpolate:ke,variable:"",imports:{_:Ee}},Ee.prototype=_i.prototype,Ee.prototype.constructor=Ee,sr.prototype=Oo(_i.prototype),sr.prototype.constructor=sr,un.prototype=Oo(_i.prototype),un.prototype.constructor=un,lo.prototype.clear=function(){this.__data__=Bo?Bo(null):{},this.size=0},lo.prototype.delete=function(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r},lo.prototype.get=function(t){var r=this.__data__;if(Bo){var f=r[t];return f===g?i:f}return vn.call(r,t)?r[t]:i},lo.prototype.has=function(t){var r=this.__data__;return Bo?r[t]!==i:vn.call(r,t)},lo.prototype.set=function(t,r){var f=this.__data__;return this.size+=this.has(t)?0:1,f[t]=Bo&&r===i?g:r,this},_r.prototype.clear=function(){this.__data__=[],this.size=0},_r.prototype.delete=function(t){var r=this.__data__,f=Ei(r,t);return!(f<0)&&(f==r.length-1?r.pop():vi.call(r,f,1),--this.size,!0)},_r.prototype.get=function(t){var r=this.__data__,f=Ei(r,t);return f<0?i:r[f][1]},_r.prototype.has=function(t){return Ei(this.__data__,t)>-1},_r.prototype.set=function(t,r){var f=this.__data__,H=Ei(f,t);return H<0?(++this.size,f.push([t,r])):f[H][1]=r,this},Ar.prototype.clear=function(){this.size=0,this.__data__={hash:new lo,map:new(Ct||_r),string:new lo}},Ar.prototype.delete=function(t){var r=Xa(this,t).delete(t);return this.size-=r?1:0,r},Ar.prototype.get=function(t){return Xa(this,t).get(t)},Ar.prototype.has=function(t){return Xa(this,t).has(t)},Ar.prototype.set=function(t,r){var f=Xa(this,t),H=f.size;return f.set(t,r),this.size+=f.size==H?0:1,this},co.prototype.add=co.prototype.push=function(t){return this.__data__.set(t,g),this},co.prototype.has=function(t){return this.__data__.has(t)},hr.prototype.clear=function(){this.__data__=new _r,this.size=0},hr.prototype.delete=function(t){var r=this.__data__,f=r.delete(t);return this.size=r.size,f},hr.prototype.get=function(t){return this.__data__.get(t)},hr.prototype.has=function(t){return this.__data__.has(t)},hr.prototype.set=function(t,r){var f=this.__data__;if(f instanceof _r){var H=f.__data__;if(!Ct||H.length<199)return H.push([t,r]),this.size=++f.size,this;f=this.__data__=new Ar(H)}return f.set(t,r),this.size=f.size,this};var Yr=gr(mr),Wa=gr(Si,!0);function Ua(t,r){var f=!0;return Yr(t,function(H,be,je){return f=!!r(H,be,je)}),f}function Wo(t,r,f){for(var H=-1,be=t.length;++H<be;){var je=t[H],De=r(je);if(De!=null&&(He===i?De==De&&!vr(De):f(De,He)))var He=De,Ve=je}return Ve}function ta(t,r){var f=[];return Yr(t,function(H,be,je){r(H,be,je)&&f.push(H)}),f}function zn(t,r,f,H,be){var je=-1,De=t.length;for(f||(f=ns),be||(be=[]);++je<De;){var He=t[je];r>0&&f(He)?r>1?zn(He,r-1,f,H,be):Tr(be,He):H||(be[be.length]=He)}return be}var ht=Nr(),Fa=Nr(!0);function mr(t,r){return t&&ht(t,r,Kn)}function Si(t,r){return t&&Fa(t,r,Kn)}function Fn(t,r){return Ir(r,function(f){return vo(t[f])})}function Gr(t,r){for(var f=0,H=(r=Rn(r,t)).length;t!=null&&f<H;)t=t[qr(r[f++])];return f&&f==H?t:i}function Uo(t,r,f){var H=r(t);return rn(t)?H:Tr(H,f(t))}function Pn(t){return t==null?t===i?"[object Undefined]":"[object Null]":qn&&qn in En(t)?function(r){var f=vn.call(r,qn),H=r[qn];try{r[qn]=i;var be=!0}catch{}var je=hi.call(r);return be&&(f?r[qn]=H:delete r[qn]),je}(t):function(r){return hi.call(r)}(t)}function Fo(t,r){return t>r}function uo(t,r){return t!=null&&vn.call(t,r)}function fo(t,r){return t!=null&&r in En(t)}function zr(t,r,f){for(var H=f?Ao:Po,be=t[0].length,je=t.length,De=je,He=yt(je),Ve=1/0,ut=[];De--;){var ct=t[De];De&&r&&(ct=_n(ct,Xn(r))),Ve=Hn(ct.length,Ve),He[De]=!f&&(r||be>=120&&ct.length>=120)?new co(De&&ct):i}ct=t[0];var mt=-1,Pt=He[0];e:for(;++mt<be&&ut.length<Ve;){var zt=ct[mt],Ut=r?r(zt):zt;if(zt=f||zt!==0?zt:0,!(Pt?ro(Pt,Ut):H(ut,Ut,f))){for(De=je;--De;){var dt=He[De];if(!(dt?ro(dt,Ut):H(t[De],Ut,f)))continue e}Pt&&Pt.push(Ut),ut.push(zt)}}return ut}function Rr(t,r,f){var H=(t=dc(t,r=Rn(r,t)))==null?t:t[qr(Cr(r))];return H==null?i:Nn(H,t,f)}function Ci(t){return Mn(t)&&Pn(t)==ue}function po(t,r,f,H,be){return t===r||(t==null||r==null||!Mn(t)&&!Mn(r)?t!=t&&r!=r:function(je,De,He,Ve,ut,ct){var mt=rn(je),Pt=rn(De),zt=mt?$:Qn(je),Ut=Pt?$:Qn(De),dt=(zt=zt==ue?p:zt)==p,vt=(Ut=Ut==ue?p:Ut)==p,Gt=zt==Ut;if(Gt&&To(je)){if(!To(De))return!1;mt=!0,dt=!1}if(Gt&&!dt)return ct||(ct=new hr),mt||Ii(je)?oc(je,De,He,Ve,ut,ct):function(Bt,Vt,Wn,br,$r,Un,yo){switch(Wn){case C:if(Bt.byteLength!=Vt.byteLength||Bt.byteOffset!=Vt.byteOffset)return!1;Bt=Bt.buffer,Vt=Vt.buffer;case n:return!(Bt.byteLength!=Vt.byteLength||!Un(new zo(Bt),new zo(Vt)));case ge:case se:case O:return Hr(+Bt,+Vt);case S:return Bt.name==Vt.name&&Bt.message==Vt.message;case E:case l:return Bt==Vt+"";case u:var Mo=li;case T:var ca=1&br;if(Mo||(Mo=ci),Bt.size!=Vt.size&&!ca)return!1;var il=yo.get(Bt);if(il)return il==Vt;br|=2,yo.set(Bt,Vt);var Mi=oc(Mo(Bt),Mo(Vt),br,$r,Un,yo);return yo.delete(Bt),Mi;case m:if(Co)return Co.call(Bt)==Co.call(Vt)}return!1}(je,De,zt,He,Ve,ut,ct);if(!(1&He)){var Tt=dt&&vn.call(je,"__wrapped__"),Xt=vt&&vn.call(De,"__wrapped__");if(Tt||Xt){var Qt=Tt?je.value():je,pn=Xt?De.value():De;return ct||(ct=new hr),ut(Qt,pn,He,Ve,ct)}}return Gt?(ct||(ct=new hr),function(Bt,Vt,Wn,br,$r,Un){var yo=1&Wn,Mo=Sl(Bt),ca=Mo.length,il=Sl(Vt).length;if(ca!=il&&!yo)return!1;for(var Mi=ca;Mi--;){var qo=Mo[Mi];if(!(yo?qo in Vt:vn.call(Vt,qo)))return!1}var Gc=Un.get(Bt),Xc=Un.get(Vt);if(Gc&&Xc)return Gc==Vt&&Xc==Bt;var al=!0;Un.set(Bt,Vt),Un.set(Vt,Bt);for(var ql=yo;++Mi<ca;){var ll=Bt[qo=Mo[Mi]],cl=Vt[qo];if(br)var qc=yo?br(cl,ll,qo,Vt,Bt,Un):br(ll,cl,qo,Bt,Vt,Un);if(!(qc===i?ll===cl||$r(ll,cl,Wn,br,Un):qc)){al=!1;break}ql||(ql=qo=="constructor")}if(al&&!ql){var sl=Bt.constructor,ul=Vt.constructor;sl==ul||!("constructor"in Bt)||!("constructor"in Vt)||typeof sl=="function"&&sl instanceof sl&&typeof ul=="function"&&ul instanceof ul||(al=!1)}return Un.delete(Bt),Un.delete(Vt),al}(je,De,He,Ve,ut,ct)):!1}(t,r,f,H,po,be))}function Er(t,r,f,H){var be=f.length,je=be,De=!H;if(t==null)return!je;for(t=En(t);be--;){var He=f[be];if(De&&He[2]?He[1]!==t[He[0]]:!(He[0]in t))return!1}for(;++be<je;){var Ve=(He=f[be])[0],ut=t[Ve],ct=He[1];if(De&&He[2]){if(ut===i&&!(Ve in t))return!1}else{var mt=new hr;if(H)var Pt=H(ut,ct,Ve,t,r,mt);if(!(Pt===i?po(ct,ut,3,H,mt):Pt))return!1}}return!0}function jo(t){return!(!On(t)||(r=t,Sa&&Sa in r))&&(vo(t)?gl:de).test(Go(t));var r}function Zr(t){return typeof t=="function"?t:t==null?fr:typeof t=="object"?rn(t)?a(t[0],t[1]):e(t):Yc(t)}function hn(t){if(!ia(t))return Ma(t);var r=[];for(var f in En(t))vn.call(t,f)&&f!="constructor"&&r.push(f);return r}function na(t){if(!On(t))return function(be){var je=[];if(be!=null)for(var De in En(be))je.push(De);return je}(t);var r=ia(t),f=[];for(var H in t)(H!="constructor"||!r&&vn.call(t,H))&&f.push(H);return f}function ra(t,r){return t<r}function Ka(t,r){var f=-1,H=ur(t)?yt(t.length):[];return Yr(t,function(be,je,De){H[++f]=r(be,je,De)}),H}function e(t){var r=jl(t);return r.length==1&&r[0][2]?sc(r[0][0],r[0][1]):function(f){return f===t||Er(f,t,r)}}function a(t,r){return Tl(t)&&cc(r)?sc(qr(t),r):function(f){var H=Bl(f,t);return H===i&&H===r?Hl(f,t):po(r,H,3)}}function s(t,r,f,H,be){t!==r&&ht(r,function(je,De){if(be||(be=new hr),On(je))(function(Ve,ut,ct,mt,Pt,zt,Ut){var dt=Ll(Ve,ct),vt=Ll(ut,ct),Gt=Ut.get(vt);if(Gt)return void $i(Ve,ct,Gt);var Tt=zt?zt(dt,vt,ct+"",Ve,ut,Ut):i,Xt=Tt===i;if(Xt){var Qt=rn(vt),pn=!Qt&&To(vt),Bt=!Qt&&!pn&&Ii(vt);Tt=vt,Qt||pn||Bt?rn(dt)?Tt=dt:Dn(dt)?Tt=gn(dt):pn?(Xt=!1,Tt=Kt(vt,!0)):Bt?(Xt=!1,Tt=Dt(vt,!0)):Tt=[]:la(vt)||Xo(vt)?(Tt=dt,Xo(dt)?Tt=Rc(dt):On(dt)&&!vo(dt)||(Tt=lc(vt))):Xt=!1}Xt&&(Ut.set(vt,Tt),Pt(Tt,vt,mt,zt,Ut),Ut.delete(vt)),$i(Ve,ct,Tt)})(t,r,De,f,s,H,be);else{var He=H?H(Ll(t,De),je,De+"",t,r,be):i;He===i&&(He=je),$i(t,De,He)}},dr)}function d(t,r){var f=t.length;if(f)return go(r+=r<0?f:0,f)?t[r]:i}function Z(t,r,f){r=r.length?_n(r,function(je){return rn(je)?function(De){return Gr(De,je.length===1?je[0]:je)}:je}):[fr];var H=-1;r=_n(r,Xn(Wt()));var be=Ka(t,function(je,De,He){var Ve=_n(r,function(ut){return ut(je)});return{criteria:Ve,index:++H,value:je}});return function(je,De){var He=je.length;for(je.sort(De);He--;)je[He]=je[He].value;return je}(be,function(je,De){return function(He,Ve,ut){for(var ct=-1,mt=He.criteria,Pt=Ve.criteria,zt=mt.length,Ut=ut.length;++ct<zt;){var dt=nn(mt[ct],Pt[ct]);if(dt)return ct>=Ut?dt:dt*(ut[ct]=="desc"?-1:1)}return He.index-Ve.index}(je,De,f)})}function k(t,r,f){for(var H=-1,be=r.length,je={};++H<be;){var De=r[H],He=Gr(t,De);f(He,De)&&Fe(je,Rn(De,t),He)}return je}function w(t,r,f,H){var be=H?va:Ur,je=-1,De=r.length,He=t;for(t===r&&(r=gn(r)),f&&(He=_n(t,Xn(f)));++je<De;)for(var Ve=0,ut=r[je],ct=f?f(ut):ut;(Ve=be(He,ct,Ve,H))>-1;)He!==t&&vi.call(He,Ve,1),vi.call(t,Ve,1);return t}function X(t,r){for(var f=t?r.length:0,H=f-1;f--;){var be=r[f];if(f==H||be!==je){var je=be;go(be)?vi.call(t,be,1):_t(t,be)}}return t}function q(t,r){return t+Zo(La()*(r-t+1))}function Se(t,r){var f="";if(!t||r<1||r>fe)return f;do r%2&&(f+=t),(r=Zo(r/2))&&(t+=t);while(r);return f}function ve(t,r){return Pl(uc(t,r,fr),t+"")}function Ie(t){return Za(Ti(t))}function Ae(t,r){var f=Ti(t);return qa(f,so(r,0,f.length))}function Fe(t,r,f,H){if(!On(t))return t;for(var be=-1,je=(r=Rn(r,t)).length,De=je-1,He=t;He!=null&&++be<je;){var Ve=qr(r[be]),ut=f;if(Ve==="__proto__"||Ve==="constructor"||Ve==="prototype")return t;if(be!=De){var ct=He[Ve];(ut=H?H(ct,Ve,He):i)===i&&(ut=On(ct)?ct:go(r[be+1])?[]:{})}Ho(He,Ve,ut),He=He[Ve]}return t}var Ue=yi?function(t,r){return yi.set(t,r),t}:fr,Ke=Pr?function(t,r){return Pr(t,"toString",{configurable:!0,enumerable:!1,value:Ul(r),writable:!0})}:fr;function tt(t){return qa(Ti(t))}function qe(t,r,f){var H=-1,be=t.length;r<0&&(r=-r>be?0:be+r),(f=f>be?be:f)<0&&(f+=be),be=r>f?0:f-r>>>0,r>>>=0;for(var je=yt(be);++H<be;)je[H]=t[H+r];return je}function Qe(t,r){var f;return Yr(t,function(H,be,je){return!(f=r(H,be,je))}),!!f}function $e(t,r,f){var H=0,be=t==null?H:t.length;if(typeof r=="number"&&r==r&&be<=2147483647){for(;H<be;){var je=H+be>>>1,De=t[je];De!==null&&!vr(De)&&(f?De<=r:De<r)?H=je+1:be=je}return be}return rt(t,r,fr,f)}function rt(t,r,f,H){var be=0,je=t==null?0:t.length;if(je===0)return 0;for(var De=(r=f(r))!=r,He=r===null,Ve=vr(r),ut=r===i;be<je;){var ct=Zo((be+je)/2),mt=f(t[ct]),Pt=mt!==i,zt=mt===null,Ut=mt==mt,dt=vr(mt);if(De)var vt=H||Ut;else vt=ut?Ut&&(H||Pt):He?Ut&&Pt&&(H||!zt):Ve?Ut&&Pt&&!zt&&(H||!dt):!zt&&!dt&&(H?mt<=r:mt<r);vt?be=ct+1:je=ct}return Hn(je,4294967294)}function jt(t,r){for(var f=-1,H=t.length,be=0,je=[];++f<H;){var De=t[f],He=r?r(De):De;if(!f||!Hr(He,Ve)){var Ve=He;je[be++]=De===0?0:De}}return je}function At(t){return typeof t=="number"?t:vr(t)?W:+t}function St(t){if(typeof t=="string")return t;if(rn(t))return _n(t,St)+"";if(vr(t))return ki?ki.call(t):"";var r=t+"";return r=="0"&&1/t==-1/0?"-0":r}function wt(t,r,f){var H=-1,be=Po,je=t.length,De=!0,He=[],Ve=He;if(f)De=!1,be=Ao;else if(je>=200){var ut=r?null:es(t);if(ut)return ci(ut);De=!1,be=ro,Ve=new co}else Ve=r?[]:He;e:for(;++H<je;){var ct=t[H],mt=r?r(ct):ct;if(ct=f||ct!==0?ct:0,De&&mt==mt){for(var Pt=Ve.length;Pt--;)if(Ve[Pt]===mt)continue e;r&&Ve.push(mt),He.push(ct)}else be(Ve,mt,f)||(Ve!==He&&Ve.push(mt),He.push(ct))}return He}function _t(t,r){return(t=dc(t,r=Rn(r,t)))==null||delete t[qr(Cr(r))]}function bt(t,r,f,H){return Fe(t,r,f(Gr(t,r)),H)}function en(t,r,f,H){for(var be=t.length,je=H?be:-1;(H?je--:++je<be)&&r(t[je],je,t););return f?qe(t,H?0:je,H?je+1:be):qe(t,H?je+1:0,H?be:je)}function Et(t,r){var f=t;return f instanceof un&&(f=f.value()),ti(r,function(H,be){return be.func.apply(be.thisArg,Tr([H],be.args))},f)}function cn(t,r,f){var H=t.length;if(H<2)return H?wt(t[0]):[];for(var be=-1,je=yt(H);++be<H;)for(var De=t[be],He=-1;++He<H;)He!=be&&(je[be]=Vr(je[be]||De,t[He],r,f));return wt(zn(je,1),r,f)}function yn(t,r,f){for(var H=-1,be=t.length,je=r.length,De={};++H<be;){var He=H<je?r[H]:i;f(De,t[H],He)}return De}function Vn(t){return Dn(t)?t:[]}function $n(t){return typeof t=="function"?t:fr}function Rn(t,r){return rn(t)?t:Tl(t,r)?[t]:mc(xn(t))}var an=ve;function Yt(t,r,f){var H=t.length;return f=f===i?H:f,!r&&f>=H?t:qe(t,r,f)}var tn=Oa||function(t){return Zn.clearTimeout(t)};function Kt(t,r){if(r)return t.slice();var f=t.length,H=kr?kr(f):new t.constructor(f);return t.copy(H),H}function dn(t){var r=new t.constructor(t.byteLength);return new zo(r).set(new zo(t)),r}function Dt(t,r){var f=r?dn(t.buffer):t.buffer;return new t.constructor(f,t.byteOffset,t.length)}function nn(t,r){if(t!==r){var f=t!==i,H=t===null,be=t==t,je=vr(t),De=r!==i,He=r===null,Ve=r==r,ut=vr(r);if(!He&&!ut&&!je&&t>r||je&&De&&Ve&&!He&&!ut||H&&De&&Ve||!f&&Ve||!be)return 1;if(!H&&!je&&!ut&&t<r||ut&&f&&be&&!H&&!je||He&&f&&be||!De&&be||!Ve)return-1}return 0}function bn(t,r,f,H){for(var be=-1,je=t.length,De=f.length,He=-1,Ve=r.length,ut=Ln(je-De,0),ct=yt(Ve+ut),mt=!H;++He<Ve;)ct[He]=r[He];for(;++be<De;)(mt||be<je)&&(ct[f[be]]=t[be]);for(;ut--;)ct[He++]=t[be++];return ct}function Jt(t,r,f,H){for(var be=-1,je=t.length,De=-1,He=f.length,Ve=-1,ut=r.length,ct=Ln(je-He,0),mt=yt(ct+ut),Pt=!H;++be<ct;)mt[be]=t[be];for(var zt=be;++Ve<ut;)mt[zt+Ve]=r[Ve];for(;++De<He;)(Pt||be<je)&&(mt[zt+f[De]]=t[be++]);return mt}function gn(t,r){var f=-1,H=t.length;for(r||(r=yt(H));++f<H;)r[f]=t[f];return r}function Tn(t,r,f,H){var be=!f;f||(f={});for(var je=-1,De=r.length;++je<De;){var He=r[je],Ve=H?H(f[He],t[He],He,f,t):i;Ve===i&&(Ve=t[He]),be?Dr(f,He,Ve):Ho(f,He,Ve)}return f}function Sr(t,r){return function(f,H){var be=rn(f)?ma:Ba,je=r?r():{};return be(f,t,Wt(H,2),je)}}function Jn(t){return ve(function(r,f){var H=-1,be=f.length,je=be>1?f[be-1]:i,De=be>2?f[2]:i;for(je=t.length>3&&typeof je=="function"?(be--,je):i,De&&ar(f[0],f[1],De)&&(je=be<3?i:je,be=1),r=En(r);++H<be;){var He=f[H];He&&t(r,He,H,je)}return r})}function gr(t,r){return function(f,H){if(f==null)return f;if(!ur(f))return t(f,H);for(var be=f.length,je=r?be:-1,De=En(f);(r?je--:++je<be)&&H(De[je],je,De)!==!1;);return f}}function Nr(t){return function(r,f,H){for(var be=-1,je=En(r),De=H(r),He=De.length;He--;){var Ve=De[t?He:++be];if(f(je[Ve],Ve,je)===!1)break}return r}}function Xr(t){return function(r){var f=oo(r=xn(r))?rr(r):i,H=f?f[0]:r.charAt(0),be=f?Yt(f,1).join(""):r.slice(1);return H[t]()+be}}function Br(t){return function(r){return ti(Kc(Fc(r).replace(Gn,"")),t,"")}}function Io(t){return function(){var r=arguments;switch(r.length){case 0:return new t;case 1:return new t(r[0]);case 2:return new t(r[0],r[1]);case 3:return new t(r[0],r[1],r[2]);case 4:return new t(r[0],r[1],r[2],r[3]);case 5:return new t(r[0],r[1],r[2],r[3],r[4]);case 6:return new t(r[0],r[1],r[2],r[3],r[4],r[5]);case 7:return new t(r[0],r[1],r[2],r[3],r[4],r[5],r[6])}var f=Oo(t.prototype),H=t.apply(f,r);return On(H)?H:f}}function oa(t){return function(r,f,H){var be=En(r);if(!ur(r)){var je=Wt(f,3);r=Kn(r),f=function(He){return je(be[He],He,be)}}var De=t(r,f,H);return De>-1?be[je?r[De]:De]:i}}function Ko(t){return mo(function(r){var f=r.length,H=f,be=sr.prototype.thru;for(t&&r.reverse();H--;){var je=r[H];if(typeof je!="function")throw new or(v);if(be&&!De&&Ga(je)=="wrapper")var De=new sr([],!0)}for(H=De?H:f;++H<f;){var He=Ga(je=r[H]),Ve=He=="wrapper"?Ol(je):i;De=Ve&&Ml(Ve[0])&&Ve[1]==424&&!Ve[4].length&&Ve[9]==1?De[Ga(Ve[0])].apply(De,Ve[3]):je.length==1&&Ml(je)?De[He]():De.thru(je)}return function(){var ut=arguments,ct=ut[0];if(De&&ut.length==1&&rn(ct))return De.plant(ct).value();for(var mt=0,Pt=f?r[mt].apply(this,ut):ct;++mt<f;)Pt=r[mt].call(this,Pt);return Pt}})}function An(t,r,f,H,be,je,De,He,Ve,ut){var ct=r&I,mt=1&r,Pt=2&r,zt=24&r,Ut=512&r,dt=Pt?i:Io(t);return function vt(){for(var Gt=arguments.length,Tt=yt(Gt),Xt=Gt;Xt--;)Tt[Xt]=arguments[Xt];if(zt)var Qt=ji(vt),pn=ai(Tt,Qt);if(H&&(Tt=bn(Tt,H,be,zt)),je&&(Tt=Jt(Tt,je,De,zt)),Gt-=pn,zt&&Gt<ut){var Bt=Kr(Tt,Qt);return ec(t,r,An,vt.placeholder,f,Tt,Bt,He,Ve,ut-Gt)}var Vt=mt?f:this,Wn=Pt?Vt[t]:t;return Gt=Tt.length,He?Tt=os(Tt,He):Ut&&Gt>1&&Tt.reverse(),ct&&Ve<Gt&&(Tt.length=Ve),this&&this!==Zn&&this instanceof vt&&(Wn=dt||Io(Wn)),Wn.apply(Vt,Tt)}}function Vo(t,r){return function(f,H){return function(be,je,De,He){return mr(be,function(Ve,ut,ct){je(He,De(Ve),ut,ct)}),He}(f,t,r(H),{})}}function Oi(t,r){return function(f,H){var be;if(f===i&&H===i)return r;if(f!==i&&(be=f),H!==i){if(be===i)return H;typeof f=="string"||typeof H=="string"?(f=St(f),H=St(H)):(f=At(f),H=At(H)),be=t(f,H)}return be}}function _l(t){return mo(function(r){return r=_n(r,Xn(Wt())),ve(function(f){var H=this;return t(r,function(be){return Nn(be,H,f)})})})}function Va(t,r){var f=(r=r===i?" ":St(r)).length;if(f<2)return f?Se(r,t):r;var H=Se(r,Ro(t/Mr(r)));return oo(r)?Yt(rr(H),0,t).join(""):H.slice(0,t)}function Ql(t){return function(r,f,H){return H&&typeof H!="number"&&ar(r,f,H)&&(f=H=i),r=bo(r),f===i?(f=r,r=0):f=bo(f),function(be,je,De,He){for(var Ve=-1,ut=Ln(Ro((je-be)/(De||1)),0),ct=yt(ut);ut--;)ct[He?ut:++Ve]=be,be+=De;return ct}(r,f,H=H===i?r<f?1:-1:bo(H),t)}}function Ya(t){return function(r,f){return typeof r=="string"&&typeof f=="string"||(r=Or(r),f=Or(f)),t(r,f)}}function ec(t,r,f,H,be,je,De,He,Ve,ut){var ct=8&r;r|=ct?V:ie,4&(r&=~(ct?ie:V))||(r&=-4);var mt=[t,r,be,ct?je:i,ct?De:i,ct?i:je,ct?i:De,He,Ve,ut],Pt=f.apply(i,mt);return Ml(t)&&fc(Pt,mt),Pt.placeholder=H,pc(Pt,t,r)}function El(t){var r=pr[t];return function(f,H){if(f=Or(f),(H=H==null?0:Hn(ln(H),292))&&Ta(f)){var be=(xn(f)+"e").split("e");return+((be=(xn(r(be[0]+"e"+(+be[1]+H)))+"e").split("e"))[0]+"e"+(+be[1]-H))}return r(f)}}var es=Eo&&1/ci(new Eo([,-0]))[1]==pe?function(t){return new Eo(t)}:Vl;function tc(t){return function(r){var f=Qn(r);return f==u?li(r):f==T?ml(r):function(H,be){return _n(be,function(je){return[je,H[je]]})}(r,t(r))}}function ho(t,r,f,H,be,je,De,He){var Ve=2&r;if(!Ve&&typeof t!="function")throw new or(v);var ut=H?H.length:0;if(ut||(r&=-97,H=be=i),De=De===i?De:Ln(ln(De),0),He=He===i?He:ln(He),ut-=be?be.length:0,r&ie){var ct=H,mt=be;H=be=i}var Pt=Ve?i:Ol(t),zt=[t,r,f,H,be,ct,mt,je,De,He];if(Pt&&function(dt,vt){var Gt=dt[1],Tt=vt[1],Xt=Gt|Tt,Qt=Xt<131,pn=Tt==I&&Gt==8||Tt==I&&Gt==te&&dt[7].length<=vt[8]||Tt==384&&vt[7].length<=vt[8]&&Gt==8;if(!Qt&&!pn)return dt;1&Tt&&(dt[2]=vt[2],Xt|=1&Gt?0:4);var Bt=vt[3];if(Bt){var Vt=dt[3];dt[3]=Vt?bn(Vt,Bt,vt[4]):Bt,dt[4]=Vt?Kr(dt[3],j):vt[4]}(Bt=vt[5])&&(Vt=dt[5],dt[5]=Vt?Jt(Vt,Bt,vt[6]):Bt,dt[6]=Vt?Kr(dt[5],j):vt[6]),(Bt=vt[7])&&(dt[7]=Bt),Tt&I&&(dt[8]=dt[8]==null?vt[8]:Hn(dt[8],vt[8])),dt[9]==null&&(dt[9]=vt[9]),dt[0]=vt[0],dt[1]=Xt}(zt,Pt),t=zt[0],r=zt[1],f=zt[2],H=zt[3],be=zt[4],!(He=zt[9]=zt[9]===i?Ve?0:t.length:Ln(zt[9]-ut,0))&&24&r&&(r&=-25),r&&r!=1)Ut=r==8||r==y?function(dt,vt,Gt){var Tt=Io(dt);return function Xt(){for(var Qt=arguments.length,pn=yt(Qt),Bt=Qt,Vt=ji(Xt);Bt--;)pn[Bt]=arguments[Bt];var Wn=Qt<3&&pn[0]!==Vt&&pn[Qt-1]!==Vt?[]:Kr(pn,Vt);return(Qt-=Wn.length)<Gt?ec(dt,vt,An,Xt.placeholder,i,pn,Wn,i,i,Gt-Qt):Nn(this&&this!==Zn&&this instanceof Xt?Tt:dt,this,pn)}}(t,r,He):r!=V&&r!=33||be.length?An.apply(i,zt):function(dt,vt,Gt,Tt){var Xt=1&vt,Qt=Io(dt);return function pn(){for(var Bt=-1,Vt=arguments.length,Wn=-1,br=Tt.length,$r=yt(br+Vt),Un=this&&this!==Zn&&this instanceof pn?Qt:dt;++Wn<br;)$r[Wn]=Tt[Wn];for(;Vt--;)$r[Wn++]=arguments[++Bt];return Nn(Un,Xt?Gt:this,$r)}}(t,r,f,H);else var Ut=function(dt,vt,Gt){var Tt=1&vt,Xt=Io(dt);return function Qt(){return(this&&this!==Zn&&this instanceof Qt?Xt:dt).apply(Tt?Gt:this,arguments)}}(t,r,f);return pc((Pt?Ue:fc)(Ut,zt),t,r)}function nc(t,r,f,H){return t===i||Hr(t,io[f])&&!vn.call(H,f)?r:t}function rc(t,r,f,H,be,je){return On(t)&&On(r)&&(je.set(r,t),s(t,r,i,rc,je),je.delete(r)),t}function ts(t){return la(t)?i:t}function oc(t,r,f,H,be,je){var De=1&f,He=t.length,Ve=r.length;if(He!=Ve&&!(De&&Ve>He))return!1;var ut=je.get(t),ct=je.get(r);if(ut&&ct)return ut==r&&ct==t;var mt=-1,Pt=!0,zt=2&f?new co:i;for(je.set(t,r),je.set(r,t);++mt<He;){var Ut=t[mt],dt=r[mt];if(H)var vt=De?H(dt,Ut,mt,r,t,je):H(Ut,dt,mt,t,r,je);if(vt!==i){if(vt)continue;Pt=!1;break}if(zt){if(!ni(r,function(Gt,Tt){if(!ro(zt,Tt)&&(Ut===Gt||be(Ut,Gt,f,H,je)))return zt.push(Tt)})){Pt=!1;break}}else if(Ut!==dt&&!be(Ut,dt,f,H,je)){Pt=!1;break}}return je.delete(t),je.delete(r),Pt}function mo(t){return Pl(uc(t,i,yc),t+"")}function Sl(t){return Uo(t,Kn,Il)}function Cl(t){return Uo(t,dr,ic)}var Ol=yi?function(t){return yi.get(t)}:Vl;function Ga(t){for(var r=t.name+"",f=ao[r],H=vn.call(ao,r)?f.length:0;H--;){var be=f[H],je=be.func;if(je==null||je==t)return be.name}return r}function ji(t){return(vn.call(Ee,"placeholder")?Ee:t).placeholder}function Wt(){var t=Ee.iteratee||Fl;return t=t===Fl?Zr:t,arguments.length?t(arguments[0],arguments[1]):t}function Xa(t,r){var f,H,be=t.__data__;return((H=typeof(f=r))=="string"||H=="number"||H=="symbol"||H=="boolean"?f!=="__proto__":f===null)?be[typeof r=="string"?"string":"hash"]:be.map}function jl(t){for(var r=Kn(t),f=r.length;f--;){var H=r[f],be=t[H];r[f]=[H,be,cc(be)]}return r}function Yo(t,r){var f=function(H,be){return H==null?i:H[be]}(t,r);return jo(f)?f:i}var Il=bi?function(t){return t==null?[]:(t=En(t),Ir(bi(t),function(r){return Gi.call(t,r)}))}:Yl,ic=bi?function(t){for(var r=[];t;)Tr(r,Il(t)),t=gi(t);return r}:Yl,Qn=Pn;function ac(t,r,f){for(var H=-1,be=(r=Rn(r,t)).length,je=!1;++H<be;){var De=qr(r[H]);if(!(je=t!=null&&f(t,De)))break;t=t[De]}return je||++H!=be?je:!!(be=t==null?0:t.length)&&nl(be)&&go(De,be)&&(rn(t)||Xo(t))}function lc(t){return typeof t.constructor!="function"||ia(t)?{}:Oo(gi(t))}function ns(t){return rn(t)||Xo(t)||!!(Xi&&t&&t[Xi])}function go(t,r){var f=typeof t;return!!(r=r??fe)&&(f=="number"||f!="symbol"&&we.test(t))&&t>-1&&t%1==0&&t<r}function ar(t,r,f){if(!On(f))return!1;var H=typeof r;return!!(H=="number"?ur(f)&&go(r,f.length):H=="string"&&r in f)&&Hr(f[r],t)}function Tl(t,r){if(rn(t))return!1;var f=typeof t;return!(f!="number"&&f!="symbol"&&f!="boolean"&&t!=null&&!vr(t))||Q.test(t)||!Oe.test(t)||r!=null&&t in En(r)}function Ml(t){var r=Ga(t),f=Ee[r];if(typeof f!="function"||!(r in un.prototype))return!1;if(t===f)return!0;var H=Ol(f);return!!H&&t===H[0]}(No&&Qn(new No(new ArrayBuffer(1)))!=C||Ct&&Qn(new Ct)!=u||qi&&Qn(qi.resolve())!=_||Eo&&Qn(new Eo)!=T||So&&Qn(new So)!=c)&&(Qn=function(t){var r=Pn(t),f=r==p?t.constructor:i,H=f?Go(f):"";if(H)switch(H){case Aa:return C;case Da:return u;case wl:return _;case za:return T;case xi:return c}return r});var rs=wr?vo:Gl;function ia(t){var r=t&&t.constructor;return t===(typeof r=="function"&&r.prototype||io)}function cc(t){return t==t&&!On(t)}function sc(t,r){return function(f){return f!=null&&f[t]===r&&(r!==i||t in En(f))}}function uc(t,r,f){return r=Ln(r===i?t.length-1:r,0),function(){for(var H=arguments,be=-1,je=Ln(H.length-r,0),De=yt(je);++be<je;)De[be]=H[r+be];be=-1;for(var He=yt(r+1);++be<r;)He[be]=H[be];return He[r]=f(De),Nn(t,this,He)}}function dc(t,r){return r.length<2?t:Gr(t,qe(r,0,-1))}function os(t,r){for(var f=t.length,H=Hn(r.length,f),be=gn(t);H--;){var je=r[H];t[H]=go(je,f)?be[je]:i}return t}function Ll(t,r){if((r!=="constructor"||typeof t[r]!="function")&&r!="__proto__")return t[r]}var fc=hc(Ue),aa=ja||function(t,r){return Zn.setTimeout(t,r)},Pl=hc(Ke);function pc(t,r,f){var H=r+"";return Pl(t,function(be,je){var De=je.length;if(!De)return be;var He=De-1;return je[He]=(De>1?"& ":"")+je[He],je=je.join(De>2?", ":" "),be.replace(ye,`{
/* [wrapped with `+je+`] */
`)}(H,function(be,je){return Bn(ne,function(De){var He="_."+De[0];je&De[1]&&!Po(be,He)&&be.push(He)}),be.sort()}(function(be){var je=be.match(me);return je?je[1].split(Pe):[]}(H),f)))}function hc(t){var r=0,f=0;return function(){var H=yl(),be=16-(H-f);if(f=H,be>0){if(++r>=800)return arguments[0]}else r=0;return t.apply(i,arguments)}}function qa(t,r){var f=-1,H=t.length,be=H-1;for(r=r===i?H:r;++f<r;){var je=q(f,be),De=t[je];t[je]=t[f],t[f]=De}return t.length=r,t}var mc=function(t){var r=el(t,function(H){return f.size===500&&f.clear(),H}),f=r.cache;return r}(function(t){var r=[];return t.charCodeAt(0)===46&&r.push(""),t.replace(Ce,function(f,H,be,je){r.push(be?je.replace(nt,"$1"):H||f)}),r});function qr(t){if(typeof t=="string"||vr(t))return t;var r=t+"";return r=="0"&&1/t==-1/0?"-0":r}function Go(t){if(t!=null){try{return pi.call(t)}catch{}try{return t+""}catch{}}return""}function gc(t){if(t instanceof un)return t.clone();var r=new sr(t.__wrapped__,t.__chain__);return r.__actions__=gn(t.__actions__),r.__index__=t.__index__,r.__values__=t.__values__,r}var is=ve(function(t,r){return Dn(t)?Vr(t,zn(r,1,Dn,!0)):[]}),as=ve(function(t,r){var f=Cr(r);return Dn(f)&&(f=i),Dn(t)?Vr(t,zn(r,1,Dn,!0),Wt(f,2)):[]}),ls=ve(function(t,r){var f=Cr(r);return Dn(f)&&(f=i),Dn(t)?Vr(t,zn(r,1,Dn,!0),i,f):[]});function vc(t,r,f){var H=t==null?0:t.length;if(!H)return-1;var be=f==null?0:ln(f);return be<0&&(be=Ln(H+be,0)),Do(t,Wt(r,3),be)}function bc(t,r,f){var H=t==null?0:t.length;if(!H)return-1;var be=H-1;return f!==i&&(be=ln(f),be=f<0?Ln(H+be,0):Hn(be,H-1)),Do(t,Wt(r,3),be,!0)}function yc(t){return t!=null&&t.length?zn(t,1):[]}function xc(t){return t&&t.length?t[0]:i}var cs=ve(function(t){var r=_n(t,Vn);return r.length&&r[0]===t[0]?zr(r):[]}),ss=ve(function(t){var r=Cr(t),f=_n(t,Vn);return r===Cr(f)?r=i:f.pop(),f.length&&f[0]===t[0]?zr(f,Wt(r,2)):[]}),us=ve(function(t){var r=Cr(t),f=_n(t,Vn);return(r=typeof r=="function"?r:i)&&f.pop(),f.length&&f[0]===t[0]?zr(f,i,r):[]});function Cr(t){var r=t==null?0:t.length;return r?t[r-1]:i}var ds=ve(wc);function wc(t,r){return t&&t.length&&r&&r.length?w(t,r):t}var fs=mo(function(t,r){var f=t==null?0:t.length,H=Ji(t,r);return X(t,_n(r,function(be){return go(be,f)?+be:be}).sort(nn)),H});function Al(t){return t==null?t:Pa.call(t)}var ps=ve(function(t){return wt(zn(t,1,Dn,!0))}),hs=ve(function(t){var r=Cr(t);return Dn(r)&&(r=i),wt(zn(t,1,Dn,!0),Wt(r,2))}),ms=ve(function(t){var r=Cr(t);return r=typeof r=="function"?r:i,wt(zn(t,1,Dn,!0),i,r)});function Dl(t){if(!t||!t.length)return[];var r=0;return t=Ir(t,function(f){if(Dn(f))return r=Ln(f.length,r),!0}),ii(r,function(f){return _n(t,ri(f))})}function kc(t,r){if(!t||!t.length)return[];var f=Dl(t);return r==null?f:_n(f,function(H){return Nn(r,i,H)})}var gs=ve(function(t,r){return Dn(t)?Vr(t,r):[]}),vs=ve(function(t){return cn(Ir(t,Dn))}),bs=ve(function(t){var r=Cr(t);return Dn(r)&&(r=i),cn(Ir(t,Dn),Wt(r,2))}),ys=ve(function(t){var r=Cr(t);return r=typeof r=="function"?r:i,cn(Ir(t,Dn),i,r)}),xs=ve(Dl),ws=ve(function(t){var r=t.length,f=r>1?t[r-1]:i;return f=typeof f=="function"?(t.pop(),f):i,kc(t,f)});function _c(t){var r=Ee(t);return r.__chain__=!0,r}function $a(t,r){return r(t)}var ks=mo(function(t){var r=t.length,f=r?t[0]:0,H=this.__wrapped__,be=function(je){return Ji(je,t)};return!(r>1||this.__actions__.length)&&H instanceof un&&go(f)?((H=H.slice(f,+f+(r?1:0))).__actions__.push({func:$a,args:[be],thisArg:i}),new sr(H,this.__chain__).thru(function(je){return r&&!je.length&&je.push(i),je})):this.thru(be)}),_s=Sr(function(t,r,f){vn.call(t,f)?++t[f]:Dr(t,f,1)}),Es=oa(vc),Ss=oa(bc);function Ec(t,r){return(rn(t)?Bn:Yr)(t,Wt(r,3))}function Sc(t,r){return(rn(t)?ei:Wa)(t,Wt(r,3))}var Cs=Sr(function(t,r,f){vn.call(t,f)?t[f].push(r):Dr(t,f,[r])}),Os=ve(function(t,r,f){var H=-1,be=typeof r=="function",je=ur(t)?yt(t.length):[];return Yr(t,function(De){je[++H]=be?Nn(r,De,f):Rr(De,r,f)}),je}),js=Sr(function(t,r,f){Dr(t,f,r)});function Ja(t,r){return(rn(t)?_n:Ka)(t,Wt(r,3))}var Is=Sr(function(t,r,f){t[f?0:1].push(r)},function(){return[[],[]]}),Ts=ve(function(t,r){if(t==null)return[];var f=r.length;return f>1&&ar(t,r[0],r[1])?r=[]:f>2&&ar(r[0],r[1],r[2])&&(r=[r[0]]),Z(t,zn(r,1),[])}),Qa=vl||function(){return Zn.Date.now()};function Cc(t,r,f){return r=f?i:r,r=t&&r==null?t.length:r,ho(t,I,i,i,i,i,r)}function Oc(t,r){var f;if(typeof r!="function")throw new or(v);return t=ln(t),function(){return--t>0&&(f=r.apply(this,arguments)),t<=1&&(r=i),f}}var zl=ve(function(t,r,f){var H=1;if(f.length){var be=Kr(f,ji(zl));H|=V}return ho(t,H,r,f,be)}),jc=ve(function(t,r,f){var H=3;if(f.length){var be=Kr(f,ji(jc));H|=V}return ho(r,H,t,f,be)});function Ic(t,r,f){var H,be,je,De,He,Ve,ut=0,ct=!1,mt=!1,Pt=!0;if(typeof t!="function")throw new or(v);function zt(Xt){var Qt=H,pn=be;return H=be=i,ut=Xt,De=t.apply(pn,Qt)}function Ut(Xt){return ut=Xt,He=aa(vt,r),ct?zt(Xt):De}function dt(Xt){var Qt=Xt-Ve;return Ve===i||Qt>=r||Qt<0||mt&&Xt-ut>=je}function vt(){var Xt=Qa();if(dt(Xt))return Gt(Xt);He=aa(vt,function(Qt){var pn=r-(Qt-Ve);return mt?Hn(pn,je-(Qt-ut)):pn}(Xt))}function Gt(Xt){return He=i,Pt&&H?zt(Xt):(H=be=i,De)}function Tt(){var Xt=Qa(),Qt=dt(Xt);if(H=arguments,be=this,Ve=Xt,Qt){if(He===i)return Ut(Ve);if(mt)return tn(He),He=aa(vt,r),zt(Ve)}return He===i&&(He=aa(vt,r)),De}return r=Or(r)||0,On(f)&&(ct=!!f.leading,je=(mt="maxWait"in f)?Ln(Or(f.maxWait)||0,r):je,Pt="trailing"in f?!!f.trailing:Pt),Tt.cancel=function(){He!==i&&tn(He),ut=0,H=Ve=be=He=i},Tt.flush=function(){return He===i?De:Gt(Qa())},Tt}var Ms=ve(function(t,r){return ea(t,1,r)}),Ls=ve(function(t,r,f){return ea(t,Or(r)||0,f)});function el(t,r){if(typeof t!="function"||r!=null&&typeof r!="function")throw new or(v);var f=function(){var H=arguments,be=r?r.apply(this,H):H[0],je=f.cache;if(je.has(be))return je.get(be);var De=t.apply(this,H);return f.cache=je.set(be,De)||je,De};return f.cache=new(el.Cache||Ar),f}function tl(t){if(typeof t!="function")throw new or(v);return function(){var r=arguments;switch(r.length){case 0:return!t.call(this);case 1:return!t.call(this,r[0]);case 2:return!t.call(this,r[0],r[1]);case 3:return!t.call(this,r[0],r[1],r[2])}return!t.apply(this,r)}}el.Cache=Ar;var Ps=an(function(t,r){var f=(r=r.length==1&&rn(r[0])?_n(r[0],Xn(Wt())):_n(zn(r,1),Xn(Wt()))).length;return ve(function(H){for(var be=-1,je=Hn(H.length,f);++be<je;)H[be]=r[be].call(this,H[be]);return Nn(t,this,H)})}),Rl=ve(function(t,r){var f=Kr(r,ji(Rl));return ho(t,V,i,r,f)}),Tc=ve(function(t,r){var f=Kr(r,ji(Tc));return ho(t,ie,i,r,f)}),As=mo(function(t,r){return ho(t,te,i,i,i,r)});function Hr(t,r){return t===r||t!=t&&r!=r}var Ds=Ya(Fo),zs=Ya(function(t,r){return t>=r}),Xo=Ci(function(){return arguments}())?Ci:function(t){return Mn(t)&&vn.call(t,"callee")&&!Gi.call(t,"callee")},rn=yt.isArray,Rs=Di?Xn(Di):function(t){return Mn(t)&&Pn(t)==n};function ur(t){return t!=null&&nl(t.length)&&!vo(t)}function Dn(t){return Mn(t)&&ur(t)}var To=Ia||Gl,Zs=zi?Xn(zi):function(t){return Mn(t)&&Pn(t)==se};function Zl(t){if(!Mn(t))return!1;var r=Pn(t);return r==S||r=="[object DOMException]"||typeof t.message=="string"&&typeof t.name=="string"&&!la(t)}function vo(t){if(!On(t))return!1;var r=Pn(t);return r==F||r==h||r=="[object AsyncFunction]"||r=="[object Proxy]"}function Mc(t){return typeof t=="number"&&t==ln(t)}function nl(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=fe}function On(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}function Mn(t){return t!=null&&typeof t=="object"}var Lc=Ri?Xn(Ri):function(t){return Mn(t)&&Qn(t)==u};function Pc(t){return typeof t=="number"||Mn(t)&&Pn(t)==O}function la(t){if(!Mn(t)||Pn(t)!=p)return!1;var r=gi(t);if(r===null)return!0;var f=vn.call(r,"constructor")&&r.constructor;return typeof f=="function"&&f instanceof f&&pi.call(f)==Ca}var Nl=fa?Xn(fa):function(t){return Mn(t)&&Pn(t)==E},Ac=pa?Xn(pa):function(t){return Mn(t)&&Qn(t)==T};function rl(t){return typeof t=="string"||!rn(t)&&Mn(t)&&Pn(t)==l}function vr(t){return typeof t=="symbol"||Mn(t)&&Pn(t)==m}var Ii=ha?Xn(ha):function(t){return Mn(t)&&nl(t.length)&&!!kn[Pn(t)]},Ns=Ya(ra),Bs=Ya(function(t,r){return t<=r});function Dc(t){if(!t)return[];if(ur(t))return rl(t)?rr(t):gn(t);if(_o&&t[_o])return function(f){for(var H,be=[];!(H=f.next()).done;)be.push(H.value);return be}(t[_o]());var r=Qn(t);return(r==u?li:r==T?ci:Ti)(t)}function bo(t){return t?(t=Or(t))===pe||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:t===0?t:0}function ln(t){var r=bo(t),f=r%1;return r==r?f?r-f:r:0}function zc(t){return t?so(ln(t),0,re):0}function Or(t){if(typeof t=="number")return t;if(vr(t))return W;if(On(t)){var r=typeof t.valueOf=="function"?t.valueOf():t;t=On(r)?r+"":r}if(typeof t!="string")return t===0?t:+t;t=Ui(t);var f=he.test(t);return f||_e.test(t)?hl(t.slice(2),f?2:8):et.test(t)?W:+t}function Rc(t){return Tn(t,dr(t))}function xn(t){return t==null?"":St(t)}var Hs=Jn(function(t,r){if(ia(r)||ur(r))Tn(r,Kn(r),t);else for(var f in r)vn.call(r,f)&&Ho(t,f,r[f])}),Zc=Jn(function(t,r){Tn(r,dr(r),t)}),ol=Jn(function(t,r,f,H){Tn(r,dr(r),t,H)}),Ws=Jn(function(t,r,f,H){Tn(r,Kn(r),t,H)}),Us=mo(Ji),Fs=ve(function(t,r){t=En(t);var f=-1,H=r.length,be=H>2?r[2]:i;for(be&&ar(r[0],r[1],be)&&(H=1);++f<H;)for(var je=r[f],De=dr(je),He=-1,Ve=De.length;++He<Ve;){var ut=De[He],ct=t[ut];(ct===i||Hr(ct,io[ut])&&!vn.call(t,ut))&&(t[ut]=je[ut])}return t}),Ks=ve(function(t){return t.push(i,rc),Nn(Nc,i,t)});function Bl(t,r,f){var H=t==null?i:Gr(t,r);return H===i?f:H}function Hl(t,r){return t!=null&&ac(t,r,fo)}var Vs=Vo(function(t,r,f){r!=null&&typeof r.toString!="function"&&(r=hi.call(r)),t[r]=f},Ul(fr)),Ys=Vo(function(t,r,f){r!=null&&typeof r.toString!="function"&&(r=hi.call(r)),vn.call(t,r)?t[r].push(f):t[r]=[f]},Wt),Gs=ve(Rr);function Kn(t){return ur(t)?Ra(t):hn(t)}function dr(t){return ur(t)?Ra(t,!0):na(t)}var Xs=Jn(function(t,r,f){s(t,r,f)}),Nc=Jn(function(t,r,f,H){s(t,r,f,H)}),qs=mo(function(t,r){var f={};if(t==null)return f;var H=!1;r=_n(r,function(je){return je=Rn(je,t),H||(H=je.length>1),je}),Tn(t,Cl(t),f),H&&(f=ir(f,7,ts));for(var be=r.length;be--;)_t(f,r[be]);return f}),$s=mo(function(t,r){return t==null?{}:function(f,H){return k(f,H,function(be,je){return Hl(f,je)})}(t,r)});function Bc(t,r){if(t==null)return{};var f=_n(Cl(t),function(H){return[H]});return r=Wt(r),k(t,f,function(H,be){return r(H,be[0])})}var Hc=tc(Kn),Wc=tc(dr);function Ti(t){return t==null?[]:nr(t,Kn(t))}var Js=Br(function(t,r,f){return r=r.toLowerCase(),t+(f?Uc(r):r)});function Uc(t){return Wl(xn(t).toLowerCase())}function Fc(t){return(t=xn(t))&&t.replace(Me,xa).replace(eo,"")}var Qs=Br(function(t,r,f){return t+(f?"-":"")+r.toLowerCase()}),eu=Br(function(t,r,f){return t+(f?" ":"")+r.toLowerCase()}),tu=Xr("toLowerCase"),nu=Br(function(t,r,f){return t+(f?"_":"")+r.toLowerCase()}),ru=Br(function(t,r,f){return t+(f?" ":"")+Wl(r)}),ou=Br(function(t,r,f){return t+(f?" ":"")+r.toUpperCase()}),Wl=Xr("toUpperCase");function Kc(t,r,f){return t=xn(t),(r=f?i:r)===i?function(H){return to.test(H)}(t)?function(H){return H.match(Qo)||[]}(t):function(H){return H.match(Ze)||[]}(t):t.match(r)||[]}var Vc=ve(function(t,r){try{return Nn(t,i,r)}catch(f){return Zl(f)?f:new fn(f)}}),iu=mo(function(t,r){return Bn(r,function(f){f=qr(f),Dr(t,f,zl(t[f],t))}),t});function Ul(t){return function(){return t}}var au=Ko(),lu=Ko(!0);function fr(t){return t}function Fl(t){return Zr(typeof t=="function"?t:ir(t,1))}var cu=ve(function(t,r){return function(f){return Rr(f,t,r)}}),su=ve(function(t,r){return function(f){return Rr(t,f,r)}});function Kl(t,r,f){var H=Kn(r),be=Fn(r,H);f!=null||On(r)&&(be.length||!H.length)||(f=r,r=t,t=this,be=Fn(r,Kn(r)));var je=!(On(f)&&"chain"in f&&!f.chain),De=vo(t);return Bn(be,function(He){var Ve=r[He];t[He]=Ve,De&&(t.prototype[He]=function(){var ut=this.__chain__;if(je||ut){var ct=t(this.__wrapped__),mt=ct.__actions__=gn(this.__actions__);return mt.push({func:Ve,args:arguments,thisArg:t}),ct.__chain__=ut,ct}return Ve.apply(t,Tr([this.value()],arguments))})}),t}function Vl(){}var uu=_l(_n),du=_l(Zi),fu=_l(ni);function Yc(t){return Tl(t)?ri(qr(t)):function(r){return function(f){return Gr(f,r)}}(t)}var pu=Ql(),hu=Ql(!0);function Yl(){return[]}function Gl(){return!1}var mu=Oi(function(t,r){return t+r},0),gu=El("ceil"),vu=Oi(function(t,r){return t/r},1),bu=El("floor"),Xl,yu=Oi(function(t,r){return t*r},1),xu=El("round"),wu=Oi(function(t,r){return t-r},0);return Ee.after=function(t,r){if(typeof r!="function")throw new or(v);return t=ln(t),function(){if(--t<1)return r.apply(this,arguments)}},Ee.ary=Cc,Ee.assign=Hs,Ee.assignIn=Zc,Ee.assignInWith=ol,Ee.assignWith=Ws,Ee.at=Us,Ee.before=Oc,Ee.bind=zl,Ee.bindAll=iu,Ee.bindKey=jc,Ee.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return rn(t)?t:[t]},Ee.chain=_c,Ee.chunk=function(t,r,f){r=(f?ar(t,r,f):r===i)?1:Ln(ln(r),0);var H=t==null?0:t.length;if(!H||r<1)return[];for(var be=0,je=0,De=yt(Ro(H/r));be<H;)De[je++]=qe(t,be,be+=r);return De},Ee.compact=function(t){for(var r=-1,f=t==null?0:t.length,H=0,be=[];++r<f;){var je=t[r];je&&(be[H++]=je)}return be},Ee.concat=function(){var t=arguments.length;if(!t)return[];for(var r=yt(t-1),f=arguments[0],H=t;H--;)r[H-1]=arguments[H];return Tr(rn(f)?gn(f):[f],zn(r,1))},Ee.cond=function(t){var r=t==null?0:t.length,f=Wt();return t=r?_n(t,function(H){if(typeof H[1]!="function")throw new or(v);return[f(H[0]),H[1]]}):[],ve(function(H){for(var be=-1;++be<r;){var je=t[be];if(Nn(je[0],this,H))return Nn(je[1],this,H)}})},Ee.conforms=function(t){return function(r){var f=Kn(r);return function(H){return Qi(H,r,f)}}(ir(t,1))},Ee.constant=Ul,Ee.countBy=_s,Ee.create=function(t,r){var f=Oo(t);return r==null?f:Ha(f,r)},Ee.curry=function t(r,f,H){var be=ho(r,8,i,i,i,i,i,f=H?i:f);return be.placeholder=t.placeholder,be},Ee.curryRight=function t(r,f,H){var be=ho(r,y,i,i,i,i,i,f=H?i:f);return be.placeholder=t.placeholder,be},Ee.debounce=Ic,Ee.defaults=Fs,Ee.defaultsDeep=Ks,Ee.defer=Ms,Ee.delay=Ls,Ee.difference=is,Ee.differenceBy=as,Ee.differenceWith=ls,Ee.drop=function(t,r,f){var H=t==null?0:t.length;return H?qe(t,(r=f||r===i?1:ln(r))<0?0:r,H):[]},Ee.dropRight=function(t,r,f){var H=t==null?0:t.length;return H?qe(t,0,(r=H-(r=f||r===i?1:ln(r)))<0?0:r):[]},Ee.dropRightWhile=function(t,r){return t&&t.length?en(t,Wt(r,3),!0,!0):[]},Ee.dropWhile=function(t,r){return t&&t.length?en(t,Wt(r,3),!0):[]},Ee.fill=function(t,r,f,H){var be=t==null?0:t.length;return be?(f&&typeof f!="number"&&ar(t,r,f)&&(f=0,H=be),function(je,De,He,Ve){var ut=je.length;for((He=ln(He))<0&&(He=-He>ut?0:ut+He),(Ve=Ve===i||Ve>ut?ut:ln(Ve))<0&&(Ve+=ut),Ve=He>Ve?0:zc(Ve);He<Ve;)je[He++]=De;return je}(t,r,f,H)):[]},Ee.filter=function(t,r){return(rn(t)?Ir:ta)(t,Wt(r,3))},Ee.flatMap=function(t,r){return zn(Ja(t,r),1)},Ee.flatMapDeep=function(t,r){return zn(Ja(t,r),pe)},Ee.flatMapDepth=function(t,r,f){return f=f===i?1:ln(f),zn(Ja(t,r),f)},Ee.flatten=yc,Ee.flattenDeep=function(t){return t!=null&&t.length?zn(t,pe):[]},Ee.flattenDepth=function(t,r){return t!=null&&t.length?zn(t,r=r===i?1:ln(r)):[]},Ee.flip=function(t){return ho(t,512)},Ee.flow=au,Ee.flowRight=lu,Ee.fromPairs=function(t){for(var r=-1,f=t==null?0:t.length,H={};++r<f;){var be=t[r];H[be[0]]=be[1]}return H},Ee.functions=function(t){return t==null?[]:Fn(t,Kn(t))},Ee.functionsIn=function(t){return t==null?[]:Fn(t,dr(t))},Ee.groupBy=Cs,Ee.initial=function(t){return t!=null&&t.length?qe(t,0,-1):[]},Ee.intersection=cs,Ee.intersectionBy=ss,Ee.intersectionWith=us,Ee.invert=Vs,Ee.invertBy=Ys,Ee.invokeMap=Os,Ee.iteratee=Fl,Ee.keyBy=js,Ee.keys=Kn,Ee.keysIn=dr,Ee.map=Ja,Ee.mapKeys=function(t,r){var f={};return r=Wt(r,3),mr(t,function(H,be,je){Dr(f,r(H,be,je),H)}),f},Ee.mapValues=function(t,r){var f={};return r=Wt(r,3),mr(t,function(H,be,je){Dr(f,be,r(H,be,je))}),f},Ee.matches=function(t){return e(ir(t,1))},Ee.matchesProperty=function(t,r){return a(t,ir(r,1))},Ee.memoize=el,Ee.merge=Xs,Ee.mergeWith=Nc,Ee.method=cu,Ee.methodOf=su,Ee.mixin=Kl,Ee.negate=tl,Ee.nthArg=function(t){return t=ln(t),ve(function(r){return d(r,t)})},Ee.omit=qs,Ee.omitBy=function(t,r){return Bc(t,tl(Wt(r)))},Ee.once=function(t){return Oc(2,t)},Ee.orderBy=function(t,r,f,H){return t==null?[]:(rn(r)||(r=r==null?[]:[r]),rn(f=H?i:f)||(f=f==null?[]:[f]),Z(t,r,f))},Ee.over=uu,Ee.overArgs=Ps,Ee.overEvery=du,Ee.overSome=fu,Ee.partial=Rl,Ee.partialRight=Tc,Ee.partition=Is,Ee.pick=$s,Ee.pickBy=Bc,Ee.property=Yc,Ee.propertyOf=function(t){return function(r){return t==null?i:Gr(t,r)}},Ee.pull=ds,Ee.pullAll=wc,Ee.pullAllBy=function(t,r,f){return t&&t.length&&r&&r.length?w(t,r,Wt(f,2)):t},Ee.pullAllWith=function(t,r,f){return t&&t.length&&r&&r.length?w(t,r,i,f):t},Ee.pullAt=fs,Ee.range=pu,Ee.rangeRight=hu,Ee.rearg=As,Ee.reject=function(t,r){return(rn(t)?Ir:ta)(t,tl(Wt(r,3)))},Ee.remove=function(t,r){var f=[];if(!t||!t.length)return f;var H=-1,be=[],je=t.length;for(r=Wt(r,3);++H<je;){var De=t[H];r(De,H,t)&&(f.push(De),be.push(H))}return X(t,be),f},Ee.rest=function(t,r){if(typeof t!="function")throw new or(v);return ve(t,r=r===i?r:ln(r))},Ee.reverse=Al,Ee.sampleSize=function(t,r,f){return r=(f?ar(t,r,f):r===i)?1:ln(r),(rn(t)?kl:Ae)(t,r)},Ee.set=function(t,r,f){return t==null?t:Fe(t,r,f)},Ee.setWith=function(t,r,f,H){return H=typeof H=="function"?H:i,t==null?t:Fe(t,r,f,H)},Ee.shuffle=function(t){return(rn(t)?Na:tt)(t)},Ee.slice=function(t,r,f){var H=t==null?0:t.length;return H?(f&&typeof f!="number"&&ar(t,r,f)?(r=0,f=H):(r=r==null?0:ln(r),f=f===i?H:ln(f)),qe(t,r,f)):[]},Ee.sortBy=Ts,Ee.sortedUniq=function(t){return t&&t.length?jt(t):[]},Ee.sortedUniqBy=function(t,r){return t&&t.length?jt(t,Wt(r,2)):[]},Ee.split=function(t,r,f){return f&&typeof f!="number"&&ar(t,r,f)&&(r=f=i),(f=f===i?re:f>>>0)?(t=xn(t))&&(typeof r=="string"||r!=null&&!Nl(r))&&!(r=St(r))&&oo(t)?Yt(rr(t),0,f):t.split(r,f):[]},Ee.spread=function(t,r){if(typeof t!="function")throw new or(v);return r=r==null?0:Ln(ln(r),0),ve(function(f){var H=f[r],be=Yt(f,0,r);return H&&Tr(be,H),Nn(t,this,be)})},Ee.tail=function(t){var r=t==null?0:t.length;return r?qe(t,1,r):[]},Ee.take=function(t,r,f){return t&&t.length?qe(t,0,(r=f||r===i?1:ln(r))<0?0:r):[]},Ee.takeRight=function(t,r,f){var H=t==null?0:t.length;return H?qe(t,(r=H-(r=f||r===i?1:ln(r)))<0?0:r,H):[]},Ee.takeRightWhile=function(t,r){return t&&t.length?en(t,Wt(r,3),!1,!0):[]},Ee.takeWhile=function(t,r){return t&&t.length?en(t,Wt(r,3)):[]},Ee.tap=function(t,r){return r(t),t},Ee.throttle=function(t,r,f){var H=!0,be=!0;if(typeof t!="function")throw new or(v);return On(f)&&(H="leading"in f?!!f.leading:H,be="trailing"in f?!!f.trailing:be),Ic(t,r,{leading:H,maxWait:r,trailing:be})},Ee.thru=$a,Ee.toArray=Dc,Ee.toPairs=Hc,Ee.toPairsIn=Wc,Ee.toPath=function(t){return rn(t)?_n(t,qr):vr(t)?[t]:gn(mc(xn(t)))},Ee.toPlainObject=Rc,Ee.transform=function(t,r,f){var H=rn(t),be=H||To(t)||Ii(t);if(r=Wt(r,4),f==null){var je=t&&t.constructor;f=be?H?new je:[]:On(t)&&vo(je)?Oo(gi(t)):{}}return(be?Bn:mr)(t,function(De,He,Ve){return r(f,De,He,Ve)}),f},Ee.unary=function(t){return Cc(t,1)},Ee.union=ps,Ee.unionBy=hs,Ee.unionWith=ms,Ee.uniq=function(t){return t&&t.length?wt(t):[]},Ee.uniqBy=function(t,r){return t&&t.length?wt(t,Wt(r,2)):[]},Ee.uniqWith=function(t,r){return r=typeof r=="function"?r:i,t&&t.length?wt(t,i,r):[]},Ee.unset=function(t,r){return t==null||_t(t,r)},Ee.unzip=Dl,Ee.unzipWith=kc,Ee.update=function(t,r,f){return t==null?t:bt(t,r,$n(f))},Ee.updateWith=function(t,r,f,H){return H=typeof H=="function"?H:i,t==null?t:bt(t,r,$n(f),H)},Ee.values=Ti,Ee.valuesIn=function(t){return t==null?[]:nr(t,dr(t))},Ee.without=gs,Ee.words=Kc,Ee.wrap=function(t,r){return Rl($n(r),t)},Ee.xor=vs,Ee.xorBy=bs,Ee.xorWith=ys,Ee.zip=xs,Ee.zipObject=function(t,r){return yn(t||[],r||[],Ho)},Ee.zipObjectDeep=function(t,r){return yn(t||[],r||[],Fe)},Ee.zipWith=ws,Ee.entries=Hc,Ee.entriesIn=Wc,Ee.extend=Zc,Ee.extendWith=ol,Kl(Ee,Ee),Ee.add=mu,Ee.attempt=Vc,Ee.camelCase=Js,Ee.capitalize=Uc,Ee.ceil=gu,Ee.clamp=function(t,r,f){return f===i&&(f=r,r=i),f!==i&&(f=(f=Or(f))==f?f:0),r!==i&&(r=(r=Or(r))==r?r:0),so(Or(t),r,f)},Ee.clone=function(t){return ir(t,4)},Ee.cloneDeep=function(t){return ir(t,5)},Ee.cloneDeepWith=function(t,r){return ir(t,5,r=typeof r=="function"?r:i)},Ee.cloneWith=function(t,r){return ir(t,4,r=typeof r=="function"?r:i)},Ee.conformsTo=function(t,r){return r==null||Qi(t,r,Kn(r))},Ee.deburr=Fc,Ee.defaultTo=function(t,r){return t==null||t!=t?r:t},Ee.divide=vu,Ee.endsWith=function(t,r,f){t=xn(t),r=St(r);var H=t.length,be=f=f===i?H:so(ln(f),0,H);return(f-=r.length)>=0&&t.slice(f,be)==r},Ee.eq=Hr,Ee.escape=function(t){return(t=xn(t))&&N.test(t)?t.replace(L,wa):t},Ee.escapeRegExp=function(t){return(t=xn(t))&&ze.test(t)?t.replace(Ne,"\\$&"):t},Ee.every=function(t,r,f){var H=rn(t)?Zi:Ua;return f&&ar(t,r,f)&&(r=i),H(t,Wt(r,3))},Ee.find=Es,Ee.findIndex=vc,Ee.findKey=function(t,r){return Bi(t,Wt(r,3),mr)},Ee.findLast=Ss,Ee.findLastIndex=bc,Ee.findLastKey=function(t,r){return Bi(t,Wt(r,3),Si)},Ee.floor=bu,Ee.forEach=Ec,Ee.forEachRight=Sc,Ee.forIn=function(t,r){return t==null?t:ht(t,Wt(r,3),dr)},Ee.forInRight=function(t,r){return t==null?t:Fa(t,Wt(r,3),dr)},Ee.forOwn=function(t,r){return t&&mr(t,Wt(r,3))},Ee.forOwnRight=function(t,r){return t&&Si(t,Wt(r,3))},Ee.get=Bl,Ee.gt=Ds,Ee.gte=zs,Ee.has=function(t,r){return t!=null&&ac(t,r,uo)},Ee.hasIn=Hl,Ee.head=xc,Ee.identity=fr,Ee.includes=function(t,r,f,H){t=ur(t)?t:Ti(t),f=f&&!H?ln(f):0;var be=t.length;return f<0&&(f=Ln(be+f,0)),rl(t)?f<=be&&t.indexOf(r,f)>-1:!!be&&Ur(t,r,f)>-1},Ee.indexOf=function(t,r,f){var H=t==null?0:t.length;if(!H)return-1;var be=f==null?0:ln(f);return be<0&&(be=Ln(H+be,0)),Ur(t,r,be)},Ee.inRange=function(t,r,f){return r=bo(r),f===i?(f=r,r=0):f=bo(f),function(H,be,je){return H>=Hn(be,je)&&H<Ln(be,je)}(t=Or(t),r,f)},Ee.invoke=Gs,Ee.isArguments=Xo,Ee.isArray=rn,Ee.isArrayBuffer=Rs,Ee.isArrayLike=ur,Ee.isArrayLikeObject=Dn,Ee.isBoolean=function(t){return t===!0||t===!1||Mn(t)&&Pn(t)==ge},Ee.isBuffer=To,Ee.isDate=Zs,Ee.isElement=function(t){return Mn(t)&&t.nodeType===1&&!la(t)},Ee.isEmpty=function(t){if(t==null)return!0;if(ur(t)&&(rn(t)||typeof t=="string"||typeof t.splice=="function"||To(t)||Ii(t)||Xo(t)))return!t.length;var r=Qn(t);if(r==u||r==T)return!t.size;if(ia(t))return!hn(t).length;for(var f in t)if(vn.call(t,f))return!1;return!0},Ee.isEqual=function(t,r){return po(t,r)},Ee.isEqualWith=function(t,r,f){var H=(f=typeof f=="function"?f:i)?f(t,r):i;return H===i?po(t,r,i,f):!!H},Ee.isError=Zl,Ee.isFinite=function(t){return typeof t=="number"&&Ta(t)},Ee.isFunction=vo,Ee.isInteger=Mc,Ee.isLength=nl,Ee.isMap=Lc,Ee.isMatch=function(t,r){return t===r||Er(t,r,jl(r))},Ee.isMatchWith=function(t,r,f){return f=typeof f=="function"?f:i,Er(t,r,jl(r),f)},Ee.isNaN=function(t){return Pc(t)&&t!=+t},Ee.isNative=function(t){if(rs(t))throw new fn("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return jo(t)},Ee.isNil=function(t){return t==null},Ee.isNull=function(t){return t===null},Ee.isNumber=Pc,Ee.isObject=On,Ee.isObjectLike=Mn,Ee.isPlainObject=la,Ee.isRegExp=Nl,Ee.isSafeInteger=function(t){return Mc(t)&&t>=-9007199254740991&&t<=fe},Ee.isSet=Ac,Ee.isString=rl,Ee.isSymbol=vr,Ee.isTypedArray=Ii,Ee.isUndefined=function(t){return t===i},Ee.isWeakMap=function(t){return Mn(t)&&Qn(t)==c},Ee.isWeakSet=function(t){return Mn(t)&&Pn(t)=="[object WeakSet]"},Ee.join=function(t,r){return t==null?"":bl.call(t,r)},Ee.kebabCase=Qs,Ee.last=Cr,Ee.lastIndexOf=function(t,r,f){var H=t==null?0:t.length;if(!H)return-1;var be=H;return f!==i&&(be=(be=ln(f))<0?Ln(H+be,0):Hn(be,H-1)),r==r?function(je,De,He){for(var Ve=He+1;Ve--;)if(je[Ve]===De)return Ve;return Ve}(t,r,be):Do(t,Hi,be,!0)},Ee.lowerCase=eu,Ee.lowerFirst=tu,Ee.lt=Ns,Ee.lte=Bs,Ee.max=function(t){return t&&t.length?Wo(t,fr,Fo):i},Ee.maxBy=function(t,r){return t&&t.length?Wo(t,Wt(r,2),Fo):i},Ee.mean=function(t){return Wi(t,fr)},Ee.meanBy=function(t,r){return Wi(t,Wt(r,2))},Ee.min=function(t){return t&&t.length?Wo(t,fr,ra):i},Ee.minBy=function(t,r){return t&&t.length?Wo(t,Wt(r,2),ra):i},Ee.stubArray=Yl,Ee.stubFalse=Gl,Ee.stubObject=function(){return{}},Ee.stubString=function(){return""},Ee.stubTrue=function(){return!0},Ee.multiply=yu,Ee.nth=function(t,r){return t&&t.length?d(t,ln(r)):i},Ee.noConflict=function(){return Zn._===this&&(Zn._=Vi),this},Ee.noop=Vl,Ee.now=Qa,Ee.pad=function(t,r,f){t=xn(t);var H=(r=ln(r))?Mr(t):0;if(!r||H>=r)return t;var be=(r-H)/2;return Va(Zo(be),f)+t+Va(Ro(be),f)},Ee.padEnd=function(t,r,f){t=xn(t);var H=(r=ln(r))?Mr(t):0;return r&&H<r?t+Va(r-H,f):t},Ee.padStart=function(t,r,f){t=xn(t);var H=(r=ln(r))?Mr(t):0;return r&&H<r?Va(r-H,f)+t:t},Ee.parseInt=function(t,r,f){return f||r==null?r=0:r&&(r=+r),xl(xn(t).replace(ot,""),r||0)},Ee.random=function(t,r,f){if(f&&typeof f!="boolean"&&ar(t,r,f)&&(r=f=i),f===i&&(typeof r=="boolean"?(f=r,r=i):typeof t=="boolean"&&(f=t,t=i)),t===i&&r===i?(t=0,r=1):(t=bo(t),r===i?(r=t,t=0):r=bo(r)),t>r){var H=t;t=r,r=H}if(f||t%1||r%1){var be=La();return Hn(t+be*(r-t+da("1e-"+((be+"").length-1))),r)}return q(t,r)},Ee.reduce=function(t,r,f){var H=rn(t)?ti:ba,be=arguments.length<3;return H(t,Wt(r,4),f,be,Yr)},Ee.reduceRight=function(t,r,f){var H=rn(t)?ga:ba,be=arguments.length<3;return H(t,Wt(r,4),f,be,Wa)},Ee.repeat=function(t,r,f){return r=(f?ar(t,r,f):r===i)?1:ln(r),Se(xn(t),r)},Ee.replace=function(){var t=arguments,r=xn(t[0]);return t.length<3?r:r.replace(t[1],t[2])},Ee.result=function(t,r,f){var H=-1,be=(r=Rn(r,t)).length;for(be||(be=1,t=i);++H<be;){var je=t==null?i:t[qr(r[H])];je===i&&(H=be,je=f),t=vo(je)?je.call(t):je}return t},Ee.round=xu,Ee.runInContext=Ye,Ee.sample=function(t){return(rn(t)?Za:Ie)(t)},Ee.size=function(t){if(t==null)return 0;if(ur(t))return rl(t)?Mr(t):t.length;var r=Qn(t);return r==u||r==T?t.size:hn(t).length},Ee.snakeCase=nu,Ee.some=function(t,r,f){var H=rn(t)?ni:Qe;return f&&ar(t,r,f)&&(r=i),H(t,Wt(r,3))},Ee.sortedIndex=function(t,r){return $e(t,r)},Ee.sortedIndexBy=function(t,r,f){return rt(t,r,Wt(f,2))},Ee.sortedIndexOf=function(t,r){var f=t==null?0:t.length;if(f){var H=$e(t,r);if(H<f&&Hr(t[H],r))return H}return-1},Ee.sortedLastIndex=function(t,r){return $e(t,r,!0)},Ee.sortedLastIndexBy=function(t,r,f){return rt(t,r,Wt(f,2),!0)},Ee.sortedLastIndexOf=function(t,r){if(t!=null&&t.length){var f=$e(t,r,!0)-1;if(Hr(t[f],r))return f}return-1},Ee.startCase=ru,Ee.startsWith=function(t,r,f){return t=xn(t),f=f==null?0:so(ln(f),0,t.length),r=St(r),t.slice(f,f+r.length)==r},Ee.subtract=wu,Ee.sum=function(t){return t&&t.length?oi(t,fr):0},Ee.sumBy=function(t,r){return t&&t.length?oi(t,Wt(r,2)):0},Ee.template=function(t,r,f){var H=Ee.templateSettings;f&&ar(t,r,f)&&(r=i),t=xn(t),r=ol({},r,H,nc);var be,je,De=ol({},r.imports,H.imports,nc),He=Kn(De),Ve=nr(De,He),ut=0,ct=r.interpolate||Te,mt="__p += '",Pt=di((r.escape||Te).source+"|"+ct.source+"|"+(ct===ke?ft:Te).source+"|"+(r.evaluate||Te).source+"|$","g"),zt="//# sourceURL="+(vn.call(r,"sourceURL")?(r.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++xo+"]")+`
`;t.replace(Pt,function(vt,Gt,Tt,Xt,Qt,pn){return Tt||(Tt=Xt),mt+=t.slice(ut,pn).replace(Le,ka),Gt&&(be=!0,mt+=`' +
__e(`+Gt+`) +
'`),Qt&&(je=!0,mt+=`';
`+Qt+`;
__p += '`),Tt&&(mt+=`' +
((__t = (`+Tt+`)) == null ? '' : __t) +
'`),ut=pn+vt.length,vt}),mt+=`';
`;var Ut=vn.call(r,"variable")&&r.variable;if(Ut){if(Je.test(Ut))throw new fn("Invalid `variable` option passed into `_.template`")}else mt=`with (obj) {
`+mt+`
}
`;mt=(je?mt.replace(J,""):mt).replace(Y,"$1").replace(oe,"$1;"),mt="function("+(Ut||"obj")+`) {
`+(Ut?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(be?", __e = _.escape":"")+(je?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+mt+`return __p
}`;var dt=Vc(function(){return In(He,zt+"return "+mt).apply(i,Ve)});if(dt.source=mt,Zl(dt))throw dt;return dt},Ee.times=function(t,r){if((t=ln(t))<1||t>fe)return[];var f=re,H=Hn(t,re);r=Wt(r),t-=re;for(var be=ii(H,r);++f<t;)r(f);return be},Ee.toFinite=bo,Ee.toInteger=ln,Ee.toLength=zc,Ee.toLower=function(t){return xn(t).toLowerCase()},Ee.toNumber=Or,Ee.toSafeInteger=function(t){return t?so(ln(t),-9007199254740991,fe):t===0?t:0},Ee.toString=xn,Ee.toUpper=function(t){return xn(t).toUpperCase()},Ee.trim=function(t,r,f){if((t=xn(t))&&(f||r===i))return Ui(t);if(!t||!(r=St(r)))return t;var H=rr(t),be=rr(r);return Yt(H,ya(H,be),Fr(H,be)+1).join("")},Ee.trimEnd=function(t,r,f){if((t=xn(t))&&(f||r===i))return t.slice(0,Ki(t)+1);if(!t||!(r=St(r)))return t;var H=rr(t);return Yt(H,0,Fr(H,rr(r))+1).join("")},Ee.trimStart=function(t,r,f){if((t=xn(t))&&(f||r===i))return t.replace(ot,"");if(!t||!(r=St(r)))return t;var H=rr(t);return Yt(H,ya(H,rr(r))).join("")},Ee.truncate=function(t,r){var f=30,H="...";if(On(r)){var be="separator"in r?r.separator:be;f="length"in r?ln(r.length):f,H="omission"in r?St(r.omission):H}var je=(t=xn(t)).length;if(oo(t)){var De=rr(t);je=De.length}if(f>=je)return t;var He=f-Mr(H);if(He<1)return H;var Ve=De?Yt(De,0,He).join(""):t.slice(0,He);if(be===i)return Ve+H;if(De&&(He+=Ve.length-He),Nl(be)){if(t.slice(He).search(be)){var ut,ct=Ve;for(be.global||(be=di(be.source,xn(pt.exec(be))+"g")),be.lastIndex=0;ut=be.exec(ct);)var mt=ut.index;Ve=Ve.slice(0,mt===i?He:mt)}}else if(t.indexOf(St(be),He)!=He){var Pt=Ve.lastIndexOf(be);Pt>-1&&(Ve=Ve.slice(0,Pt))}return Ve+H},Ee.unescape=function(t){return(t=xn(t))&&A.test(t)?t.replace(xe,si):t},Ee.uniqueId=function(t){var r=++cr;return xn(t)+r},Ee.upperCase=ou,Ee.upperFirst=Wl,Ee.each=Ec,Ee.eachRight=Sc,Ee.first=xc,Kl(Ee,(Xl={},mr(Ee,function(t,r){vn.call(Ee.prototype,r)||(Xl[r]=t)}),Xl),{chain:!1}),Ee.VERSION="4.17.21",Bn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){Ee[t].placeholder=Ee}),Bn(["drop","take"],function(t,r){un.prototype[t]=function(f){f=f===i?1:Ln(ln(f),0);var H=this.__filtered__&&!r?new un(this):this.clone();return H.__filtered__?H.__takeCount__=Hn(f,H.__takeCount__):H.__views__.push({size:Hn(f,re),type:t+(H.__dir__<0?"Right":"")}),H},un.prototype[t+"Right"]=function(f){return this.reverse()[t](f).reverse()}}),Bn(["filter","map","takeWhile"],function(t,r){var f=r+1,H=f==1||f==3;un.prototype[t]=function(be){var je=this.clone();return je.__iteratees__.push({iteratee:Wt(be,3),type:f}),je.__filtered__=je.__filtered__||H,je}}),Bn(["head","last"],function(t,r){var f="take"+(r?"Right":"");un.prototype[t]=function(){return this[f](1).value()[0]}}),Bn(["initial","tail"],function(t,r){var f="drop"+(r?"":"Right");un.prototype[t]=function(){return this.__filtered__?new un(this):this[f](1)}}),un.prototype.compact=function(){return this.filter(fr)},un.prototype.find=function(t){return this.filter(t).head()},un.prototype.findLast=function(t){return this.reverse().find(t)},un.prototype.invokeMap=ve(function(t,r){return typeof t=="function"?new un(this):this.map(function(f){return Rr(f,t,r)})}),un.prototype.reject=function(t){return this.filter(tl(Wt(t)))},un.prototype.slice=function(t,r){t=ln(t);var f=this;return f.__filtered__&&(t>0||r<0)?new un(f):(t<0?f=f.takeRight(-t):t&&(f=f.drop(t)),r!==i&&(f=(r=ln(r))<0?f.dropRight(-r):f.take(r-t)),f)},un.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},un.prototype.toArray=function(){return this.take(re)},mr(un.prototype,function(t,r){var f=/^(?:filter|find|map|reject)|While$/.test(r),H=/^(?:head|last)$/.test(r),be=Ee[H?"take"+(r=="last"?"Right":""):r],je=H||/^find/.test(r);be&&(Ee.prototype[r]=function(){var De=this.__wrapped__,He=H?[1]:arguments,Ve=De instanceof un,ut=He[0],ct=Ve||rn(De),mt=function(Gt){var Tt=be.apply(Ee,Tr([Gt],He));return H&&Pt?Tt[0]:Tt};ct&&f&&typeof ut=="function"&&ut.length!=1&&(Ve=ct=!1);var Pt=this.__chain__,zt=!!this.__actions__.length,Ut=je&&!Pt,dt=Ve&&!zt;if(!je&&ct){De=dt?De:new un(this);var vt=t.apply(De,He);return vt.__actions__.push({func:$a,args:[mt],thisArg:i}),new sr(vt,Pt)}return Ut&&dt?t.apply(this,He):(vt=this.thru(mt),Ut?H?vt.value()[0]:vt.value():vt)})}),Bn(["pop","push","shift","sort","splice","unshift"],function(t){var r=fi[t],f=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",H=/^(?:pop|shift)$/.test(t);Ee.prototype[t]=function(){var be=arguments;if(H&&!this.__chain__){var je=this.value();return r.apply(rn(je)?je:[],be)}return this[f](function(De){return r.apply(rn(De)?De:[],be)})}}),mr(un.prototype,function(t,r){var f=Ee[r];if(f){var H=f.name+"";vn.call(ao,H)||(ao[H]=[]),ao[H].push({name:r,func:f})}}),ao[An(i,2).name]=[{name:"wrapper",func:i}],un.prototype.clone=function(){var t=new un(this.__wrapped__);return t.__actions__=gn(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=gn(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=gn(this.__views__),t},un.prototype.reverse=function(){if(this.__filtered__){var t=new un(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},un.prototype.value=function(){var t=this.__wrapped__.value(),r=this.__dir__,f=rn(t),H=r<0,be=f?t.length:0,je=function(pn,Bt,Vt){for(var Wn=-1,br=Vt.length;++Wn<br;){var $r=Vt[Wn],Un=$r.size;switch($r.type){case"drop":pn+=Un;break;case"dropRight":Bt-=Un;break;case"take":Bt=Hn(Bt,pn+Un);break;case"takeRight":pn=Ln(pn,Bt-Un)}}return{start:pn,end:Bt}}(0,be,this.__views__),De=je.start,He=je.end,Ve=He-De,ut=H?He:De-1,ct=this.__iteratees__,mt=ct.length,Pt=0,zt=Hn(Ve,this.__takeCount__);if(!f||!H&&be==Ve&&zt==Ve)return Et(t,this.__actions__);var Ut=[];e:for(;Ve--&&Pt<zt;){for(var dt=-1,vt=t[ut+=r];++dt<mt;){var Gt=ct[dt],Tt=Gt.iteratee,Xt=Gt.type,Qt=Tt(vt);if(Xt==2)vt=Qt;else if(!Qt){if(Xt==1)continue e;break e}}Ut[Pt++]=vt}return Ut},Ee.prototype.at=ks,Ee.prototype.chain=function(){return _c(this)},Ee.prototype.commit=function(){return new sr(this.value(),this.__chain__)},Ee.prototype.next=function(){this.__values__===i&&(this.__values__=Dc(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?i:this.__values__[this.__index__++]}},Ee.prototype.plant=function(t){for(var r,f=this;f instanceof _i;){var H=gc(f);H.__index__=0,H.__values__=i,r?be.__wrapped__=H:r=H;var be=H;f=f.__wrapped__}return be.__wrapped__=t,r},Ee.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof un){var r=t;return this.__actions__.length&&(r=new un(this)),(r=r.reverse()).__actions__.push({func:$a,args:[Al],thisArg:i}),new sr(r,this.__chain__)}return this.thru(Al)},Ee.prototype.toJSON=Ee.prototype.valueOf=Ee.prototype.value=function(){return Et(this.__wrapped__,this.__actions__)},Ee.prototype.first=Ee.prototype.head,_o&&(Ee.prototype[_o]=function(){return this}),Ee}();Zn._=ui,(x=(function(){return ui}).call(K,o,K,le))===i||(le.exports=x)}).call(this)},4516:function(le){var K=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable;function i(v){if(v==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(v)}le.exports=function(){try{if(!Object.assign)return!1;var v=new String("abc");if(v[5]="de",Object.getOwnPropertyNames(v)[0]==="5")return!1;for(var g={},j=0;j<10;j++)g["_"+String.fromCharCode(j)]=j;if(Object.getOwnPropertyNames(g).map(function(V){return g[V]}).join("")!=="0123456789")return!1;var y={};return"abcdefghijklmnopqrst".split("").forEach(function(V){y[V]=V}),Object.keys(Object.assign({},y)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}()?Object.assign:function(v,g){for(var j,y,V=i(v),ie=1;ie<arguments.length;ie++){for(var I in j=Object(arguments[ie]))o.call(j,I)&&(V[I]=j[I]);if(K){y=K(j);for(var te=0;te<y.length;te++)x.call(j,y[te])&&(V[y[te]]=j[y[te]])}}return V}},2744:function(le,K,o){var x={};(0,o(9187).assign)(x,o(4395),o(578),o(2684)),le.exports=x},4395:function(le,K,o){var x=o(7651),i=o(9187),v=o(8592),g=o(5604),j=o(249),y=Object.prototype.toString;function V(I){if(!(this instanceof V))return new V(I);this.options=i.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},I||{});var te=this.options;te.raw&&te.windowBits>0?te.windowBits=-te.windowBits:te.gzip&&te.windowBits>0&&te.windowBits<16&&(te.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new j,this.strm.avail_out=0;var pe=x.deflateInit2(this.strm,te.level,te.method,te.windowBits,te.memLevel,te.strategy);if(pe!==0)throw new Error(g[pe]);if(te.header&&x.deflateSetHeader(this.strm,te.header),te.dictionary){var fe;if(fe=typeof te.dictionary=="string"?v.string2buf(te.dictionary):y.call(te.dictionary)==="[object ArrayBuffer]"?new Uint8Array(te.dictionary):te.dictionary,(pe=x.deflateSetDictionary(this.strm,fe))!==0)throw new Error(g[pe]);this._dict_set=!0}}function ie(I,te){var pe=new V(te);if(pe.push(I,!0),pe.err)throw pe.msg||g[pe.err];return pe.result}V.prototype.push=function(I,te){var pe,fe,W=this.strm,re=this.options.chunkSize;if(this.ended)return!1;fe=te===~~te?te:te===!0?4:0,typeof I=="string"?W.input=v.string2buf(I):y.call(I)==="[object ArrayBuffer]"?W.input=new Uint8Array(I):W.input=I,W.next_in=0,W.avail_in=W.input.length;do{if(W.avail_out===0&&(W.output=new i.Buf8(re),W.next_out=0,W.avail_out=re),(pe=x.deflate(W,fe))!==1&&pe!==0)return this.onEnd(pe),this.ended=!0,!1;W.avail_out!==0&&(W.avail_in!==0||fe!==4&&fe!==2)||(this.options.to==="string"?this.onData(v.buf2binstring(i.shrinkBuf(W.output,W.next_out))):this.onData(i.shrinkBuf(W.output,W.next_out)))}while((W.avail_in>0||W.avail_out===0)&&pe!==1);return fe===4?(pe=x.deflateEnd(this.strm),this.onEnd(pe),this.ended=!0,pe===0):fe!==2||(this.onEnd(0),W.avail_out=0,!0)},V.prototype.onData=function(I){this.chunks.push(I)},V.prototype.onEnd=function(I){I===0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=I,this.msg=this.strm.msg},K.Deflate=V,K.deflate=ie,K.deflateRaw=function(I,te){return(te=te||{}).raw=!0,ie(I,te)},K.gzip=function(I,te){return(te=te||{}).gzip=!0,ie(I,te)}},578:function(le,K,o){var x=o(7823),i=o(9187),v=o(8592),g=o(2684),j=o(5604),y=o(249),V=o(9968),ie=Object.prototype.toString;function I(pe){if(!(this instanceof I))return new I(pe);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},pe||{});var fe=this.options;fe.raw&&fe.windowBits>=0&&fe.windowBits<16&&(fe.windowBits=-fe.windowBits,fe.windowBits===0&&(fe.windowBits=-15)),!(fe.windowBits>=0&&fe.windowBits<16)||pe&&pe.windowBits||(fe.windowBits+=32),fe.windowBits>15&&fe.windowBits<48&&!(15&fe.windowBits)&&(fe.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new y,this.strm.avail_out=0;var W=x.inflateInit2(this.strm,fe.windowBits);if(W!==g.Z_OK)throw new Error(j[W]);if(this.header=new V,x.inflateGetHeader(this.strm,this.header),fe.dictionary&&(typeof fe.dictionary=="string"?fe.dictionary=v.string2buf(fe.dictionary):ie.call(fe.dictionary)==="[object ArrayBuffer]"&&(fe.dictionary=new Uint8Array(fe.dictionary)),fe.raw&&(W=x.inflateSetDictionary(this.strm,fe.dictionary))!==g.Z_OK))throw new Error(j[W])}function te(pe,fe){var W=new I(fe);if(W.push(pe,!0),W.err)throw W.msg||j[W.err];return W.result}I.prototype.push=function(pe,fe){var W,re,ne,ue,$,ge=this.strm,se=this.options.chunkSize,S=this.options.dictionary,F=!1;if(this.ended)return!1;re=fe===~~fe?fe:fe===!0?g.Z_FINISH:g.Z_NO_FLUSH,typeof pe=="string"?ge.input=v.binstring2buf(pe):ie.call(pe)==="[object ArrayBuffer]"?ge.input=new Uint8Array(pe):ge.input=pe,ge.next_in=0,ge.avail_in=ge.input.length;do{if(ge.avail_out===0&&(ge.output=new i.Buf8(se),ge.next_out=0,ge.avail_out=se),(W=x.inflate(ge,g.Z_NO_FLUSH))===g.Z_NEED_DICT&&S&&(W=x.inflateSetDictionary(this.strm,S)),W===g.Z_BUF_ERROR&&F===!0&&(W=g.Z_OK,F=!1),W!==g.Z_STREAM_END&&W!==g.Z_OK)return this.onEnd(W),this.ended=!0,!1;ge.next_out&&(ge.avail_out!==0&&W!==g.Z_STREAM_END&&(ge.avail_in!==0||re!==g.Z_FINISH&&re!==g.Z_SYNC_FLUSH)||(this.options.to==="string"?(ne=v.utf8border(ge.output,ge.next_out),ue=ge.next_out-ne,$=v.buf2string(ge.output,ne),ge.next_out=ue,ge.avail_out=se-ue,ue&&i.arraySet(ge.output,ge.output,ne,ue,0),this.onData($)):this.onData(i.shrinkBuf(ge.output,ge.next_out)))),ge.avail_in===0&&ge.avail_out===0&&(F=!0)}while((ge.avail_in>0||ge.avail_out===0)&&W!==g.Z_STREAM_END);return W===g.Z_STREAM_END&&(re=g.Z_FINISH),re===g.Z_FINISH?(W=x.inflateEnd(this.strm),this.onEnd(W),this.ended=!0,W===g.Z_OK):re!==g.Z_SYNC_FLUSH||(this.onEnd(g.Z_OK),ge.avail_out=0,!0)},I.prototype.onData=function(pe){this.chunks.push(pe)},I.prototype.onEnd=function(pe){pe===g.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=pe,this.msg=this.strm.msg},K.Inflate=I,K.inflate=te,K.inflateRaw=function(pe,fe){return(fe=fe||{}).raw=!0,te(pe,fe)},K.ungzip=te},9187:function(le,K){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function x(g,j){return Object.prototype.hasOwnProperty.call(g,j)}K.assign=function(g){for(var j=Array.prototype.slice.call(arguments,1);j.length;){var y=j.shift();if(y){if(typeof y!="object")throw new TypeError(y+"must be non-object");for(var V in y)x(y,V)&&(g[V]=y[V])}}return g},K.shrinkBuf=function(g,j){return g.length===j?g:g.subarray?g.subarray(0,j):(g.length=j,g)};var i={arraySet:function(g,j,y,V,ie){if(j.subarray&&g.subarray)g.set(j.subarray(y,y+V),ie);else for(var I=0;I<V;I++)g[ie+I]=j[y+I]},flattenChunks:function(g){var j,y,V,ie,I,te;for(V=0,j=0,y=g.length;j<y;j++)V+=g[j].length;for(te=new Uint8Array(V),ie=0,j=0,y=g.length;j<y;j++)I=g[j],te.set(I,ie),ie+=I.length;return te}},v={arraySet:function(g,j,y,V,ie){for(var I=0;I<V;I++)g[ie+I]=j[y+I]},flattenChunks:function(g){return[].concat.apply([],g)}};K.setTyped=function(g){g?(K.Buf8=Uint8Array,K.Buf16=Uint16Array,K.Buf32=Int32Array,K.assign(K,i)):(K.Buf8=Array,K.Buf16=Array,K.Buf32=Array,K.assign(K,v))},K.setTyped(o)},8592:function(le,K,o){var x=o(9187),i=!0,v=!0;try{String.fromCharCode.apply(null,[0])}catch{i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{v=!1}for(var g=new x.Buf8(256),j=0;j<256;j++)g[j]=j>=252?6:j>=248?5:j>=240?4:j>=224?3:j>=192?2:1;function y(V,ie){if(ie<65534&&(V.subarray&&v||!V.subarray&&i))return String.fromCharCode.apply(null,x.shrinkBuf(V,ie));for(var I="",te=0;te<ie;te++)I+=String.fromCharCode(V[te]);return I}g[254]=g[254]=1,K.string2buf=function(V){var ie,I,te,pe,fe,W=V.length,re=0;for(pe=0;pe<W;pe++)(64512&(I=V.charCodeAt(pe)))==55296&&pe+1<W&&(64512&(te=V.charCodeAt(pe+1)))==56320&&(I=65536+(I-55296<<10)+(te-56320),pe++),re+=I<128?1:I<2048?2:I<65536?3:4;for(ie=new x.Buf8(re),fe=0,pe=0;fe<re;pe++)(64512&(I=V.charCodeAt(pe)))==55296&&pe+1<W&&(64512&(te=V.charCodeAt(pe+1)))==56320&&(I=65536+(I-55296<<10)+(te-56320),pe++),I<128?ie[fe++]=I:I<2048?(ie[fe++]=192|I>>>6,ie[fe++]=128|63&I):I<65536?(ie[fe++]=224|I>>>12,ie[fe++]=128|I>>>6&63,ie[fe++]=128|63&I):(ie[fe++]=240|I>>>18,ie[fe++]=128|I>>>12&63,ie[fe++]=128|I>>>6&63,ie[fe++]=128|63&I);return ie},K.buf2binstring=function(V){return y(V,V.length)},K.binstring2buf=function(V){for(var ie=new x.Buf8(V.length),I=0,te=ie.length;I<te;I++)ie[I]=V.charCodeAt(I);return ie},K.buf2string=function(V,ie){var I,te,pe,fe,W=ie||V.length,re=new Array(2*W);for(te=0,I=0;I<W;)if((pe=V[I++])<128)re[te++]=pe;else if((fe=g[pe])>4)re[te++]=65533,I+=fe-1;else{for(pe&=fe===2?31:fe===3?15:7;fe>1&&I<W;)pe=pe<<6|63&V[I++],fe--;fe>1?re[te++]=65533:pe<65536?re[te++]=pe:(pe-=65536,re[te++]=55296|pe>>10&1023,re[te++]=56320|1023&pe)}return y(re,te)},K.utf8border=function(V,ie){var I;for((ie=ie||V.length)>V.length&&(ie=V.length),I=ie-1;I>=0&&(192&V[I])==128;)I--;return I<0||I===0?ie:I+g[V[I]]>ie?I:ie}},3693:function(le){le.exports=function(K,o,x,i){for(var v=65535&K|0,g=K>>>16&65535|0,j=0;x!==0;){x-=j=x>2e3?2e3:x;do g=g+(v=v+o[i++]|0)|0;while(--j);v%=65521,g%=65521}return v|g<<16|0}},2684:function(le){le.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},8464:function(le){var K=function(){for(var o,x=[],i=0;i<256;i++){o=i;for(var v=0;v<8;v++)o=1&o?3988292384^o>>>1:o>>>1;x[i]=o}return x}();le.exports=function(o,x,i,v){var g=K,j=v+i;o^=-1;for(var y=v;y<j;y++)o=o>>>8^g[255&(o^x[y])];return-1^o}},7651:function(le,K,o){var x,i=o(9187),v=o(8676),g=o(3693),j=o(8464),y=o(5604),V=-2,ie=258,I=262,te=103,pe=113,fe=666;function W(l,m){return l.msg=y[m],m}function re(l){return(l<<1)-(l>4?9:0)}function ne(l){for(var m=l.length;--m>=0;)l[m]=0}function ue(l){var m=l.state,c=m.pending;c>l.avail_out&&(c=l.avail_out),c!==0&&(i.arraySet(l.output,m.pending_buf,m.pending_out,c,l.next_out),l.next_out+=c,m.pending_out+=c,l.total_out+=c,l.avail_out-=c,m.pending-=c,m.pending===0&&(m.pending_out=0))}function $(l,m){v._tr_flush_block(l,l.block_start>=0?l.block_start:-1,l.strstart-l.block_start,m),l.block_start=l.strstart,ue(l.strm)}function ge(l,m){l.pending_buf[l.pending++]=m}function se(l,m){l.pending_buf[l.pending++]=m>>>8&255,l.pending_buf[l.pending++]=255&m}function S(l,m){var c,n,C=l.max_chain_length,D=l.strstart,B=l.prev_length,U=l.nice_match,R=l.strstart>l.w_size-I?l.strstart-(l.w_size-I):0,b=l.window,M=l.w_mask,G=l.prev,ae=l.strstart+ie,ce=b[D+B-1],J=b[D+B];l.prev_length>=l.good_match&&(C>>=2),U>l.lookahead&&(U=l.lookahead);do if(b[(c=m)+B]===J&&b[c+B-1]===ce&&b[c]===b[D]&&b[++c]===b[D+1]){D+=2,c++;do;while(b[++D]===b[++c]&&b[++D]===b[++c]&&b[++D]===b[++c]&&b[++D]===b[++c]&&b[++D]===b[++c]&&b[++D]===b[++c]&&b[++D]===b[++c]&&b[++D]===b[++c]&&D<ae);if(n=ie-(ae-D),D=ae-ie,n>B){if(l.match_start=m,B=n,n>=U)break;ce=b[D+B-1],J=b[D+B]}}while((m=G[m&M])>R&&--C!=0);return B<=l.lookahead?B:l.lookahead}function F(l){var m,c,n,C,D,B,U,R,b,M,G=l.w_size;do{if(C=l.window_size-l.lookahead-l.strstart,l.strstart>=G+(G-I)){i.arraySet(l.window,l.window,G,G,0),l.match_start-=G,l.strstart-=G,l.block_start-=G,m=c=l.hash_size;do n=l.head[--m],l.head[m]=n>=G?n-G:0;while(--c);m=c=G;do n=l.prev[--m],l.prev[m]=n>=G?n-G:0;while(--c);C+=G}if(l.strm.avail_in===0)break;if(B=l.strm,U=l.window,R=l.strstart+l.lookahead,b=C,M=void 0,(M=B.avail_in)>b&&(M=b),c=M===0?0:(B.avail_in-=M,i.arraySet(U,B.input,B.next_in,M,R),B.state.wrap===1?B.adler=g(B.adler,U,M,R):B.state.wrap===2&&(B.adler=j(B.adler,U,M,R)),B.next_in+=M,B.total_in+=M,M),l.lookahead+=c,l.lookahead+l.insert>=3)for(D=l.strstart-l.insert,l.ins_h=l.window[D],l.ins_h=(l.ins_h<<l.hash_shift^l.window[D+1])&l.hash_mask;l.insert&&(l.ins_h=(l.ins_h<<l.hash_shift^l.window[D+3-1])&l.hash_mask,l.prev[D&l.w_mask]=l.head[l.ins_h],l.head[l.ins_h]=D,D++,l.insert--,!(l.lookahead+l.insert<3)););}while(l.lookahead<I&&l.strm.avail_in!==0)}function h(l,m){for(var c,n;;){if(l.lookahead<I){if(F(l),l.lookahead<I&&m===0)return 1;if(l.lookahead===0)break}if(c=0,l.lookahead>=3&&(l.ins_h=(l.ins_h<<l.hash_shift^l.window[l.strstart+3-1])&l.hash_mask,c=l.prev[l.strstart&l.w_mask]=l.head[l.ins_h],l.head[l.ins_h]=l.strstart),c!==0&&l.strstart-c<=l.w_size-I&&(l.match_length=S(l,c)),l.match_length>=3)if(n=v._tr_tally(l,l.strstart-l.match_start,l.match_length-3),l.lookahead-=l.match_length,l.match_length<=l.max_lazy_match&&l.lookahead>=3){l.match_length--;do l.strstart++,l.ins_h=(l.ins_h<<l.hash_shift^l.window[l.strstart+3-1])&l.hash_mask,c=l.prev[l.strstart&l.w_mask]=l.head[l.ins_h],l.head[l.ins_h]=l.strstart;while(--l.match_length!=0);l.strstart++}else l.strstart+=l.match_length,l.match_length=0,l.ins_h=l.window[l.strstart],l.ins_h=(l.ins_h<<l.hash_shift^l.window[l.strstart+1])&l.hash_mask;else n=v._tr_tally(l,0,l.window[l.strstart]),l.lookahead--,l.strstart++;if(n&&($(l,!1),l.strm.avail_out===0))return 1}return l.insert=l.strstart<2?l.strstart:2,m===4?($(l,!0),l.strm.avail_out===0?3:4):l.last_lit&&($(l,!1),l.strm.avail_out===0)?1:2}function u(l,m){for(var c,n,C;;){if(l.lookahead<I){if(F(l),l.lookahead<I&&m===0)return 1;if(l.lookahead===0)break}if(c=0,l.lookahead>=3&&(l.ins_h=(l.ins_h<<l.hash_shift^l.window[l.strstart+3-1])&l.hash_mask,c=l.prev[l.strstart&l.w_mask]=l.head[l.ins_h],l.head[l.ins_h]=l.strstart),l.prev_length=l.match_length,l.prev_match=l.match_start,l.match_length=2,c!==0&&l.prev_length<l.max_lazy_match&&l.strstart-c<=l.w_size-I&&(l.match_length=S(l,c),l.match_length<=5&&(l.strategy===1||l.match_length===3&&l.strstart-l.match_start>4096)&&(l.match_length=2)),l.prev_length>=3&&l.match_length<=l.prev_length){C=l.strstart+l.lookahead-3,n=v._tr_tally(l,l.strstart-1-l.prev_match,l.prev_length-3),l.lookahead-=l.prev_length-1,l.prev_length-=2;do++l.strstart<=C&&(l.ins_h=(l.ins_h<<l.hash_shift^l.window[l.strstart+3-1])&l.hash_mask,c=l.prev[l.strstart&l.w_mask]=l.head[l.ins_h],l.head[l.ins_h]=l.strstart);while(--l.prev_length!=0);if(l.match_available=0,l.match_length=2,l.strstart++,n&&($(l,!1),l.strm.avail_out===0))return 1}else if(l.match_available){if((n=v._tr_tally(l,0,l.window[l.strstart-1]))&&$(l,!1),l.strstart++,l.lookahead--,l.strm.avail_out===0)return 1}else l.match_available=1,l.strstart++,l.lookahead--}return l.match_available&&(n=v._tr_tally(l,0,l.window[l.strstart-1]),l.match_available=0),l.insert=l.strstart<2?l.strstart:2,m===4?($(l,!0),l.strm.avail_out===0?3:4):l.last_lit&&($(l,!1),l.strm.avail_out===0)?1:2}function O(l,m,c,n,C){this.good_length=l,this.max_lazy=m,this.nice_length=c,this.max_chain=n,this.func=C}function p(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(1146),this.dyn_dtree=new i.Buf16(122),this.bl_tree=new i.Buf16(78),ne(this.dyn_ltree),ne(this.dyn_dtree),ne(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(16),this.heap=new i.Buf16(573),ne(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(573),ne(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function _(l){var m;return l&&l.state?(l.total_in=l.total_out=0,l.data_type=2,(m=l.state).pending=0,m.pending_out=0,m.wrap<0&&(m.wrap=-m.wrap),m.status=m.wrap?42:pe,l.adler=m.wrap===2?0:1,m.last_flush=0,v._tr_init(m),0):W(l,V)}function E(l){var m,c=_(l);return c===0&&((m=l.state).window_size=2*m.w_size,ne(m.head),m.max_lazy_match=x[m.level].max_lazy,m.good_match=x[m.level].good_length,m.nice_match=x[m.level].nice_length,m.max_chain_length=x[m.level].max_chain,m.strstart=0,m.block_start=0,m.lookahead=0,m.insert=0,m.match_length=m.prev_length=2,m.match_available=0,m.ins_h=0),c}function T(l,m,c,n,C,D){if(!l)return V;var B=1;if(m===-1&&(m=6),n<0?(B=0,n=-n):n>15&&(B=2,n-=16),C<1||C>9||c!==8||n<8||n>15||m<0||m>9||D<0||D>4)return W(l,V);n===8&&(n=9);var U=new p;return l.state=U,U.strm=l,U.wrap=B,U.gzhead=null,U.w_bits=n,U.w_size=1<<U.w_bits,U.w_mask=U.w_size-1,U.hash_bits=C+7,U.hash_size=1<<U.hash_bits,U.hash_mask=U.hash_size-1,U.hash_shift=~~((U.hash_bits+3-1)/3),U.window=new i.Buf8(2*U.w_size),U.head=new i.Buf16(U.hash_size),U.prev=new i.Buf16(U.w_size),U.lit_bufsize=1<<C+6,U.pending_buf_size=4*U.lit_bufsize,U.pending_buf=new i.Buf8(U.pending_buf_size),U.d_buf=1*U.lit_bufsize,U.l_buf=3*U.lit_bufsize,U.level=m,U.strategy=D,U.method=c,E(l)}x=[new O(0,0,0,0,function(l,m){var c=65535;for(c>l.pending_buf_size-5&&(c=l.pending_buf_size-5);;){if(l.lookahead<=1){if(F(l),l.lookahead===0&&m===0)return 1;if(l.lookahead===0)break}l.strstart+=l.lookahead,l.lookahead=0;var n=l.block_start+c;if((l.strstart===0||l.strstart>=n)&&(l.lookahead=l.strstart-n,l.strstart=n,$(l,!1),l.strm.avail_out===0)||l.strstart-l.block_start>=l.w_size-I&&($(l,!1),l.strm.avail_out===0))return 1}return l.insert=0,m===4?($(l,!0),l.strm.avail_out===0?3:4):(l.strstart>l.block_start&&($(l,!1),l.strm.avail_out),1)}),new O(4,4,8,4,h),new O(4,5,16,8,h),new O(4,6,32,32,h),new O(4,4,16,16,u),new O(8,16,32,32,u),new O(8,16,128,128,u),new O(8,32,128,256,u),new O(32,128,258,1024,u),new O(32,258,258,4096,u)],K.deflateInit=function(l,m){return T(l,m,8,15,8,0)},K.deflateInit2=T,K.deflateReset=E,K.deflateResetKeep=_,K.deflateSetHeader=function(l,m){return l&&l.state?l.state.wrap!==2?V:(l.state.gzhead=m,0):V},K.deflate=function(l,m){var c,n,C,D;if(!l||!l.state||m>5||m<0)return l?W(l,V):V;if(n=l.state,!l.output||!l.input&&l.avail_in!==0||n.status===fe&&m!==4)return W(l,l.avail_out===0?-5:V);if(n.strm=l,c=n.last_flush,n.last_flush=m,n.status===42)if(n.wrap===2)l.adler=0,ge(n,31),ge(n,139),ge(n,8),n.gzhead?(ge(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),ge(n,255&n.gzhead.time),ge(n,n.gzhead.time>>8&255),ge(n,n.gzhead.time>>16&255),ge(n,n.gzhead.time>>24&255),ge(n,n.level===9?2:n.strategy>=2||n.level<2?4:0),ge(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(ge(n,255&n.gzhead.extra.length),ge(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(l.adler=j(l.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69):(ge(n,0),ge(n,0),ge(n,0),ge(n,0),ge(n,0),ge(n,n.level===9?2:n.strategy>=2||n.level<2?4:0),ge(n,3),n.status=pe);else{var B=8+(n.w_bits-8<<4)<<8;B|=(n.strategy>=2||n.level<2?0:n.level<6?1:n.level===6?2:3)<<6,n.strstart!==0&&(B|=32),B+=31-B%31,n.status=pe,se(n,B),n.strstart!==0&&(se(n,l.adler>>>16),se(n,65535&l.adler)),l.adler=1}if(n.status===69)if(n.gzhead.extra){for(C=n.pending;n.gzindex<(65535&n.gzhead.extra.length)&&(n.pending!==n.pending_buf_size||(n.gzhead.hcrc&&n.pending>C&&(l.adler=j(l.adler,n.pending_buf,n.pending-C,C)),ue(l),C=n.pending,n.pending!==n.pending_buf_size));)ge(n,255&n.gzhead.extra[n.gzindex]),n.gzindex++;n.gzhead.hcrc&&n.pending>C&&(l.adler=j(l.adler,n.pending_buf,n.pending-C,C)),n.gzindex===n.gzhead.extra.length&&(n.gzindex=0,n.status=73)}else n.status=73;if(n.status===73)if(n.gzhead.name){C=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>C&&(l.adler=j(l.adler,n.pending_buf,n.pending-C,C)),ue(l),C=n.pending,n.pending===n.pending_buf_size)){D=1;break}D=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,ge(n,D)}while(D!==0);n.gzhead.hcrc&&n.pending>C&&(l.adler=j(l.adler,n.pending_buf,n.pending-C,C)),D===0&&(n.gzindex=0,n.status=91)}else n.status=91;if(n.status===91)if(n.gzhead.comment){C=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>C&&(l.adler=j(l.adler,n.pending_buf,n.pending-C,C)),ue(l),C=n.pending,n.pending===n.pending_buf_size)){D=1;break}D=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,ge(n,D)}while(D!==0);n.gzhead.hcrc&&n.pending>C&&(l.adler=j(l.adler,n.pending_buf,n.pending-C,C)),D===0&&(n.status=te)}else n.status=te;if(n.status===te&&(n.gzhead.hcrc?(n.pending+2>n.pending_buf_size&&ue(l),n.pending+2<=n.pending_buf_size&&(ge(n,255&l.adler),ge(n,l.adler>>8&255),l.adler=0,n.status=pe)):n.status=pe),n.pending!==0){if(ue(l),l.avail_out===0)return n.last_flush=-1,0}else if(l.avail_in===0&&re(m)<=re(c)&&m!==4)return W(l,-5);if(n.status===fe&&l.avail_in!==0)return W(l,-5);if(l.avail_in!==0||n.lookahead!==0||m!==0&&n.status!==fe){var U=n.strategy===2?function(R,b){for(var M;;){if(R.lookahead===0&&(F(R),R.lookahead===0)){if(b===0)return 1;break}if(R.match_length=0,M=v._tr_tally(R,0,R.window[R.strstart]),R.lookahead--,R.strstart++,M&&($(R,!1),R.strm.avail_out===0))return 1}return R.insert=0,b===4?($(R,!0),R.strm.avail_out===0?3:4):R.last_lit&&($(R,!1),R.strm.avail_out===0)?1:2}(n,m):n.strategy===3?function(R,b){for(var M,G,ae,ce,J=R.window;;){if(R.lookahead<=ie){if(F(R),R.lookahead<=ie&&b===0)return 1;if(R.lookahead===0)break}if(R.match_length=0,R.lookahead>=3&&R.strstart>0&&(G=J[ae=R.strstart-1])===J[++ae]&&G===J[++ae]&&G===J[++ae]){ce=R.strstart+ie;do;while(G===J[++ae]&&G===J[++ae]&&G===J[++ae]&&G===J[++ae]&&G===J[++ae]&&G===J[++ae]&&G===J[++ae]&&G===J[++ae]&&ae<ce);R.match_length=ie-(ce-ae),R.match_length>R.lookahead&&(R.match_length=R.lookahead)}if(R.match_length>=3?(M=v._tr_tally(R,1,R.match_length-3),R.lookahead-=R.match_length,R.strstart+=R.match_length,R.match_length=0):(M=v._tr_tally(R,0,R.window[R.strstart]),R.lookahead--,R.strstart++),M&&($(R,!1),R.strm.avail_out===0))return 1}return R.insert=0,b===4?($(R,!0),R.strm.avail_out===0?3:4):R.last_lit&&($(R,!1),R.strm.avail_out===0)?1:2}(n,m):x[n.level].func(n,m);if(U!==3&&U!==4||(n.status=fe),U===1||U===3)return l.avail_out===0&&(n.last_flush=-1),0;if(U===2&&(m===1?v._tr_align(n):m!==5&&(v._tr_stored_block(n,0,0,!1),m===3&&(ne(n.head),n.lookahead===0&&(n.strstart=0,n.block_start=0,n.insert=0))),ue(l),l.avail_out===0))return n.last_flush=-1,0}return m!==4?0:n.wrap<=0?1:(n.wrap===2?(ge(n,255&l.adler),ge(n,l.adler>>8&255),ge(n,l.adler>>16&255),ge(n,l.adler>>24&255),ge(n,255&l.total_in),ge(n,l.total_in>>8&255),ge(n,l.total_in>>16&255),ge(n,l.total_in>>24&255)):(se(n,l.adler>>>16),se(n,65535&l.adler)),ue(l),n.wrap>0&&(n.wrap=-n.wrap),n.pending!==0?0:1)},K.deflateEnd=function(l){var m;return l&&l.state?(m=l.state.status)!==42&&m!==69&&m!==73&&m!==91&&m!==te&&m!==pe&&m!==fe?W(l,V):(l.state=null,m===pe?W(l,-3):0):V},K.deflateSetDictionary=function(l,m){var c,n,C,D,B,U,R,b,M=m.length;if(!l||!l.state||(D=(c=l.state).wrap)===2||D===1&&c.status!==42||c.lookahead)return V;for(D===1&&(l.adler=g(l.adler,m,M,0)),c.wrap=0,M>=c.w_size&&(D===0&&(ne(c.head),c.strstart=0,c.block_start=0,c.insert=0),b=new i.Buf8(c.w_size),i.arraySet(b,m,M-c.w_size,c.w_size,0),m=b,M=c.w_size),B=l.avail_in,U=l.next_in,R=l.input,l.avail_in=M,l.next_in=0,l.input=m,F(c);c.lookahead>=3;){n=c.strstart,C=c.lookahead-2;do c.ins_h=(c.ins_h<<c.hash_shift^c.window[n+3-1])&c.hash_mask,c.prev[n&c.w_mask]=c.head[c.ins_h],c.head[c.ins_h]=n,n++;while(--C);c.strstart=n,c.lookahead=2,F(c)}return c.strstart+=c.lookahead,c.block_start=c.strstart,c.insert=c.lookahead,c.lookahead=0,c.match_length=c.prev_length=2,c.match_available=0,l.next_in=U,l.input=R,l.avail_in=B,c.wrap=D,0},K.deflateInfo="pako deflate (from Nodeca project)"},9968:function(le){le.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},9365:function(le){le.exports=function(K,o){var x,i,v,g,j,y,V,ie,I,te,pe,fe,W,re,ne,ue,$,ge,se,S,F,h,u,O,p;x=K.state,i=K.next_in,O=K.input,v=i+(K.avail_in-5),g=K.next_out,p=K.output,j=g-(o-K.avail_out),y=g+(K.avail_out-257),V=x.dmax,ie=x.wsize,I=x.whave,te=x.wnext,pe=x.window,fe=x.hold,W=x.bits,re=x.lencode,ne=x.distcode,ue=(1<<x.lenbits)-1,$=(1<<x.distbits)-1;e:do{W<15&&(fe+=O[i++]<<W,W+=8,fe+=O[i++]<<W,W+=8),ge=re[fe&ue];t:for(;;){if(fe>>>=se=ge>>>24,W-=se,(se=ge>>>16&255)===0)p[g++]=65535&ge;else{if(!(16&se)){if(!(64&se)){ge=re[(65535&ge)+(fe&(1<<se)-1)];continue t}if(32&se){x.mode=12;break e}K.msg="invalid literal/length code",x.mode=30;break e}S=65535&ge,(se&=15)&&(W<se&&(fe+=O[i++]<<W,W+=8),S+=fe&(1<<se)-1,fe>>>=se,W-=se),W<15&&(fe+=O[i++]<<W,W+=8,fe+=O[i++]<<W,W+=8),ge=ne[fe&$];n:for(;;){if(fe>>>=se=ge>>>24,W-=se,!(16&(se=ge>>>16&255))){if(!(64&se)){ge=ne[(65535&ge)+(fe&(1<<se)-1)];continue n}K.msg="invalid distance code",x.mode=30;break e}if(F=65535&ge,W<(se&=15)&&(fe+=O[i++]<<W,(W+=8)<se&&(fe+=O[i++]<<W,W+=8)),(F+=fe&(1<<se)-1)>V){K.msg="invalid distance too far back",x.mode=30;break e}if(fe>>>=se,W-=se,F>(se=g-j)){if((se=F-se)>I&&x.sane){K.msg="invalid distance too far back",x.mode=30;break e}if(h=0,u=pe,te===0){if(h+=ie-se,se<S){S-=se;do p[g++]=pe[h++];while(--se);h=g-F,u=p}}else if(te<se){if(h+=ie+te-se,(se-=te)<S){S-=se;do p[g++]=pe[h++];while(--se);if(h=0,te<S){S-=se=te;do p[g++]=pe[h++];while(--se);h=g-F,u=p}}}else if(h+=te-se,se<S){S-=se;do p[g++]=pe[h++];while(--se);h=g-F,u=p}for(;S>2;)p[g++]=u[h++],p[g++]=u[h++],p[g++]=u[h++],S-=3;S&&(p[g++]=u[h++],S>1&&(p[g++]=u[h++]))}else{h=g-F;do p[g++]=p[h++],p[g++]=p[h++],p[g++]=p[h++],S-=3;while(S>2);S&&(p[g++]=p[h++],S>1&&(p[g++]=p[h++]))}break}}break}}while(i<v&&g<y);i-=S=W>>3,fe&=(1<<(W-=S<<3))-1,K.next_in=i,K.next_out=g,K.avail_in=i<v?v-i+5:5-(i-v),K.avail_out=g<y?y-g+257:257-(g-y),x.hold=fe,x.bits=W}},7823:function(le,K,o){var x=o(9187),i=o(3693),v=o(8464),g=o(9365),j=o(6446),y=-2,V=12,ie=30;function I(S){return(S>>>24&255)+(S>>>8&65280)+((65280&S)<<8)+((255&S)<<24)}function te(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new x.Buf16(320),this.work=new x.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function pe(S){var F;return S&&S.state?(F=S.state,S.total_in=S.total_out=F.total=0,S.msg="",F.wrap&&(S.adler=1&F.wrap),F.mode=1,F.last=0,F.havedict=0,F.dmax=32768,F.head=null,F.hold=0,F.bits=0,F.lencode=F.lendyn=new x.Buf32(852),F.distcode=F.distdyn=new x.Buf32(592),F.sane=1,F.back=-1,0):y}function fe(S){var F;return S&&S.state?((F=S.state).wsize=0,F.whave=0,F.wnext=0,pe(S)):y}function W(S,F){var h,u;return S&&S.state?(u=S.state,F<0?(h=0,F=-F):(h=1+(F>>4),F<48&&(F&=15)),F&&(F<8||F>15)?y:(u.window!==null&&u.wbits!==F&&(u.window=null),u.wrap=h,u.wbits=F,fe(S))):y}function re(S,F){var h,u;return S?(u=new te,S.state=u,u.window=null,(h=W(S,F))!==0&&(S.state=null),h):y}var ne,ue,$=!0;function ge(S){if($){var F;for(ne=new x.Buf32(512),ue=new x.Buf32(32),F=0;F<144;)S.lens[F++]=8;for(;F<256;)S.lens[F++]=9;for(;F<280;)S.lens[F++]=7;for(;F<288;)S.lens[F++]=8;for(j(1,S.lens,0,288,ne,0,S.work,{bits:9}),F=0;F<32;)S.lens[F++]=5;j(2,S.lens,0,32,ue,0,S.work,{bits:5}),$=!1}S.lencode=ne,S.lenbits=9,S.distcode=ue,S.distbits=5}function se(S,F,h,u){var O,p=S.state;return p.window===null&&(p.wsize=1<<p.wbits,p.wnext=0,p.whave=0,p.window=new x.Buf8(p.wsize)),u>=p.wsize?(x.arraySet(p.window,F,h-p.wsize,p.wsize,0),p.wnext=0,p.whave=p.wsize):((O=p.wsize-p.wnext)>u&&(O=u),x.arraySet(p.window,F,h-u,O,p.wnext),(u-=O)?(x.arraySet(p.window,F,h-u,u,0),p.wnext=u,p.whave=p.wsize):(p.wnext+=O,p.wnext===p.wsize&&(p.wnext=0),p.whave<p.wsize&&(p.whave+=O))),0}K.inflateReset=fe,K.inflateReset2=W,K.inflateResetKeep=pe,K.inflateInit=function(S){return re(S,15)},K.inflateInit2=re,K.inflate=function(S,F){var h,u,O,p,_,E,T,l,m,c,n,C,D,B,U,R,b,M,G,ae,ce,J,Y,oe,xe=0,L=new x.Buf8(4),A=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!S||!S.state||!S.output||!S.input&&S.avail_in!==0)return y;(h=S.state).mode===V&&(h.mode=13),_=S.next_out,O=S.output,T=S.avail_out,p=S.next_in,u=S.input,E=S.avail_in,l=h.hold,m=h.bits,c=E,n=T,J=0;e:for(;;)switch(h.mode){case 1:if(h.wrap===0){h.mode=13;break}for(;m<16;){if(E===0)break e;E--,l+=u[p++]<<m,m+=8}if(2&h.wrap&&l===35615){h.check=0,L[0]=255&l,L[1]=l>>>8&255,h.check=v(h.check,L,2,0),l=0,m=0,h.mode=2;break}if(h.flags=0,h.head&&(h.head.done=!1),!(1&h.wrap)||(((255&l)<<8)+(l>>8))%31){S.msg="incorrect header check",h.mode=ie;break}if((15&l)!=8){S.msg="unknown compression method",h.mode=ie;break}if(m-=4,ce=8+(15&(l>>>=4)),h.wbits===0)h.wbits=ce;else if(ce>h.wbits){S.msg="invalid window size",h.mode=ie;break}h.dmax=1<<ce,S.adler=h.check=1,h.mode=512&l?10:V,l=0,m=0;break;case 2:for(;m<16;){if(E===0)break e;E--,l+=u[p++]<<m,m+=8}if(h.flags=l,(255&h.flags)!=8){S.msg="unknown compression method",h.mode=ie;break}if(57344&h.flags){S.msg="unknown header flags set",h.mode=ie;break}h.head&&(h.head.text=l>>8&1),512&h.flags&&(L[0]=255&l,L[1]=l>>>8&255,h.check=v(h.check,L,2,0)),l=0,m=0,h.mode=3;case 3:for(;m<32;){if(E===0)break e;E--,l+=u[p++]<<m,m+=8}h.head&&(h.head.time=l),512&h.flags&&(L[0]=255&l,L[1]=l>>>8&255,L[2]=l>>>16&255,L[3]=l>>>24&255,h.check=v(h.check,L,4,0)),l=0,m=0,h.mode=4;case 4:for(;m<16;){if(E===0)break e;E--,l+=u[p++]<<m,m+=8}h.head&&(h.head.xflags=255&l,h.head.os=l>>8),512&h.flags&&(L[0]=255&l,L[1]=l>>>8&255,h.check=v(h.check,L,2,0)),l=0,m=0,h.mode=5;case 5:if(1024&h.flags){for(;m<16;){if(E===0)break e;E--,l+=u[p++]<<m,m+=8}h.length=l,h.head&&(h.head.extra_len=l),512&h.flags&&(L[0]=255&l,L[1]=l>>>8&255,h.check=v(h.check,L,2,0)),l=0,m=0}else h.head&&(h.head.extra=null);h.mode=6;case 6:if(1024&h.flags&&((C=h.length)>E&&(C=E),C&&(h.head&&(ce=h.head.extra_len-h.length,h.head.extra||(h.head.extra=new Array(h.head.extra_len)),x.arraySet(h.head.extra,u,p,C,ce)),512&h.flags&&(h.check=v(h.check,u,C,p)),E-=C,p+=C,h.length-=C),h.length))break e;h.length=0,h.mode=7;case 7:if(2048&h.flags){if(E===0)break e;C=0;do ce=u[p+C++],h.head&&ce&&h.length<65536&&(h.head.name+=String.fromCharCode(ce));while(ce&&C<E);if(512&h.flags&&(h.check=v(h.check,u,C,p)),E-=C,p+=C,ce)break e}else h.head&&(h.head.name=null);h.length=0,h.mode=8;case 8:if(4096&h.flags){if(E===0)break e;C=0;do ce=u[p+C++],h.head&&ce&&h.length<65536&&(h.head.comment+=String.fromCharCode(ce));while(ce&&C<E);if(512&h.flags&&(h.check=v(h.check,u,C,p)),E-=C,p+=C,ce)break e}else h.head&&(h.head.comment=null);h.mode=9;case 9:if(512&h.flags){for(;m<16;){if(E===0)break e;E--,l+=u[p++]<<m,m+=8}if(l!==(65535&h.check)){S.msg="header crc mismatch",h.mode=ie;break}l=0,m=0}h.head&&(h.head.hcrc=h.flags>>9&1,h.head.done=!0),S.adler=h.check=0,h.mode=V;break;case 10:for(;m<32;){if(E===0)break e;E--,l+=u[p++]<<m,m+=8}S.adler=h.check=I(l),l=0,m=0,h.mode=11;case 11:if(h.havedict===0)return S.next_out=_,S.avail_out=T,S.next_in=p,S.avail_in=E,h.hold=l,h.bits=m,2;S.adler=h.check=1,h.mode=V;case V:if(F===5||F===6)break e;case 13:if(h.last){l>>>=7&m,m-=7&m,h.mode=27;break}for(;m<3;){if(E===0)break e;E--,l+=u[p++]<<m,m+=8}switch(h.last=1&l,m-=1,3&(l>>>=1)){case 0:h.mode=14;break;case 1:if(ge(h),h.mode=20,F===6){l>>>=2,m-=2;break e}break;case 2:h.mode=17;break;case 3:S.msg="invalid block type",h.mode=ie}l>>>=2,m-=2;break;case 14:for(l>>>=7&m,m-=7&m;m<32;){if(E===0)break e;E--,l+=u[p++]<<m,m+=8}if((65535&l)!=(l>>>16^65535)){S.msg="invalid stored block lengths",h.mode=ie;break}if(h.length=65535&l,l=0,m=0,h.mode=15,F===6)break e;case 15:h.mode=16;case 16:if(C=h.length){if(C>E&&(C=E),C>T&&(C=T),C===0)break e;x.arraySet(O,u,p,C,_),E-=C,p+=C,T-=C,_+=C,h.length-=C;break}h.mode=V;break;case 17:for(;m<14;){if(E===0)break e;E--,l+=u[p++]<<m,m+=8}if(h.nlen=257+(31&l),l>>>=5,m-=5,h.ndist=1+(31&l),l>>>=5,m-=5,h.ncode=4+(15&l),l>>>=4,m-=4,h.nlen>286||h.ndist>30){S.msg="too many length or distance symbols",h.mode=ie;break}h.have=0,h.mode=18;case 18:for(;h.have<h.ncode;){for(;m<3;){if(E===0)break e;E--,l+=u[p++]<<m,m+=8}h.lens[A[h.have++]]=7&l,l>>>=3,m-=3}for(;h.have<19;)h.lens[A[h.have++]]=0;if(h.lencode=h.lendyn,h.lenbits=7,Y={bits:h.lenbits},J=j(0,h.lens,0,19,h.lencode,0,h.work,Y),h.lenbits=Y.bits,J){S.msg="invalid code lengths set",h.mode=ie;break}h.have=0,h.mode=19;case 19:for(;h.have<h.nlen+h.ndist;){for(;R=(xe=h.lencode[l&(1<<h.lenbits)-1])>>>16&255,b=65535&xe,!((U=xe>>>24)<=m);){if(E===0)break e;E--,l+=u[p++]<<m,m+=8}if(b<16)l>>>=U,m-=U,h.lens[h.have++]=b;else{if(b===16){for(oe=U+2;m<oe;){if(E===0)break e;E--,l+=u[p++]<<m,m+=8}if(l>>>=U,m-=U,h.have===0){S.msg="invalid bit length repeat",h.mode=ie;break}ce=h.lens[h.have-1],C=3+(3&l),l>>>=2,m-=2}else if(b===17){for(oe=U+3;m<oe;){if(E===0)break e;E--,l+=u[p++]<<m,m+=8}m-=U,ce=0,C=3+(7&(l>>>=U)),l>>>=3,m-=3}else{for(oe=U+7;m<oe;){if(E===0)break e;E--,l+=u[p++]<<m,m+=8}m-=U,ce=0,C=11+(127&(l>>>=U)),l>>>=7,m-=7}if(h.have+C>h.nlen+h.ndist){S.msg="invalid bit length repeat",h.mode=ie;break}for(;C--;)h.lens[h.have++]=ce}}if(h.mode===ie)break;if(h.lens[256]===0){S.msg="invalid code -- missing end-of-block",h.mode=ie;break}if(h.lenbits=9,Y={bits:h.lenbits},J=j(1,h.lens,0,h.nlen,h.lencode,0,h.work,Y),h.lenbits=Y.bits,J){S.msg="invalid literal/lengths set",h.mode=ie;break}if(h.distbits=6,h.distcode=h.distdyn,Y={bits:h.distbits},J=j(2,h.lens,h.nlen,h.ndist,h.distcode,0,h.work,Y),h.distbits=Y.bits,J){S.msg="invalid distances set",h.mode=ie;break}if(h.mode=20,F===6)break e;case 20:h.mode=21;case 21:if(E>=6&&T>=258){S.next_out=_,S.avail_out=T,S.next_in=p,S.avail_in=E,h.hold=l,h.bits=m,g(S,n),_=S.next_out,O=S.output,T=S.avail_out,p=S.next_in,u=S.input,E=S.avail_in,l=h.hold,m=h.bits,h.mode===V&&(h.back=-1);break}for(h.back=0;R=(xe=h.lencode[l&(1<<h.lenbits)-1])>>>16&255,b=65535&xe,!((U=xe>>>24)<=m);){if(E===0)break e;E--,l+=u[p++]<<m,m+=8}if(R&&!(240&R)){for(M=U,G=R,ae=b;R=(xe=h.lencode[ae+((l&(1<<M+G)-1)>>M)])>>>16&255,b=65535&xe,!(M+(U=xe>>>24)<=m);){if(E===0)break e;E--,l+=u[p++]<<m,m+=8}l>>>=M,m-=M,h.back+=M}if(l>>>=U,m-=U,h.back+=U,h.length=b,R===0){h.mode=26;break}if(32&R){h.back=-1,h.mode=V;break}if(64&R){S.msg="invalid literal/length code",h.mode=ie;break}h.extra=15&R,h.mode=22;case 22:if(h.extra){for(oe=h.extra;m<oe;){if(E===0)break e;E--,l+=u[p++]<<m,m+=8}h.length+=l&(1<<h.extra)-1,l>>>=h.extra,m-=h.extra,h.back+=h.extra}h.was=h.length,h.mode=23;case 23:for(;R=(xe=h.distcode[l&(1<<h.distbits)-1])>>>16&255,b=65535&xe,!((U=xe>>>24)<=m);){if(E===0)break e;E--,l+=u[p++]<<m,m+=8}if(!(240&R)){for(M=U,G=R,ae=b;R=(xe=h.distcode[ae+((l&(1<<M+G)-1)>>M)])>>>16&255,b=65535&xe,!(M+(U=xe>>>24)<=m);){if(E===0)break e;E--,l+=u[p++]<<m,m+=8}l>>>=M,m-=M,h.back+=M}if(l>>>=U,m-=U,h.back+=U,64&R){S.msg="invalid distance code",h.mode=ie;break}h.offset=b,h.extra=15&R,h.mode=24;case 24:if(h.extra){for(oe=h.extra;m<oe;){if(E===0)break e;E--,l+=u[p++]<<m,m+=8}h.offset+=l&(1<<h.extra)-1,l>>>=h.extra,m-=h.extra,h.back+=h.extra}if(h.offset>h.dmax){S.msg="invalid distance too far back",h.mode=ie;break}h.mode=25;case 25:if(T===0)break e;if(C=n-T,h.offset>C){if((C=h.offset-C)>h.whave&&h.sane){S.msg="invalid distance too far back",h.mode=ie;break}C>h.wnext?(C-=h.wnext,D=h.wsize-C):D=h.wnext-C,C>h.length&&(C=h.length),B=h.window}else B=O,D=_-h.offset,C=h.length;C>T&&(C=T),T-=C,h.length-=C;do O[_++]=B[D++];while(--C);h.length===0&&(h.mode=21);break;case 26:if(T===0)break e;O[_++]=h.length,T--,h.mode=21;break;case 27:if(h.wrap){for(;m<32;){if(E===0)break e;E--,l|=u[p++]<<m,m+=8}if(n-=T,S.total_out+=n,h.total+=n,n&&(S.adler=h.check=h.flags?v(h.check,O,n,_-n):i(h.check,O,n,_-n)),n=T,(h.flags?l:I(l))!==h.check){S.msg="incorrect data check",h.mode=ie;break}l=0,m=0}h.mode=28;case 28:if(h.wrap&&h.flags){for(;m<32;){if(E===0)break e;E--,l+=u[p++]<<m,m+=8}if(l!==(4294967295&h.total)){S.msg="incorrect length check",h.mode=ie;break}l=0,m=0}h.mode=29;case 29:J=1;break e;case ie:J=-3;break e;case 31:return-4;default:return y}return S.next_out=_,S.avail_out=T,S.next_in=p,S.avail_in=E,h.hold=l,h.bits=m,(h.wsize||n!==S.avail_out&&h.mode<ie&&(h.mode<27||F!==4))&&se(S,S.output,S.next_out,n-S.avail_out)?(h.mode=31,-4):(c-=S.avail_in,n-=S.avail_out,S.total_in+=c,S.total_out+=n,h.total+=n,h.wrap&&n&&(S.adler=h.check=h.flags?v(h.check,O,n,S.next_out-n):i(h.check,O,n,S.next_out-n)),S.data_type=h.bits+(h.last?64:0)+(h.mode===V?128:0)+(h.mode===20||h.mode===15?256:0),(c===0&&n===0||F===4)&&J===0&&(J=-5),J)},K.inflateEnd=function(S){if(!S||!S.state)return y;var F=S.state;return F.window&&(F.window=null),S.state=null,0},K.inflateGetHeader=function(S,F){var h;return S&&S.state&&2&(h=S.state).wrap?(h.head=F,F.done=!1,0):y},K.inflateSetDictionary=function(S,F){var h,u=F.length;return S&&S.state?(h=S.state).wrap!==0&&h.mode!==11?y:h.mode===11&&i(1,F,u,0)!==h.check?-3:se(S,F,u,u)?(h.mode=31,-4):(h.havedict=1,0):y},K.inflateInfo="pako inflate (from Nodeca project)"},6446:function(le,K,o){var x=o(9187),i=15,v=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],g=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],j=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],y=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];le.exports=function(V,ie,I,te,pe,fe,W,re){var ne,ue,$,ge,se,S,F,h,u,O=re.bits,p=0,_=0,E=0,T=0,l=0,m=0,c=0,n=0,C=0,D=0,B=null,U=0,R=new x.Buf16(16),b=new x.Buf16(16),M=null,G=0;for(p=0;p<=i;p++)R[p]=0;for(_=0;_<te;_++)R[ie[I+_]]++;for(l=O,T=i;T>=1&&R[T]===0;T--);if(l>T&&(l=T),T===0)return pe[fe++]=20971520,pe[fe++]=20971520,re.bits=1,0;for(E=1;E<T&&R[E]===0;E++);for(l<E&&(l=E),n=1,p=1;p<=i;p++)if(n<<=1,(n-=R[p])<0)return-1;if(n>0&&(V===0||T!==1))return-1;for(b[1]=0,p=1;p<i;p++)b[p+1]=b[p]+R[p];for(_=0;_<te;_++)ie[I+_]!==0&&(W[b[ie[I+_]]++]=_);if(V===0?(B=M=W,S=19):V===1?(B=v,U-=257,M=g,G-=257,S=256):(B=j,M=y,S=-1),D=0,_=0,p=E,se=fe,m=l,c=0,$=-1,ge=(C=1<<l)-1,V===1&&C>852||V===2&&C>592)return 1;for(;;){F=p-c,W[_]<S?(h=0,u=W[_]):W[_]>S?(h=M[G+W[_]],u=B[U+W[_]]):(h=96,u=0),ne=1<<p-c,E=ue=1<<m;do pe[se+(D>>c)+(ue-=ne)]=F<<24|h<<16|u|0;while(ue!==0);for(ne=1<<p-1;D&ne;)ne>>=1;if(ne!==0?(D&=ne-1,D+=ne):D=0,_++,--R[p]==0){if(p===T)break;p=ie[I+W[_]]}if(p>l&&(D&ge)!==$){for(c===0&&(c=l),se+=E,n=1<<(m=p-c);m+c<T&&!((n-=R[m+c])<=0);)m++,n<<=1;if(C+=1<<m,V===1&&C>852||V===2&&C>592)return 1;pe[$=D&ge]=l<<24|m<<16|se-fe|0}}return D!==0&&(pe[se+D]=p-c<<24|4194304|0),re.bits=l,0}},5604:function(le){le.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},8676:function(le,K,o){var x=o(9187);function i(b){for(var M=b.length;--M>=0;)b[M]=0}var v=256,g=286,j=30,y=15,V=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],ie=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],I=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],te=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],pe=new Array(576);i(pe);var fe=new Array(60);i(fe);var W=new Array(512);i(W);var re=new Array(256);i(re);var ne=new Array(29);i(ne);var ue,$,ge,se=new Array(j);function S(b,M,G,ae,ce){this.static_tree=b,this.extra_bits=M,this.extra_base=G,this.elems=ae,this.max_length=ce,this.has_stree=b&&b.length}function F(b,M){this.dyn_tree=b,this.max_code=0,this.stat_desc=M}function h(b){return b<256?W[b]:W[256+(b>>>7)]}function u(b,M){b.pending_buf[b.pending++]=255&M,b.pending_buf[b.pending++]=M>>>8&255}function O(b,M,G){b.bi_valid>16-G?(b.bi_buf|=M<<b.bi_valid&65535,u(b,b.bi_buf),b.bi_buf=M>>16-b.bi_valid,b.bi_valid+=G-16):(b.bi_buf|=M<<b.bi_valid&65535,b.bi_valid+=G)}function p(b,M,G){O(b,G[2*M],G[2*M+1])}function _(b,M){var G=0;do G|=1&b,b>>>=1,G<<=1;while(--M>0);return G>>>1}function E(b,M,G){var ae,ce,J=new Array(16),Y=0;for(ae=1;ae<=y;ae++)J[ae]=Y=Y+G[ae-1]<<1;for(ce=0;ce<=M;ce++){var oe=b[2*ce+1];oe!==0&&(b[2*ce]=_(J[oe]++,oe))}}function T(b){var M;for(M=0;M<g;M++)b.dyn_ltree[2*M]=0;for(M=0;M<j;M++)b.dyn_dtree[2*M]=0;for(M=0;M<19;M++)b.bl_tree[2*M]=0;b.dyn_ltree[512]=1,b.opt_len=b.static_len=0,b.last_lit=b.matches=0}function l(b){b.bi_valid>8?u(b,b.bi_buf):b.bi_valid>0&&(b.pending_buf[b.pending++]=b.bi_buf),b.bi_buf=0,b.bi_valid=0}function m(b,M,G,ae){var ce=2*M,J=2*G;return b[ce]<b[J]||b[ce]===b[J]&&ae[M]<=ae[G]}function c(b,M,G){for(var ae=b.heap[G],ce=G<<1;ce<=b.heap_len&&(ce<b.heap_len&&m(M,b.heap[ce+1],b.heap[ce],b.depth)&&ce++,!m(M,ae,b.heap[ce],b.depth));)b.heap[G]=b.heap[ce],G=ce,ce<<=1;b.heap[G]=ae}function n(b,M,G){var ae,ce,J,Y,oe=0;if(b.last_lit!==0)do ae=b.pending_buf[b.d_buf+2*oe]<<8|b.pending_buf[b.d_buf+2*oe+1],ce=b.pending_buf[b.l_buf+oe],oe++,ae===0?p(b,ce,M):(p(b,(J=re[ce])+v+1,M),(Y=V[J])!==0&&O(b,ce-=ne[J],Y),p(b,J=h(--ae),G),(Y=ie[J])!==0&&O(b,ae-=se[J],Y));while(oe<b.last_lit);p(b,256,M)}function C(b,M){var G,ae,ce,J=M.dyn_tree,Y=M.stat_desc.static_tree,oe=M.stat_desc.has_stree,xe=M.stat_desc.elems,L=-1;for(b.heap_len=0,b.heap_max=573,G=0;G<xe;G++)J[2*G]!==0?(b.heap[++b.heap_len]=L=G,b.depth[G]=0):J[2*G+1]=0;for(;b.heap_len<2;)J[2*(ce=b.heap[++b.heap_len]=L<2?++L:0)]=1,b.depth[ce]=0,b.opt_len--,oe&&(b.static_len-=Y[2*ce+1]);for(M.max_code=L,G=b.heap_len>>1;G>=1;G--)c(b,J,G);ce=xe;do G=b.heap[1],b.heap[1]=b.heap[b.heap_len--],c(b,J,1),ae=b.heap[1],b.heap[--b.heap_max]=G,b.heap[--b.heap_max]=ae,J[2*ce]=J[2*G]+J[2*ae],b.depth[ce]=(b.depth[G]>=b.depth[ae]?b.depth[G]:b.depth[ae])+1,J[2*G+1]=J[2*ae+1]=ce,b.heap[1]=ce++,c(b,J,1);while(b.heap_len>=2);b.heap[--b.heap_max]=b.heap[1],function(A,N){var z,ee,ke,Oe,Q,Ce,Ne=N.dyn_tree,ze=N.max_code,ot=N.stat_desc.static_tree,P=N.stat_desc.has_stree,ye=N.stat_desc.extra_bits,me=N.stat_desc.extra_base,Pe=N.stat_desc.max_length,Ze=0;for(Oe=0;Oe<=y;Oe++)A.bl_count[Oe]=0;for(Ne[2*A.heap[A.heap_max]+1]=0,z=A.heap_max+1;z<573;z++)(Oe=Ne[2*Ne[2*(ee=A.heap[z])+1]+1]+1)>Pe&&(Oe=Pe,Ze++),Ne[2*ee+1]=Oe,ee>ze||(A.bl_count[Oe]++,Q=0,ee>=me&&(Q=ye[ee-me]),Ce=Ne[2*ee],A.opt_len+=Ce*(Oe+Q),P&&(A.static_len+=Ce*(ot[2*ee+1]+Q)));if(Ze!==0){do{for(Oe=Pe-1;A.bl_count[Oe]===0;)Oe--;A.bl_count[Oe]--,A.bl_count[Oe+1]+=2,A.bl_count[Pe]--,Ze-=2}while(Ze>0);for(Oe=Pe;Oe!==0;Oe--)for(ee=A.bl_count[Oe];ee!==0;)(ke=A.heap[--z])>ze||(Ne[2*ke+1]!==Oe&&(A.opt_len+=(Oe-Ne[2*ke+1])*Ne[2*ke],Ne[2*ke+1]=Oe),ee--)}}(b,M),E(J,L,b.bl_count)}function D(b,M,G){var ae,ce,J=-1,Y=M[1],oe=0,xe=7,L=4;for(Y===0&&(xe=138,L=3),M[2*(G+1)+1]=65535,ae=0;ae<=G;ae++)ce=Y,Y=M[2*(ae+1)+1],++oe<xe&&ce===Y||(oe<L?b.bl_tree[2*ce]+=oe:ce!==0?(ce!==J&&b.bl_tree[2*ce]++,b.bl_tree[32]++):oe<=10?b.bl_tree[34]++:b.bl_tree[36]++,oe=0,J=ce,Y===0?(xe=138,L=3):ce===Y?(xe=6,L=3):(xe=7,L=4))}function B(b,M,G){var ae,ce,J=-1,Y=M[1],oe=0,xe=7,L=4;for(Y===0&&(xe=138,L=3),ae=0;ae<=G;ae++)if(ce=Y,Y=M[2*(ae+1)+1],!(++oe<xe&&ce===Y)){if(oe<L)do p(b,ce,b.bl_tree);while(--oe!=0);else ce!==0?(ce!==J&&(p(b,ce,b.bl_tree),oe--),p(b,16,b.bl_tree),O(b,oe-3,2)):oe<=10?(p(b,17,b.bl_tree),O(b,oe-3,3)):(p(b,18,b.bl_tree),O(b,oe-11,7));oe=0,J=ce,Y===0?(xe=138,L=3):ce===Y?(xe=6,L=3):(xe=7,L=4)}}i(se);var U=!1;function R(b,M,G,ae){O(b,0+(ae?1:0),3),function(ce,J,Y,oe){l(ce),oe&&(u(ce,Y),u(ce,~Y)),x.arraySet(ce.pending_buf,ce.window,J,Y,ce.pending),ce.pending+=Y}(b,M,G,!0)}K._tr_init=function(b){U||(function(){var M,G,ae,ce,J,Y=new Array(16);for(ae=0,ce=0;ce<28;ce++)for(ne[ce]=ae,M=0;M<1<<V[ce];M++)re[ae++]=ce;for(re[ae-1]=ce,J=0,ce=0;ce<16;ce++)for(se[ce]=J,M=0;M<1<<ie[ce];M++)W[J++]=ce;for(J>>=7;ce<j;ce++)for(se[ce]=J<<7,M=0;M<1<<ie[ce]-7;M++)W[256+J++]=ce;for(G=0;G<=y;G++)Y[G]=0;for(M=0;M<=143;)pe[2*M+1]=8,M++,Y[8]++;for(;M<=255;)pe[2*M+1]=9,M++,Y[9]++;for(;M<=279;)pe[2*M+1]=7,M++,Y[7]++;for(;M<=287;)pe[2*M+1]=8,M++,Y[8]++;for(E(pe,287,Y),M=0;M<j;M++)fe[2*M+1]=5,fe[2*M]=_(M,5);ue=new S(pe,V,257,g,y),$=new S(fe,ie,0,j,y),ge=new S(new Array(0),I,0,19,7)}(),U=!0),b.l_desc=new F(b.dyn_ltree,ue),b.d_desc=new F(b.dyn_dtree,$),b.bl_desc=new F(b.bl_tree,ge),b.bi_buf=0,b.bi_valid=0,T(b)},K._tr_stored_block=R,K._tr_flush_block=function(b,M,G,ae){var ce,J,Y=0;b.level>0?(b.strm.data_type===2&&(b.strm.data_type=function(oe){var xe,L=4093624447;for(xe=0;xe<=31;xe++,L>>>=1)if(1&L&&oe.dyn_ltree[2*xe]!==0)return 0;if(oe.dyn_ltree[18]!==0||oe.dyn_ltree[20]!==0||oe.dyn_ltree[26]!==0)return 1;for(xe=32;xe<v;xe++)if(oe.dyn_ltree[2*xe]!==0)return 1;return 0}(b)),C(b,b.l_desc),C(b,b.d_desc),Y=function(oe){var xe;for(D(oe,oe.dyn_ltree,oe.l_desc.max_code),D(oe,oe.dyn_dtree,oe.d_desc.max_code),C(oe,oe.bl_desc),xe=18;xe>=3&&oe.bl_tree[2*te[xe]+1]===0;xe--);return oe.opt_len+=3*(xe+1)+5+5+4,xe}(b),ce=b.opt_len+3+7>>>3,(J=b.static_len+3+7>>>3)<=ce&&(ce=J)):ce=J=G+5,G+4<=ce&&M!==-1?R(b,M,G,ae):b.strategy===4||J===ce?(O(b,2+(ae?1:0),3),n(b,pe,fe)):(O(b,4+(ae?1:0),3),function(oe,xe,L,A){var N;for(O(oe,xe-257,5),O(oe,L-1,5),O(oe,A-4,4),N=0;N<A;N++)O(oe,oe.bl_tree[2*te[N]+1],3);B(oe,oe.dyn_ltree,xe-1),B(oe,oe.dyn_dtree,L-1)}(b,b.l_desc.max_code+1,b.d_desc.max_code+1,Y+1),n(b,b.dyn_ltree,b.dyn_dtree)),T(b),ae&&l(b)},K._tr_tally=function(b,M,G){return b.pending_buf[b.d_buf+2*b.last_lit]=M>>>8&255,b.pending_buf[b.d_buf+2*b.last_lit+1]=255&M,b.pending_buf[b.l_buf+b.last_lit]=255&G,b.last_lit++,M===0?b.dyn_ltree[2*G]++:(b.matches++,M--,b.dyn_ltree[2*(re[G]+v+1)]++,b.dyn_dtree[2*h(M)]++),b.last_lit===b.lit_bufsize-1},K._tr_align=function(b){O(b,2,3),p(b,256,pe),function(M){M.bi_valid===16?(u(M,M.bi_buf),M.bi_buf=0,M.bi_valid=0):M.bi_valid>=8&&(M.pending_buf[M.pending++]=255&M.bi_buf,M.bi_buf>>=8,M.bi_valid-=8)}(b)}},249:function(le){le.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},9066:function(le){le.exports=function(K){K.data&&K.name&&(K=K.data);for(var o=!0,x="",i="",v=0;v<K.length;v++){var g=K[v];if(o)g?i+=String.fromCharCode(g):o=!1;else{if(!g)throw new Error("Invalid NULL character found. 0x00 character is not permitted in tEXt content");x+=String.fromCharCode(g)}}return{keyword:i,text:x}}},9686:function(le){le.exports=function(K,o){if(K=String(K),o=String(o),!/^[\x00-\xFF]+$/.test(K)||!/^[\x00-\xFF]+$/.test(o))throw new Error("Only Latin-1 characters are permitted in PNG tEXt chunks. You might want to consider base64 encoding and/or zEXt compression");if(K.length>=80)throw new Error('Keyword "'+K+'" is longer than the 79-character limit imposed by the PNG specification');for(var x,i=K.length+o.length+1,v=new Uint8Array(i),g=0,j=0;j<K.length;j++){if(!(x=K.charCodeAt(j)))throw new Error("0x00 character is not permitted in tEXt keywords");v[g++]=x}v[g++]=0;for(var y=0;y<o.length;y++){if(!(x=o.charCodeAt(y)))throw new Error("0x00 character is not permitted in tEXt content");v[g++]=x}return{name:"tEXt",data:v}}},1194:function(le,K,o){K.encode=o(9686),K.decode=o(9066)},3434:function(le,K,o){var x=o(5714),i=o(6233);le.exports=function(y){var V,ie=8,I=ie;for(V=0;V<y.length;V++)ie+=y[V].data.length,ie+=12;var te=new Uint8Array(ie);for(te[0]=137,te[1]=80,te[2]=78,te[3]=71,te[4]=13,te[5]=10,te[6]=26,te[7]=10,V=0;V<y.length;V++){var pe=y[V],fe=pe.name,W=pe.data,re=W.length,ne=[fe.charCodeAt(0),fe.charCodeAt(1),fe.charCodeAt(2),fe.charCodeAt(3)];j[0]=re,te[I++]=v[3],te[I++]=v[2],te[I++]=v[1],te[I++]=v[0],te[I++]=ne[0],te[I++]=ne[1],te[I++]=ne[2],te[I++]=ne[3];for(var ue=0;ue<re;)te[I++]=W[ue++];var $=ne.concat(x(W)),ge=i.buf($);g[0]=ge,te[I++]=v[3],te[I++]=v[2],te[I++]=v[1],te[I++]=v[0]}return te};var v=new Uint8Array(4),g=new Int32Array(v.buffer),j=new Uint32Array(v.buffer)},2983:function(le,K,o){var x=o(6233);le.exports=function(j){if(j[0]!==137)throw new Error("Invalid .png file header");if(j[1]!==80)throw new Error("Invalid .png file header");if(j[2]!==78)throw new Error("Invalid .png file header");if(j[3]!==71)throw new Error("Invalid .png file header");if(j[4]!==13)throw new Error("Invalid .png file header: possibly caused by DOS-Unix line ending conversion?");if(j[5]!==10)throw new Error("Invalid .png file header: possibly caused by DOS-Unix line ending conversion?");if(j[6]!==26)throw new Error("Invalid .png file header");if(j[7]!==10)throw new Error("Invalid .png file header: possibly caused by DOS-Unix line ending conversion?");for(var y=!1,V=[],ie=8;ie<j.length;){i[3]=j[ie++],i[2]=j[ie++],i[1]=j[ie++],i[0]=j[ie++];var I=g[0]+4,te=new Uint8Array(I);te[0]=j[ie++],te[1]=j[ie++],te[2]=j[ie++],te[3]=j[ie++];var pe=String.fromCharCode(te[0])+String.fromCharCode(te[1])+String.fromCharCode(te[2])+String.fromCharCode(te[3]);if(!V.length&&pe!=="IHDR")throw new Error("IHDR header missing");if(pe==="IEND"){y=!0,V.push({name:pe,data:new Uint8Array(0)});break}for(var fe=4;fe<I;fe++)te[fe]=j[ie++];i[3]=j[ie++],i[2]=j[ie++],i[1]=j[ie++],i[0]=j[ie++];var W=v[0];if(x.buf(te)!==W)throw new Error("CRC values for "+pe+" header do not match, PNG file is likely corrupted");var re=new Uint8Array(te.buffer.slice(4));V.push({name:pe,data:re})}if(!y)throw new Error(".png file ended prematurely: no IEND header was found");return V};var i=new Uint8Array(4),v=new Int32Array(i.buffer),g=new Uint32Array(i.buffer)},1493:function(le,K,o){function x(ie,I){return Math.pow(ie[0]-I[0],2)+Math.pow(ie[1]-I[1],2)}function i(ie,I,te){const pe=x(I,te);if(pe===0)return x(ie,I);let fe=((ie[0]-I[0])*(te[0]-I[0])+(ie[1]-I[1])*(te[1]-I[1]))/pe;return fe=Math.max(0,Math.min(1,fe)),x(ie,v(I,te,fe))}function v(ie,I,te){return[ie[0]+(I[0]-ie[0])*te,ie[1]+(I[1]-ie[1])*te]}function g(ie,I,te,pe){const fe=pe||[];if(function(ne,ue){const $=ne[ue+0],ge=ne[ue+1],se=ne[ue+2],S=ne[ue+3];let F=3*ge[0]-2*$[0]-S[0];F*=F;let h=3*ge[1]-2*$[1]-S[1];h*=h;let u=3*se[0]-2*S[0]-$[0];u*=u;let O=3*se[1]-2*S[1]-$[1];return O*=O,F<u&&(F=u),h<O&&(h=O),F+h}(ie,I)<te){const ne=ie[I+0];fe.length?(W=fe[fe.length-1],re=ne,Math.sqrt(x(W,re))>1&&fe.push(ne)):fe.push(ne),fe.push(ie[I+3])}else{const ue=ie[I+0],$=ie[I+1],ge=ie[I+2],se=ie[I+3],S=v(ue,$,.5),F=v($,ge,.5),h=v(ge,se,.5),u=v(S,F,.5),O=v(F,h,.5),p=v(u,O,.5);g([ue,S,u,p],0,te,fe),g([p,O,h,se],0,te,fe)}var W,re;return fe}function j(ie,I){return y(ie,0,ie.length,I)}function y(ie,I,te,pe,fe){const W=fe||[],re=ie[I],ne=ie[te-1];let ue=0,$=1;for(let ge=I+1;ge<te-1;++ge){const se=i(ie[ge],re,ne);se>ue&&(ue=se,$=ge)}return Math.sqrt(ue)>pe?(y(ie,I,$+1,pe,W),y(ie,$,te,pe,W)):(W.length||W.push(re),W.push(ne)),W}function V(ie,I=.15,te){const pe=[],fe=(ie.length-1)/3;for(let W=0;W<fe;W++)g(ie,3*W,I,pe);return te&&te>0?y(pe,0,pe.length,te):pe}o.d(K,{o:function(){return j},s:function(){return V}})},6094:function(le,K,o){o(4516);var x=o(9787),i=60103;if(K.Fragment=60107,typeof Symbol=="function"&&Symbol.for){var v=Symbol.for;i=v("react.element"),K.Fragment=v("react.fragment")}var g=x.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,j=Object.prototype.hasOwnProperty,y={key:!0,ref:!0,__self:!0,__source:!0};function V(ie,I,te){var pe,fe={},W=null,re=null;for(pe in te!==void 0&&(W=""+te),I.key!==void 0&&(W=""+I.key),I.ref!==void 0&&(re=I.ref),I)j.call(I,pe)&&!y.hasOwnProperty(pe)&&(fe[pe]=I[pe]);if(ie&&ie.defaultProps)for(pe in I=ie.defaultProps)fe[pe]===void 0&&(fe[pe]=I[pe]);return{$$typeof:i,type:ie,key:W,ref:re,props:fe,_owner:g.current}}K.jsx=V,K.jsxs=V},4512:function(le,K,o){le.exports=o(6094)},1602:function(le){var K=function(o){var x,i=Object.prototype,v=i.hasOwnProperty,g=typeof Symbol=="function"?Symbol:{},j=g.iterator||"@@iterator",y=g.asyncIterator||"@@asyncIterator",V=g.toStringTag||"@@toStringTag";function ie(c,n,C){return Object.defineProperty(c,n,{value:C,enumerable:!0,configurable:!0,writable:!0}),c[n]}try{ie({},"")}catch{ie=function(n,C,D){return n[C]=D}}function I(c,n,C,D){var B=n&&n.prototype instanceof ue?n:ue,U=Object.create(B.prototype),R=new T(D||[]);return U._invoke=function(b,M,G){var ae=pe;return function(ce,J){if(ae===W)throw new Error("Generator is already running");if(ae===re){if(ce==="throw")throw J;return m()}for(G.method=ce,G.arg=J;;){var Y=G.delegate;if(Y){var oe=p(Y,G);if(oe){if(oe===ne)continue;return oe}}if(G.method==="next")G.sent=G._sent=G.arg;else if(G.method==="throw"){if(ae===pe)throw ae=re,G.arg;G.dispatchException(G.arg)}else G.method==="return"&&G.abrupt("return",G.arg);ae=W;var xe=te(b,M,G);if(xe.type==="normal"){if(ae=G.done?re:fe,xe.arg===ne)continue;return{value:xe.arg,done:G.done}}xe.type==="throw"&&(ae=re,G.method="throw",G.arg=xe.arg)}}}(c,C,R),U}function te(c,n,C){try{return{type:"normal",arg:c.call(n,C)}}catch(D){return{type:"throw",arg:D}}}o.wrap=I;var pe="suspendedStart",fe="suspendedYield",W="executing",re="completed",ne={};function ue(){}function $(){}function ge(){}var se={};se[j]=function(){return this};var S=Object.getPrototypeOf,F=S&&S(S(l([])));F&&F!==i&&v.call(F,j)&&(se=F);var h=ge.prototype=ue.prototype=Object.create(se);function u(c){["next","throw","return"].forEach(function(n){ie(c,n,function(C){return this._invoke(n,C)})})}function O(c,n){function C(B,U,R,b){var M=te(c[B],c,U);if(M.type!=="throw"){var G=M.arg,ae=G.value;return ae&&typeof ae=="object"&&v.call(ae,"__await")?n.resolve(ae.__await).then(function(ce){C("next",ce,R,b)},function(ce){C("throw",ce,R,b)}):n.resolve(ae).then(function(ce){G.value=ce,R(G)},function(ce){return C("throw",ce,R,b)})}b(M.arg)}var D;this._invoke=function(B,U){function R(){return new n(function(b,M){C(B,U,b,M)})}return D=D?D.then(R,R):R()}}function p(c,n){var C=c.iterator[n.method];if(C===x){if(n.delegate=null,n.method==="throw"){if(c.iterator.return&&(n.method="return",n.arg=x,p(c,n),n.method==="throw"))return ne;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return ne}var D=te(C,c.iterator,n.arg);if(D.type==="throw")return n.method="throw",n.arg=D.arg,n.delegate=null,ne;var B=D.arg;return B?B.done?(n[c.resultName]=B.value,n.next=c.nextLoc,n.method!=="return"&&(n.method="next",n.arg=x),n.delegate=null,ne):B:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,ne)}function _(c){var n={tryLoc:c[0]};1 in c&&(n.catchLoc=c[1]),2 in c&&(n.finallyLoc=c[2],n.afterLoc=c[3]),this.tryEntries.push(n)}function E(c){var n=c.completion||{};n.type="normal",delete n.arg,c.completion=n}function T(c){this.tryEntries=[{tryLoc:"root"}],c.forEach(_,this),this.reset(!0)}function l(c){if(c){var n=c[j];if(n)return n.call(c);if(typeof c.next=="function")return c;if(!isNaN(c.length)){var C=-1,D=function B(){for(;++C<c.length;)if(v.call(c,C))return B.value=c[C],B.done=!1,B;return B.value=x,B.done=!0,B};return D.next=D}}return{next:m}}function m(){return{value:x,done:!0}}return $.prototype=h.constructor=ge,ge.constructor=$,$.displayName=ie(ge,V,"GeneratorFunction"),o.isGeneratorFunction=function(c){var n=typeof c=="function"&&c.constructor;return!!n&&(n===$||(n.displayName||n.name)==="GeneratorFunction")},o.mark=function(c){return Object.setPrototypeOf?Object.setPrototypeOf(c,ge):(c.__proto__=ge,ie(c,V,"GeneratorFunction")),c.prototype=Object.create(h),c},o.awrap=function(c){return{__await:c}},u(O.prototype),O.prototype[y]=function(){return this},o.AsyncIterator=O,o.async=function(c,n,C,D,B){B===void 0&&(B=Promise);var U=new O(I(c,n,C,D),B);return o.isGeneratorFunction(n)?U:U.next().then(function(R){return R.done?R.value:U.next()})},u(h),ie(h,V,"Generator"),h[j]=function(){return this},h.toString=function(){return"[object Generator]"},o.keys=function(c){var n=[];for(var C in c)n.push(C);return n.reverse(),function D(){for(;n.length;){var B=n.pop();if(B in c)return D.value=B,D.done=!1,D}return D.done=!0,D}},o.values=l,T.prototype={constructor:T,reset:function(c){if(this.prev=0,this.next=0,this.sent=this._sent=x,this.done=!1,this.delegate=null,this.method="next",this.arg=x,this.tryEntries.forEach(E),!c)for(var n in this)n.charAt(0)==="t"&&v.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=x)},stop:function(){this.done=!0;var c=this.tryEntries[0].completion;if(c.type==="throw")throw c.arg;return this.rval},dispatchException:function(c){if(this.done)throw c;var n=this;function C(M,G){return U.type="throw",U.arg=c,n.next=M,G&&(n.method="next",n.arg=x),!!G}for(var D=this.tryEntries.length-1;D>=0;--D){var B=this.tryEntries[D],U=B.completion;if(B.tryLoc==="root")return C("end");if(B.tryLoc<=this.prev){var R=v.call(B,"catchLoc"),b=v.call(B,"finallyLoc");if(R&&b){if(this.prev<B.catchLoc)return C(B.catchLoc,!0);if(this.prev<B.finallyLoc)return C(B.finallyLoc)}else if(R){if(this.prev<B.catchLoc)return C(B.catchLoc,!0)}else{if(!b)throw new Error("try statement without catch or finally");if(this.prev<B.finallyLoc)return C(B.finallyLoc)}}}},abrupt:function(c,n){for(var C=this.tryEntries.length-1;C>=0;--C){var D=this.tryEntries[C];if(D.tryLoc<=this.prev&&v.call(D,"finallyLoc")&&this.prev<D.finallyLoc){var B=D;break}}B&&(c==="break"||c==="continue")&&B.tryLoc<=n&&n<=B.finallyLoc&&(B=null);var U=B?B.completion:{};return U.type=c,U.arg=n,B?(this.method="next",this.next=B.finallyLoc,ne):this.complete(U)},complete:function(c,n){if(c.type==="throw")throw c.arg;return c.type==="break"||c.type==="continue"?this.next=c.arg:c.type==="return"?(this.rval=this.arg=c.arg,this.method="return",this.next="end"):c.type==="normal"&&n&&(this.next=n),ne},finish:function(c){for(var n=this.tryEntries.length-1;n>=0;--n){var C=this.tryEntries[n];if(C.finallyLoc===c)return this.complete(C.completion,C.afterLoc),E(C),ne}},catch:function(c){for(var n=this.tryEntries.length-1;n>=0;--n){var C=this.tryEntries[n];if(C.tryLoc===c){var D=C.completion;if(D.type==="throw"){var B=D.arg;E(C)}return B}}throw new Error("illegal catch attempt")},delegateYield:function(c,n,C){return this.delegate={iterator:l(c),resultName:n,nextLoc:C},this.method==="next"&&(this.arg=x),ne}},o}(le.exports);try{regeneratorRuntime=K}catch{Function("r","regeneratorRuntime = r")(K)}},8152:function(le,K,o){function x(){return Math.floor(Math.random()*2147483648)}o.d(K,{W:function(){return x},k:function(){return i}});class i{constructor(g){this.seed=g}next(){return this.seed?(2147483647&(this.seed=Math.imul(48271,this.seed)))/2147483648:Math.random()}}},8234:function(le,K,o){function x(L,A,N){if(L&&L.length){const[z,ee]=A,ke=Math.PI/180*N,Oe=Math.cos(ke),Q=Math.sin(ke);L.forEach(Ce=>{const[Ne,ze]=Ce;Ce[0]=(Ne-z)*Oe-(ze-ee)*Q+z,Ce[1]=(Ne-z)*Q+(ze-ee)*Oe+ee})}}function i(L){const A=L[0],N=L[1];return Math.sqrt(Math.pow(A[0]-N[0],2)+Math.pow(A[1]-N[1],2))}function v(L,A){const N=A.hachureAngle+90;let z=A.hachureGap;z<0&&(z=4*A.strokeWidth),z=Math.max(z,.1);const ee=[0,0];if(N)for(const Oe of L)x(Oe,ee,N);const ke=function(Oe,Q){const Ce=[];for(const ye of Oe){const me=[...ye];me[0].join(",")!==me[me.length-1].join(",")&&me.push([me[0][0],me[0][1]]),me.length>2&&Ce.push(me)}const Ne=[];Q=Math.max(Q,.1);const ze=[];for(const ye of Ce)for(let me=0;me<ye.length-1;me++){const Pe=ye[me],Ze=ye[me+1];if(Pe[1]!==Ze[1]){const Je=Math.min(Pe[1],Ze[1]);ze.push({ymin:Je,ymax:Math.max(Pe[1],Ze[1]),x:Je===Pe[1]?Pe[0]:Ze[0],islope:(Ze[0]-Pe[0])/(Ze[1]-Pe[1])})}}if(ze.sort((ye,me)=>ye.ymin<me.ymin?-1:ye.ymin>me.ymin?1:ye.x<me.x?-1:ye.x>me.x?1:ye.ymax===me.ymax?0:(ye.ymax-me.ymax)/Math.abs(ye.ymax-me.ymax)),!ze.length)return Ne;let ot=[],P=ze[0].ymin;for(;ot.length||ze.length;){if(ze.length){let ye=-1;for(let me=0;me<ze.length&&!(ze[me].ymin>P);me++)ye=me;ze.splice(0,ye+1).forEach(me=>{ot.push({s:P,edge:me})})}if(ot=ot.filter(ye=>!(ye.edge.ymax<=P)),ot.sort((ye,me)=>ye.edge.x===me.edge.x?0:(ye.edge.x-me.edge.x)/Math.abs(ye.edge.x-me.edge.x)),ot.length>1)for(let ye=0;ye<ot.length;ye+=2){const me=ye+1;if(me>=ot.length)break;const Pe=ot[ye].edge,Ze=ot[me].edge;Ne.push([[Math.round(Pe.x),P],[Math.round(Ze.x),P]])}P+=Q,ot.forEach(ye=>{ye.edge.x=ye.edge.x+Q*ye.edge.islope})}return Ne}(L,z);if(N){for(const Oe of L)x(Oe,ee,-N);(function(Oe,Q,Ce){const Ne=[];Oe.forEach(ze=>Ne.push(...ze)),x(Ne,Q,Ce)})(ke,ee,-N)}return ke}o.d(K,{Z:function(){return xe}});class g{constructor(A){this.helper=A}fillPolygons(A,N){return this._fillPolygons(A,N)}_fillPolygons(A,N){const z=v(A,N);return{type:"fillSketch",ops:this.renderLines(z,N)}}renderLines(A,N){const z=[];for(const ee of A)z.push(...this.helper.doubleLineOps(ee[0][0],ee[0][1],ee[1][0],ee[1][1],N));return z}}class j extends g{fillPolygons(A,N){let z=N.hachureGap;z<0&&(z=4*N.strokeWidth),z=Math.max(z,.1);const ee=v(A,Object.assign({},N,{hachureGap:z})),ke=Math.PI/180*N.hachureAngle,Oe=[],Q=.5*z*Math.cos(ke),Ce=.5*z*Math.sin(ke);for(const[Ne,ze]of ee)i([Ne,ze])&&Oe.push([[Ne[0]-Q,Ne[1]+Ce],[...ze]],[[Ne[0]+Q,Ne[1]-Ce],[...ze]]);return{type:"fillSketch",ops:this.renderLines(Oe,N)}}}class y extends g{fillPolygons(A,N){const z=this._fillPolygons(A,N),ee=Object.assign({},N,{hachureAngle:N.hachureAngle+90}),ke=this._fillPolygons(A,ee);return z.ops=z.ops.concat(ke.ops),z}}class V{constructor(A){this.helper=A}fillPolygons(A,N){const z=v(A,N=Object.assign({},N,{hachureAngle:0}));return this.dotsOnLines(z,N)}dotsOnLines(A,N){const z=[];let ee=N.hachureGap;ee<0&&(ee=4*N.strokeWidth),ee=Math.max(ee,.1);let ke=N.fillWeight;ke<0&&(ke=N.strokeWidth/2);const Oe=ee/4;for(const Q of A){const Ce=i(Q),Ne=Ce/ee,ze=Math.ceil(Ne)-1,ot=Ce-ze*ee,P=(Q[0][0]+Q[1][0])/2-ee/4,ye=Math.min(Q[0][1],Q[1][1]);for(let me=0;me<ze;me++){const Pe=ye+ot+me*ee,Ze=P-Oe+2*Math.random()*Oe,Je=Pe-Oe+2*Math.random()*Oe,nt=this.helper.ellipse(Ze,Je,ke,ke,N);z.push(...nt.ops)}}return{type:"fillSketch",ops:z}}}class ie{constructor(A){this.helper=A}fillPolygons(A,N){const z=v(A,N);return{type:"fillSketch",ops:this.dashedLine(z,N)}}dashedLine(A,N){const z=N.dashOffset<0?N.hachureGap<0?4*N.strokeWidth:N.hachureGap:N.dashOffset,ee=N.dashGap<0?N.hachureGap<0?4*N.strokeWidth:N.hachureGap:N.dashGap,ke=[];return A.forEach(Oe=>{const Q=i(Oe),Ce=Math.floor(Q/(z+ee)),Ne=(Q+ee-Ce*(z+ee))/2;let ze=Oe[0],ot=Oe[1];ze[0]>ot[0]&&(ze=Oe[1],ot=Oe[0]);const P=Math.atan((ot[1]-ze[1])/(ot[0]-ze[0]));for(let ye=0;ye<Ce;ye++){const me=ye*(z+ee),Pe=me+z,Ze=[ze[0]+me*Math.cos(P)+Ne*Math.cos(P),ze[1]+me*Math.sin(P)+Ne*Math.sin(P)],Je=[ze[0]+Pe*Math.cos(P)+Ne*Math.cos(P),ze[1]+Pe*Math.sin(P)+Ne*Math.sin(P)];ke.push(...this.helper.doubleLineOps(Ze[0],Ze[1],Je[0],Je[1],N))}}),ke}}class I{constructor(A){this.helper=A}fillPolygons(A,N){const z=N.hachureGap<0?4*N.strokeWidth:N.hachureGap,ee=N.zigzagOffset<0?z:N.zigzagOffset,ke=v(A,N=Object.assign({},N,{hachureGap:z+ee}));return{type:"fillSketch",ops:this.zigzagLines(ke,ee,N)}}zigzagLines(A,N,z){const ee=[];return A.forEach(ke=>{const Oe=i(ke),Q=Math.round(Oe/(2*N));let Ce=ke[0],Ne=ke[1];Ce[0]>Ne[0]&&(Ce=ke[1],Ne=ke[0]);const ze=Math.atan((Ne[1]-Ce[1])/(Ne[0]-Ce[0]));for(let ot=0;ot<Q;ot++){const P=2*ot*N,ye=2*(ot+1)*N,me=Math.sqrt(2*Math.pow(N,2)),Pe=[Ce[0]+P*Math.cos(ze),Ce[1]+P*Math.sin(ze)],Ze=[Ce[0]+ye*Math.cos(ze),Ce[1]+ye*Math.sin(ze)],Je=[Pe[0]+me*Math.cos(ze+Math.PI/4),Pe[1]+me*Math.sin(ze+Math.PI/4)];ee.push(...this.helper.doubleLineOps(Pe[0],Pe[1],Je[0],Je[1],z),...this.helper.doubleLineOps(Je[0],Je[1],Ze[0],Ze[1],z))}}),ee}}const te={};var pe=o(8152);const fe={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function W(L,A){return L.type===A}function re(L){const A=[],N=function(Oe){const Q=new Array;for(;Oe!=="";)if(Oe.match(/^([ \t\r\n,]+)/))Oe=Oe.substr(RegExp.$1.length);else if(Oe.match(/^([aAcChHlLmMqQsStTvVzZ])/))Q[Q.length]={type:0,text:RegExp.$1},Oe=Oe.substr(RegExp.$1.length);else{if(!Oe.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];Q[Q.length]={type:1,text:`${parseFloat(RegExp.$1)}`},Oe=Oe.substr(RegExp.$1.length)}return Q[Q.length]={type:2,text:""},Q}(L);let z="BOD",ee=0,ke=N[ee];for(;!W(ke,2);){let Oe=0;const Q=[];if(z==="BOD"){if(ke.text!=="M"&&ke.text!=="m")return re("M0,0"+L);ee++,Oe=fe[ke.text],z=ke.text}else W(ke,1)?Oe=fe[z]:(ee++,Oe=fe[ke.text],z=ke.text);if(!(ee+Oe<N.length))throw new Error("Path data ended short");for(let Ce=ee;Ce<ee+Oe;Ce++){const Ne=N[Ce];if(!W(Ne,1))throw new Error("Param not a number: "+z+","+Ne.text);Q[Q.length]=+Ne.text}if(typeof fe[z]!="number")throw new Error("Bad segment: "+z);{const Ce={key:z,data:Q};A.push(Ce),ee+=Oe,ke=N[ee],z==="M"&&(z="L"),z==="m"&&(z="l")}}return A}function ne(L){let A=0,N=0,z=0,ee=0;const ke=[];for(const{key:Oe,data:Q}of L)switch(Oe){case"M":ke.push({key:"M",data:[...Q]}),[A,N]=Q,[z,ee]=Q;break;case"m":A+=Q[0],N+=Q[1],ke.push({key:"M",data:[A,N]}),z=A,ee=N;break;case"L":ke.push({key:"L",data:[...Q]}),[A,N]=Q;break;case"l":A+=Q[0],N+=Q[1],ke.push({key:"L",data:[A,N]});break;case"C":ke.push({key:"C",data:[...Q]}),A=Q[4],N=Q[5];break;case"c":{const Ce=Q.map((Ne,ze)=>ze%2?Ne+N:Ne+A);ke.push({key:"C",data:Ce}),A=Ce[4],N=Ce[5];break}case"Q":ke.push({key:"Q",data:[...Q]}),A=Q[2],N=Q[3];break;case"q":{const Ce=Q.map((Ne,ze)=>ze%2?Ne+N:Ne+A);ke.push({key:"Q",data:Ce}),A=Ce[2],N=Ce[3];break}case"A":ke.push({key:"A",data:[...Q]}),A=Q[5],N=Q[6];break;case"a":A+=Q[5],N+=Q[6],ke.push({key:"A",data:[Q[0],Q[1],Q[2],Q[3],Q[4],A,N]});break;case"H":ke.push({key:"H",data:[...Q]}),A=Q[0];break;case"h":A+=Q[0],ke.push({key:"H",data:[A]});break;case"V":ke.push({key:"V",data:[...Q]}),N=Q[0];break;case"v":N+=Q[0],ke.push({key:"V",data:[N]});break;case"S":ke.push({key:"S",data:[...Q]}),A=Q[2],N=Q[3];break;case"s":{const Ce=Q.map((Ne,ze)=>ze%2?Ne+N:Ne+A);ke.push({key:"S",data:Ce}),A=Ce[2],N=Ce[3];break}case"T":ke.push({key:"T",data:[...Q]}),A=Q[0],N=Q[1];break;case"t":A+=Q[0],N+=Q[1],ke.push({key:"T",data:[A,N]});break;case"Z":case"z":ke.push({key:"Z",data:[]}),A=z,N=ee}return ke}function ue(L){const A=[];let N="",z=0,ee=0,ke=0,Oe=0,Q=0,Ce=0;for(const{key:Ne,data:ze}of L){switch(Ne){case"M":A.push({key:"M",data:[...ze]}),[z,ee]=ze,[ke,Oe]=ze;break;case"C":A.push({key:"C",data:[...ze]}),z=ze[4],ee=ze[5],Q=ze[2],Ce=ze[3];break;case"L":A.push({key:"L",data:[...ze]}),[z,ee]=ze;break;case"H":z=ze[0],A.push({key:"L",data:[z,ee]});break;case"V":ee=ze[0],A.push({key:"L",data:[z,ee]});break;case"S":{let ot=0,P=0;N==="C"||N==="S"?(ot=z+(z-Q),P=ee+(ee-Ce)):(ot=z,P=ee),A.push({key:"C",data:[ot,P,...ze]}),Q=ze[0],Ce=ze[1],z=ze[2],ee=ze[3];break}case"T":{const[ot,P]=ze;let ye=0,me=0;N==="Q"||N==="T"?(ye=z+(z-Q),me=ee+(ee-Ce)):(ye=z,me=ee);const Pe=z+2*(ye-z)/3,Ze=ee+2*(me-ee)/3,Je=ot+2*(ye-ot)/3,nt=P+2*(me-P)/3;A.push({key:"C",data:[Pe,Ze,Je,nt,ot,P]}),Q=ye,Ce=me,z=ot,ee=P;break}case"Q":{const[ot,P,ye,me]=ze,Pe=z+2*(ot-z)/3,Ze=ee+2*(P-ee)/3,Je=ye+2*(ot-ye)/3,nt=me+2*(P-me)/3;A.push({key:"C",data:[Pe,Ze,Je,nt,ye,me]}),Q=ot,Ce=P,z=ye,ee=me;break}case"A":{const ot=Math.abs(ze[0]),P=Math.abs(ze[1]),ye=ze[2],me=ze[3],Pe=ze[4],Ze=ze[5],Je=ze[6];ot===0||P===0?(A.push({key:"C",data:[z,ee,Ze,Je,Ze,Je]}),z=Ze,ee=Je):(z!==Ze||ee!==Je)&&(ge(z,ee,Ze,Je,ot,P,ye,me,Pe).forEach(function(nt){A.push({key:"C",data:nt})}),z=Ze,ee=Je);break}case"Z":A.push({key:"Z",data:[]}),z=ke,ee=Oe}N=Ne}return A}function $(L,A,N){return[L*Math.cos(N)-A*Math.sin(N),L*Math.sin(N)+A*Math.cos(N)]}function ge(L,A,N,z,ee,ke,Oe,Q,Ce,Ne){const ze=(ot=Oe,Math.PI*ot/180);var ot;let P=[],ye=0,me=0,Pe=0,Ze=0;if(Ne)[ye,me,Pe,Ze]=Ne;else{[L,A]=$(L,A,-ze),[N,z]=$(N,z,-ze);const Be=(L-N)/2,We=(A-z)/2;let Ge=Be*Be/(ee*ee)+We*We/(ke*ke);Ge>1&&(Ge=Math.sqrt(Ge),ee*=Ge,ke*=Ge);const it=ee*ee,Re=ke*ke,Xe=it*Re-it*We*We-Re*Be*Be,xt=it*We*We+Re*Be*Be,st=(Q===Ce?-1:1)*Math.sqrt(Math.abs(Xe/xt));Pe=st*ee*We/ke+(L+N)/2,Ze=st*-ke*Be/ee+(A+z)/2,ye=Math.asin(parseFloat(((A-Ze)/ke).toFixed(9))),me=Math.asin(parseFloat(((z-Ze)/ke).toFixed(9))),L<Pe&&(ye=Math.PI-ye),N<Pe&&(me=Math.PI-me),ye<0&&(ye=2*Math.PI+ye),me<0&&(me=2*Math.PI+me),Ce&&ye>me&&(ye-=2*Math.PI),!Ce&&me>ye&&(me-=2*Math.PI)}let Je=me-ye;if(Math.abs(Je)>120*Math.PI/180){const Be=me,We=N,Ge=z;me=Ce&&me>ye?ye+120*Math.PI/180*1:ye+120*Math.PI/180*-1,P=ge(N=Pe+ee*Math.cos(me),z=Ze+ke*Math.sin(me),We,Ge,ee,ke,Oe,0,Ce,[me,Be,Pe,Ze])}Je=me-ye;const nt=Math.cos(ye),ft=Math.sin(ye),pt=Math.cos(me),et=Math.sin(me),he=Math.tan(Je/4),de=4/3*ee*he,_e=4/3*ke*he,we=[L,A],Me=[L+de*ft,A-_e*nt],Te=[N+de*et,z-_e*pt],Le=[N,z];if(Me[0]=2*we[0]-Me[0],Me[1]=2*we[1]-Me[1],Ne)return[Me,Te,Le].concat(P);{P=[Me,Te,Le].concat(P);const Be=[];for(let We=0;We<P.length;We+=3){const Ge=$(P[We][0],P[We][1],ze),it=$(P[We+1][0],P[We+1][1],ze),Re=$(P[We+2][0],P[We+2][1],ze);Be.push([Ge[0],Ge[1],it[0],it[1],Re[0],Re[1]])}return Be}}const se={randOffset:function(L,A){return c(L,A)},randOffsetWithRange:function(L,A,N){return m(L,A,N)},ellipse:function(L,A,N,z,ee){const ke=O(N,z,ee);return p(L,A,ee,ke).opset},doubleLineOps:function(L,A,N,z,ee){return n(L,A,N,z,ee,!0)}};function S(L,A,N,z,ee){return{type:"path",ops:n(L,A,N,z,ee)}}function F(L,A,N){const z=(L||[]).length;if(z>2){const ee=[];for(let ke=0;ke<z-1;ke++)ee.push(...n(L[ke][0],L[ke][1],L[ke+1][0],L[ke+1][1],N));return A&&ee.push(...n(L[z-1][0],L[z-1][1],L[0][0],L[0][1],N)),{type:"path",ops:ee}}return z===2?S(L[0][0],L[0][1],L[1][0],L[1][1],N):{type:"path",ops:[]}}function h(L,A,N,z,ee){return function(ke,Oe){return F(ke,!0,Oe)}([[L,A],[L+N,A],[L+N,A+z],[L,A+z]],ee)}function u(L,A){let N=D(L,1*(1+.2*A.roughness),A);if(!A.disableMultiStroke){const z=D(L,1.5*(1+.22*A.roughness),function(ee){const ke=Object.assign({},ee);return ke.randomizer=void 0,ee.seed&&(ke.seed=ee.seed+1),ke}(A));N=N.concat(z)}return{type:"path",ops:N}}function O(L,A,N){const z=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(L/2,2)+Math.pow(A/2,2))/2)),ee=Math.ceil(Math.max(N.curveStepCount,N.curveStepCount/Math.sqrt(200)*z)),ke=2*Math.PI/ee;let Oe=Math.abs(L/2),Q=Math.abs(A/2);const Ce=1-N.curveFitting;return Oe+=c(Oe*Ce,N),Q+=c(Q*Ce,N),{increment:ke,rx:Oe,ry:Q}}function p(L,A,N,z){const[ee,ke]=U(z.increment,L,A,z.rx,z.ry,1,z.increment*m(.1,m(.4,1,N),N),N);let Oe=B(ee,null,N);if(!N.disableMultiStroke&&N.roughness!==0){const[Q]=U(z.increment,L,A,z.rx,z.ry,1.5,0,N),Ce=B(Q,null,N);Oe=Oe.concat(Ce)}return{estimatedPoints:ke,opset:{type:"path",ops:Oe}}}function _(L,A,N,z,ee,ke,Oe,Q,Ce){const Ne=L,ze=A;let ot=Math.abs(N/2),P=Math.abs(z/2);ot+=c(.01*ot,Ce),P+=c(.01*P,Ce);let ye=ee,me=ke;for(;ye<0;)ye+=2*Math.PI,me+=2*Math.PI;me-ye>2*Math.PI&&(ye=0,me=2*Math.PI);const Pe=2*Math.PI/Ce.curveStepCount,Ze=Math.min(Pe/2,(me-ye)/2),Je=R(Ze,Ne,ze,ot,P,ye,me,1,Ce);if(!Ce.disableMultiStroke){const nt=R(Ze,Ne,ze,ot,P,ye,me,1.5,Ce);Je.push(...nt)}return Oe&&(Q?Je.push(...n(Ne,ze,Ne+ot*Math.cos(ye),ze+P*Math.sin(ye),Ce),...n(Ne,ze,Ne+ot*Math.cos(me),ze+P*Math.sin(me),Ce)):Je.push({op:"lineTo",data:[Ne,ze]},{op:"lineTo",data:[Ne+ot*Math.cos(ye),ze+P*Math.sin(ye)]})),{type:"path",ops:Je}}function E(L,A){const N=[];for(const z of L)if(z.length){const ee=A.maxRandomnessOffset||0,ke=z.length;if(ke>2){N.push({op:"move",data:[z[0][0]+c(ee,A),z[0][1]+c(ee,A)]});for(let Oe=1;Oe<ke;Oe++)N.push({op:"lineTo",data:[z[Oe][0]+c(ee,A),z[Oe][1]+c(ee,A)]})}}return{type:"fillPath",ops:N}}function T(L,A){return function(N,z){let ee=N.fillStyle||"hachure";if(!te[ee])switch(ee){case"zigzag":te[ee]||(te[ee]=new j(z));break;case"cross-hatch":te[ee]||(te[ee]=new y(z));break;case"dots":te[ee]||(te[ee]=new V(z));break;case"dashed":te[ee]||(te[ee]=new ie(z));break;case"zigzag-line":te[ee]||(te[ee]=new I(z));break;default:ee="hachure",te[ee]||(te[ee]=new g(z))}return te[ee]}(A,se).fillPolygons(L,A)}function l(L){return L.randomizer||(L.randomizer=new pe.k(L.seed||0)),L.randomizer.next()}function m(L,A,N,z=1){return N.roughness*z*(l(N)*(A-L)+L)}function c(L,A,N=1){return m(-L,L,A,N)}function n(L,A,N,z,ee,ke=!1){const Oe=ke?ee.disableMultiStrokeFill:ee.disableMultiStroke,Q=C(L,A,N,z,ee,!0,!1);if(Oe)return Q;const Ce=C(L,A,N,z,ee,!0,!0);return Q.concat(Ce)}function C(L,A,N,z,ee,ke,Oe){const Q=Math.pow(L-N,2)+Math.pow(A-z,2),Ce=Math.sqrt(Q);let Ne=1;Ne=Ce<200?1:Ce>500?.4:-.0016668*Ce+1.233334;let ze=ee.maxRandomnessOffset||0;ze*ze*100>Q&&(ze=Ce/10);const ot=ze/2,P=.2+.2*l(ee);let ye=ee.bowing*ee.maxRandomnessOffset*(z-A)/200,me=ee.bowing*ee.maxRandomnessOffset*(L-N)/200;ye=c(ye,ee,Ne),me=c(me,ee,Ne);const Pe=[],Ze=()=>c(ot,ee,Ne),Je=()=>c(ze,ee,Ne),nt=ee.preserveVertices;return ke&&(Oe?Pe.push({op:"move",data:[L+(nt?0:Ze()),A+(nt?0:Ze())]}):Pe.push({op:"move",data:[L+(nt?0:c(ze,ee,Ne)),A+(nt?0:c(ze,ee,Ne))]})),Oe?Pe.push({op:"bcurveTo",data:[ye+L+(N-L)*P+Ze(),me+A+(z-A)*P+Ze(),ye+L+2*(N-L)*P+Ze(),me+A+2*(z-A)*P+Ze(),N+(nt?0:Ze()),z+(nt?0:Ze())]}):Pe.push({op:"bcurveTo",data:[ye+L+(N-L)*P+Je(),me+A+(z-A)*P+Je(),ye+L+2*(N-L)*P+Je(),me+A+2*(z-A)*P+Je(),N+(nt?0:Je()),z+(nt?0:Je())]}),Pe}function D(L,A,N){const z=[];z.push([L[0][0]+c(A,N),L[0][1]+c(A,N)]),z.push([L[0][0]+c(A,N),L[0][1]+c(A,N)]);for(let ee=1;ee<L.length;ee++)z.push([L[ee][0]+c(A,N),L[ee][1]+c(A,N)]),ee===L.length-1&&z.push([L[ee][0]+c(A,N),L[ee][1]+c(A,N)]);return B(z,null,N)}function B(L,A,N){const z=L.length,ee=[];if(z>3){const ke=[],Oe=1-N.curveTightness;ee.push({op:"move",data:[L[1][0],L[1][1]]});for(let Q=1;Q+2<z;Q++){const Ce=L[Q];ke[0]=[Ce[0],Ce[1]],ke[1]=[Ce[0]+(Oe*L[Q+1][0]-Oe*L[Q-1][0])/6,Ce[1]+(Oe*L[Q+1][1]-Oe*L[Q-1][1])/6],ke[2]=[L[Q+1][0]+(Oe*L[Q][0]-Oe*L[Q+2][0])/6,L[Q+1][1]+(Oe*L[Q][1]-Oe*L[Q+2][1])/6],ke[3]=[L[Q+1][0],L[Q+1][1]],ee.push({op:"bcurveTo",data:[ke[1][0],ke[1][1],ke[2][0],ke[2][1],ke[3][0],ke[3][1]]})}if(A&&A.length===2){const Q=N.maxRandomnessOffset;ee.push({op:"lineTo",data:[A[0]+c(Q,N),A[1]+c(Q,N)]})}}else z===3?(ee.push({op:"move",data:[L[1][0],L[1][1]]}),ee.push({op:"bcurveTo",data:[L[1][0],L[1][1],L[2][0],L[2][1],L[2][0],L[2][1]]})):z===2&&ee.push(...n(L[0][0],L[0][1],L[1][0],L[1][1],N));return ee}function U(L,A,N,z,ee,ke,Oe,Q){const Ce=[],Ne=[];if(Q.roughness===0){L/=4,Ne.push([A+z*Math.cos(-L),N+ee*Math.sin(-L)]);for(let ze=0;ze<=2*Math.PI;ze+=L){const ot=[A+z*Math.cos(ze),N+ee*Math.sin(ze)];Ce.push(ot),Ne.push(ot)}Ne.push([A+z*Math.cos(0),N+ee*Math.sin(0)]),Ne.push([A+z*Math.cos(L),N+ee*Math.sin(L)])}else{const ze=c(.5,Q)-Math.PI/2;Ne.push([c(ke,Q)+A+.9*z*Math.cos(ze-L),c(ke,Q)+N+.9*ee*Math.sin(ze-L)]);const ot=2*Math.PI+ze-.01;for(let P=ze;P<ot;P+=L){const ye=[c(ke,Q)+A+z*Math.cos(P),c(ke,Q)+N+ee*Math.sin(P)];Ce.push(ye),Ne.push(ye)}Ne.push([c(ke,Q)+A+z*Math.cos(ze+2*Math.PI+.5*Oe),c(ke,Q)+N+ee*Math.sin(ze+2*Math.PI+.5*Oe)]),Ne.push([c(ke,Q)+A+.98*z*Math.cos(ze+Oe),c(ke,Q)+N+.98*ee*Math.sin(ze+Oe)]),Ne.push([c(ke,Q)+A+.9*z*Math.cos(ze+.5*Oe),c(ke,Q)+N+.9*ee*Math.sin(ze+.5*Oe)])}return[Ne,Ce]}function R(L,A,N,z,ee,ke,Oe,Q,Ce){const Ne=ke+c(.1,Ce),ze=[];ze.push([c(Q,Ce)+A+.9*z*Math.cos(Ne-L),c(Q,Ce)+N+.9*ee*Math.sin(Ne-L)]);for(let ot=Ne;ot<=Oe;ot+=L)ze.push([c(Q,Ce)+A+z*Math.cos(ot),c(Q,Ce)+N+ee*Math.sin(ot)]);return ze.push([A+z*Math.cos(Oe),N+ee*Math.sin(Oe)]),ze.push([A+z*Math.cos(Oe),N+ee*Math.sin(Oe)]),B(ze,null,Ce)}function b(L,A,N,z,ee,ke,Oe,Q){const Ce=[],Ne=[Q.maxRandomnessOffset||1,(Q.maxRandomnessOffset||1)+.3];let ze=[0,0];const ot=Q.disableMultiStroke?1:2,P=Q.preserveVertices;for(let ye=0;ye<ot;ye++)ye===0?Ce.push({op:"move",data:[Oe[0],Oe[1]]}):Ce.push({op:"move",data:[Oe[0]+(P?0:c(Ne[0],Q)),Oe[1]+(P?0:c(Ne[0],Q))]}),ze=P?[ee,ke]:[ee+c(Ne[ye],Q),ke+c(Ne[ye],Q)],Ce.push({op:"bcurveTo",data:[L+c(Ne[ye],Q),A+c(Ne[ye],Q),N+c(Ne[ye],Q),z+c(Ne[ye],Q),ze[0],ze[1]]});return Ce}function M(L){return[...L]}var G=o(1493);const ae="none";class ce{constructor(A){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1},this.config=A||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return(0,pe.W)()}_o(A){return A?Object.assign({},this.defaultOptions,A):this.defaultOptions}_d(A,N,z){return{shape:A,sets:N||[],options:z||this.defaultOptions}}line(A,N,z,ee,ke){const Oe=this._o(ke);return this._d("line",[S(A,N,z,ee,Oe)],Oe)}rectangle(A,N,z,ee,ke){const Oe=this._o(ke),Q=[],Ce=h(A,N,z,ee,Oe);if(Oe.fill){const Ne=[[A,N],[A+z,N],[A+z,N+ee],[A,N+ee]];Oe.fillStyle==="solid"?Q.push(E([Ne],Oe)):Q.push(T([Ne],Oe))}return Oe.stroke!==ae&&Q.push(Ce),this._d("rectangle",Q,Oe)}ellipse(A,N,z,ee,ke){const Oe=this._o(ke),Q=[],Ce=O(z,ee,Oe),Ne=p(A,N,Oe,Ce);if(Oe.fill)if(Oe.fillStyle==="solid"){const ze=p(A,N,Oe,Ce).opset;ze.type="fillPath",Q.push(ze)}else Q.push(T([Ne.estimatedPoints],Oe));return Oe.stroke!==ae&&Q.push(Ne.opset),this._d("ellipse",Q,Oe)}circle(A,N,z,ee){const ke=this.ellipse(A,N,z,z,ee);return ke.shape="circle",ke}linearPath(A,N){const z=this._o(N);return this._d("linearPath",[F(A,!1,z)],z)}arc(A,N,z,ee,ke,Oe,Q=!1,Ce){const Ne=this._o(Ce),ze=[],ot=_(A,N,z,ee,ke,Oe,Q,!0,Ne);if(Q&&Ne.fill)if(Ne.fillStyle==="solid"){const P=Object.assign({},Ne);P.disableMultiStroke=!0;const ye=_(A,N,z,ee,ke,Oe,!0,!1,P);ye.type="fillPath",ze.push(ye)}else ze.push(function(P,ye,me,Pe,Ze,Je,nt){const ft=P,pt=ye;let et=Math.abs(me/2),he=Math.abs(Pe/2);et+=c(.01*et,nt),he+=c(.01*he,nt);let de=Ze,_e=Je;for(;de<0;)de+=2*Math.PI,_e+=2*Math.PI;_e-de>2*Math.PI&&(de=0,_e=2*Math.PI);const we=(_e-de)/nt.curveStepCount,Me=[];for(let Te=de;Te<=_e;Te+=we)Me.push([ft+et*Math.cos(Te),pt+he*Math.sin(Te)]);return Me.push([ft+et*Math.cos(_e),pt+he*Math.sin(_e)]),Me.push([ft,pt]),T([Me],nt)}(A,N,z,ee,ke,Oe,Ne));return Ne.stroke!==ae&&ze.push(ot),this._d("arc",ze,Ne)}curve(A,N){const z=this._o(N),ee=[],ke=u(A,z);if(z.fill&&z.fill!==ae&&A.length>=3){const Oe=function(Ce,Ne=0){const ze=Ce.length;if(ze<3)throw new Error("A curve must have at least three points.");const ot=[];if(ze===3)ot.push(M(Ce[0]),M(Ce[1]),M(Ce[2]),M(Ce[2]));else{const P=[];P.push(Ce[0],Ce[0]);for(let Pe=1;Pe<Ce.length;Pe++)P.push(Ce[Pe]),Pe===Ce.length-1&&P.push(Ce[Pe]);const ye=[],me=1-Ne;ot.push(M(P[0]));for(let Pe=1;Pe+2<P.length;Pe++){const Ze=P[Pe];ye[0]=[Ze[0],Ze[1]],ye[1]=[Ze[0]+(me*P[Pe+1][0]-me*P[Pe-1][0])/6,Ze[1]+(me*P[Pe+1][1]-me*P[Pe-1][1])/6],ye[2]=[P[Pe+1][0]+(me*P[Pe][0]-me*P[Pe+2][0])/6,P[Pe+1][1]+(me*P[Pe][1]-me*P[Pe+2][1])/6],ye[3]=[P[Pe+1][0],P[Pe+1][1]],ot.push(ye[1],ye[2],ye[3])}}return ot}(A),Q=(0,G.s)(Oe,10,(1+z.roughness)/2);z.fillStyle==="solid"?ee.push(E([Q],z)):ee.push(T([Q],z))}return z.stroke!==ae&&ee.push(ke),this._d("curve",ee,z)}polygon(A,N){const z=this._o(N),ee=[],ke=F(A,!0,z);return z.fill&&(z.fillStyle==="solid"?ee.push(E([A],z)):ee.push(T([A],z))),z.stroke!==ae&&ee.push(ke),this._d("polygon",ee,z)}path(A,N){const z=this._o(N),ee=[];if(!A)return this._d("path",ee,z);A=(A||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const ke=z.fill&&z.fill!=="transparent"&&z.fill!==ae,Oe=z.stroke!==ae,Q=!!(z.simplification&&z.simplification<1),Ce=function(Ne,ze,ot){const P=ue(ne(re(Ne))),ye=[];let me=[],Pe=[0,0],Ze=[];const Je=()=>{Ze.length>=4&&me.push(...(0,G.s)(Ze,ze)),Ze=[]},nt=()=>{Je(),me.length&&(ye.push(me),me=[])};for(const{key:pt,data:et}of P)switch(pt){case"M":nt(),Pe=[et[0],et[1]],me.push(Pe);break;case"L":Je(),me.push([et[0],et[1]]);break;case"C":if(!Ze.length){const he=me.length?me[me.length-1]:Pe;Ze.push([he[0],he[1]])}Ze.push([et[0],et[1]]),Ze.push([et[2],et[3]]),Ze.push([et[4],et[5]]);break;case"Z":Je(),me.push([Pe[0],Pe[1]])}if(nt(),!ot)return ye;const ft=[];for(const pt of ye){const et=(0,G.o)(pt,ot);et.length&&ft.push(et)}return ft}(A,1,Q?4-4*z.simplification:(1+z.roughness)/2);return ke&&(z.fillStyle==="solid"?ee.push(E(Ce,z)):ee.push(T(Ce,z))),Oe&&(Q?Ce.forEach(Ne=>{ee.push(F(Ne,!1,z))}):ee.push(function(Ne,ze){const ot=ue(ne(re(Ne))),P=[];let ye=[0,0],me=[0,0];for(const{key:Pe,data:Ze}of ot)switch(Pe){case"M":{const Je=1*(ze.maxRandomnessOffset||0),nt=ze.preserveVertices;P.push({op:"move",data:Ze.map(ft=>ft+(nt?0:c(Je,ze)))}),me=[Ze[0],Ze[1]],ye=[Ze[0],Ze[1]];break}case"L":P.push(...n(me[0],me[1],Ze[0],Ze[1],ze)),me=[Ze[0],Ze[1]];break;case"C":{const[Je,nt,ft,pt,et,he]=Ze;P.push(...b(Je,nt,ft,pt,et,he,me,ze)),me=[et,he];break}case"Z":P.push(...n(me[0],me[1],ye[0],ye[1],ze)),me=[ye[0],ye[1]]}return{type:"path",ops:P}}(A,z))),this._d("path",ee,z)}opsToPath(A,N){let z="";for(const ee of A.ops){const ke=typeof N=="number"&&N>=0?ee.data.map(Oe=>+Oe.toFixed(N)):ee.data;switch(ee.op){case"move":z+=`M${ke[0]} ${ke[1]} `;break;case"bcurveTo":z+=`C${ke[0]} ${ke[1]}, ${ke[2]} ${ke[3]}, ${ke[4]} ${ke[5]} `;break;case"lineTo":z+=`L${ke[0]} ${ke[1]} `}}return z.trim()}toPaths(A){const N=A.sets||[],z=A.options||this.defaultOptions,ee=[];for(const ke of N){let Oe=null;switch(ke.type){case"path":Oe={d:this.opsToPath(ke),stroke:z.stroke,strokeWidth:z.strokeWidth,fill:ae};break;case"fillPath":Oe={d:this.opsToPath(ke),stroke:ae,strokeWidth:0,fill:z.fill||ae};break;case"fillSketch":Oe=this.fillSketch(ke,z)}Oe&&ee.push(Oe)}return ee}fillSketch(A,N){let z=N.fillWeight;return z<0&&(z=N.strokeWidth/2),{d:this.opsToPath(A),stroke:N.fill||ae,strokeWidth:z,fill:ae}}}class J{constructor(A,N){this.canvas=A,this.ctx=this.canvas.getContext("2d"),this.gen=new ce(N)}draw(A){const N=A.sets||[],z=A.options||this.getDefaultOptions(),ee=this.ctx,ke=A.options.fixedDecimalPlaceDigits;for(const Oe of N)switch(Oe.type){case"path":ee.save(),ee.strokeStyle=z.stroke==="none"?"transparent":z.stroke,ee.lineWidth=z.strokeWidth,z.strokeLineDash&&ee.setLineDash(z.strokeLineDash),z.strokeLineDashOffset&&(ee.lineDashOffset=z.strokeLineDashOffset),this._drawToContext(ee,Oe,ke),ee.restore();break;case"fillPath":{ee.save(),ee.fillStyle=z.fill||"";const Q=A.shape==="curve"||A.shape==="polygon"||A.shape==="path"?"evenodd":"nonzero";this._drawToContext(ee,Oe,ke,Q),ee.restore();break}case"fillSketch":this.fillSketch(ee,Oe,z)}}fillSketch(A,N,z){let ee=z.fillWeight;ee<0&&(ee=z.strokeWidth/2),A.save(),z.fillLineDash&&A.setLineDash(z.fillLineDash),z.fillLineDashOffset&&(A.lineDashOffset=z.fillLineDashOffset),A.strokeStyle=z.fill||"",A.lineWidth=ee,this._drawToContext(A,N,z.fixedDecimalPlaceDigits),A.restore()}_drawToContext(A,N,z,ee="nonzero"){A.beginPath();for(const ke of N.ops){const Oe=typeof z=="number"&&z>=0?ke.data.map(Q=>+Q.toFixed(z)):ke.data;switch(ke.op){case"move":A.moveTo(Oe[0],Oe[1]);break;case"bcurveTo":A.bezierCurveTo(Oe[0],Oe[1],Oe[2],Oe[3],Oe[4],Oe[5]);break;case"lineTo":A.lineTo(Oe[0],Oe[1])}}N.type==="fillPath"?A.fill(ee):A.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(A,N,z,ee,ke){const Oe=this.gen.line(A,N,z,ee,ke);return this.draw(Oe),Oe}rectangle(A,N,z,ee,ke){const Oe=this.gen.rectangle(A,N,z,ee,ke);return this.draw(Oe),Oe}ellipse(A,N,z,ee,ke){const Oe=this.gen.ellipse(A,N,z,ee,ke);return this.draw(Oe),Oe}circle(A,N,z,ee){const ke=this.gen.circle(A,N,z,ee);return this.draw(ke),ke}linearPath(A,N){const z=this.gen.linearPath(A,N);return this.draw(z),z}polygon(A,N){const z=this.gen.polygon(A,N);return this.draw(z),z}arc(A,N,z,ee,ke,Oe,Q=!1,Ce){const Ne=this.gen.arc(A,N,z,ee,ke,Oe,Q,Ce);return this.draw(Ne),Ne}curve(A,N){const z=this.gen.curve(A,N);return this.draw(z),z}path(A,N){const z=this.gen.path(A,N);return this.draw(z),z}}const Y="http://www.w3.org/2000/svg";class oe{constructor(A,N){this.svg=A,this.gen=new ce(N)}draw(A){const N=A.sets||[],z=A.options||this.getDefaultOptions(),ee=this.svg.ownerDocument||window.document,ke=ee.createElementNS(Y,"g"),Oe=A.options.fixedDecimalPlaceDigits;for(const Q of N){let Ce=null;switch(Q.type){case"path":Ce=ee.createElementNS(Y,"path"),Ce.setAttribute("d",this.opsToPath(Q,Oe)),Ce.setAttribute("stroke",z.stroke),Ce.setAttribute("stroke-width",z.strokeWidth+""),Ce.setAttribute("fill","none"),z.strokeLineDash&&Ce.setAttribute("stroke-dasharray",z.strokeLineDash.join(" ").trim()),z.strokeLineDashOffset&&Ce.setAttribute("stroke-dashoffset",`${z.strokeLineDashOffset}`);break;case"fillPath":Ce=ee.createElementNS(Y,"path"),Ce.setAttribute("d",this.opsToPath(Q,Oe)),Ce.setAttribute("stroke","none"),Ce.setAttribute("stroke-width","0"),Ce.setAttribute("fill",z.fill||""),A.shape!=="curve"&&A.shape!=="polygon"||Ce.setAttribute("fill-rule","evenodd");break;case"fillSketch":Ce=this.fillSketch(ee,Q,z)}Ce&&ke.appendChild(Ce)}return ke}fillSketch(A,N,z){let ee=z.fillWeight;ee<0&&(ee=z.strokeWidth/2);const ke=A.createElementNS(Y,"path");return ke.setAttribute("d",this.opsToPath(N,z.fixedDecimalPlaceDigits)),ke.setAttribute("stroke",z.fill||""),ke.setAttribute("stroke-width",ee+""),ke.setAttribute("fill","none"),z.fillLineDash&&ke.setAttribute("stroke-dasharray",z.fillLineDash.join(" ").trim()),z.fillLineDashOffset&&ke.setAttribute("stroke-dashoffset",`${z.fillLineDashOffset}`),ke}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(A,N){return this.gen.opsToPath(A,N)}line(A,N,z,ee,ke){const Oe=this.gen.line(A,N,z,ee,ke);return this.draw(Oe)}rectangle(A,N,z,ee,ke){const Oe=this.gen.rectangle(A,N,z,ee,ke);return this.draw(Oe)}ellipse(A,N,z,ee,ke){const Oe=this.gen.ellipse(A,N,z,ee,ke);return this.draw(Oe)}circle(A,N,z,ee){const ke=this.gen.circle(A,N,z,ee);return this.draw(ke)}linearPath(A,N){const z=this.gen.linearPath(A,N);return this.draw(z)}polygon(A,N){const z=this.gen.polygon(A,N);return this.draw(z)}arc(A,N,z,ee,ke,Oe,Q=!1,Ce){const Ne=this.gen.arc(A,N,z,ee,ke,Oe,Q,Ce);return this.draw(Ne)}curve(A,N){const z=this.gen.curve(A,N);return this.draw(z)}path(A,N){const z=this.gen.path(A,N);return this.draw(z)}}var xe={canvas:(L,A)=>new J(L,A),svg:(L,A)=>new oe(L,A),generator:L=>new ce(L),newSeed:()=>ce.newSeed()}},5714:function(le){le.exports=function(K,o,x){var i=[],v=K.length;if(v===0)return i;var g=o<0?Math.max(0,o+v):o||0;for(x!==void 0&&(v=x<0?x+v:x);v-- >g;)i[v-g]=K[v];return i}},8336:function(le,K,o){var x=o(487),i=o(4295);typeof(i=i.__esModule?i.default:i)=="string"&&(i=[[le.id,i,""]]);var v={insert:"head",singleton:!1};x(i,v),le.exports=i.locals||{}},554:function(le,K,o){var x=o(487),i=o(9135);typeof(i=i.__esModule?i.default:i)=="string"&&(i=[[le.id,i,""]]);var v={insert:"head",singleton:!1};x(i,v),le.exports=i.locals||{}},2789:function(le,K,o){var x=o(487),i=o(3729);typeof(i=i.__esModule?i.default:i)=="string"&&(i=[[le.id,i,""]]);var v={insert:"head",singleton:!1};x(i,v),le.exports=i.locals||{}},5080:function(le,K,o){var x=o(487),i=o(4241);typeof(i=i.__esModule?i.default:i)=="string"&&(i=[[le.id,i,""]]);var v={insert:"head",singleton:!1};x(i,v),le.exports=i.locals||{}},7225:function(le,K,o){var x=o(487),i=o(6029);typeof(i=i.__esModule?i.default:i)=="string"&&(i=[[le.id,i,""]]);var v={insert:"head",singleton:!1};x(i,v),le.exports=i.locals||{}},778:function(le,K,o){var x=o(487),i=o(9609);typeof(i=i.__esModule?i.default:i)=="string"&&(i=[[le.id,i,""]]);var v={insert:"head",singleton:!1};x(i,v),le.exports=i.locals||{}},4220:function(le,K,o){var x=o(487),i=o(2345);typeof(i=i.__esModule?i.default:i)=="string"&&(i=[[le.id,i,""]]);var v={insert:"head",singleton:!1};x(i,v),le.exports=i.locals||{}},4678:function(le,K,o){var x=o(487),i=o(9393);typeof(i=i.__esModule?i.default:i)=="string"&&(i=[[le.id,i,""]]);var v={insert:"head",singleton:!1};x(i,v),le.exports=i.locals||{}},1292:function(le,K,o){var x=o(487),i=o(6578);typeof(i=i.__esModule?i.default:i)=="string"&&(i=[[le.id,i,""]]);var v={insert:"head",singleton:!1};x(i,v),le.exports=i.locals||{}},196:function(le,K,o){var x=o(487),i=o(9482);typeof(i=i.__esModule?i.default:i)=="string"&&(i=[[le.id,i,""]]);var v={insert:"head",singleton:!1};x(i,v),le.exports=i.locals||{}},2205:function(le,K,o){var x=o(487),i=o(7955);typeof(i=i.__esModule?i.default:i)=="string"&&(i=[[le.id,i,""]]);var v={insert:"head",singleton:!1};x(i,v),le.exports=i.locals||{}},1310:function(le,K,o){var x=o(487),i=o(3195);typeof(i=i.__esModule?i.default:i)=="string"&&(i=[[le.id,i,""]]);var v={insert:"head",singleton:!1};x(i,v),le.exports=i.locals||{}},3922:function(le,K,o){var x=o(487),i=o(2978);typeof(i=i.__esModule?i.default:i)=="string"&&(i=[[le.id,i,""]]);var v={insert:"head",singleton:!1};x(i,v),le.exports=i.locals||{}},7096:function(le,K,o){var x=o(487),i=o(1587);typeof(i=i.__esModule?i.default:i)=="string"&&(i=[[le.id,i,""]]);var v={insert:"head",singleton:!1};x(i,v),le.exports=i.locals||{}},7117:function(le,K,o){var x=o(487),i=o(9478);typeof(i=i.__esModule?i.default:i)=="string"&&(i=[[le.id,i,""]]);var v={insert:"head",singleton:!1};x(i,v),le.exports=i.locals||{}},1106:function(le,K,o){var x=o(487),i=o(7369);typeof(i=i.__esModule?i.default:i)=="string"&&(i=[[le.id,i,""]]);var v={insert:"head",singleton:!1};x(i,v),le.exports=i.locals||{}},3336:function(le,K,o){var x=o(487),i=o(1434);typeof(i=i.__esModule?i.default:i)=="string"&&(i=[[le.id,i,""]]);var v={insert:"head",singleton:!1};x(i,v),le.exports=i.locals||{}},4406:function(le,K,o){var x=o(487),i=o(8923);typeof(i=i.__esModule?i.default:i)=="string"&&(i=[[le.id,i,""]]);var v={insert:"head",singleton:!1};x(i,v),le.exports=i.locals||{}},6043:function(le,K,o){var x=o(487),i=o(6440);typeof(i=i.__esModule?i.default:i)=="string"&&(i=[[le.id,i,""]]);var v={insert:"head",singleton:!1};x(i,v),le.exports=i.locals||{}},694:function(le,K,o){var x=o(487),i=o(5644);typeof(i=i.__esModule?i.default:i)=="string"&&(i=[[le.id,i,""]]);var v={insert:"head",singleton:!1};x(i,v),le.exports=i.locals||{}},8328:function(le,K,o){var x=o(487),i=o(6843);typeof(i=i.__esModule?i.default:i)=="string"&&(i=[[le.id,i,""]]);var v={insert:"head",singleton:!1};x(i,v),le.exports=i.locals||{}},8051:function(le,K,o){var x=o(487),i=o(8461);typeof(i=i.__esModule?i.default:i)=="string"&&(i=[[le.id,i,""]]);var v={insert:"head",singleton:!1};x(i,v),le.exports=i.locals||{}},4301:function(le,K,o){var x=o(487),i=o(9935);typeof(i=i.__esModule?i.default:i)=="string"&&(i=[[le.id,i,""]]);var v={insert:"head",singleton:!1};x(i,v),le.exports=i.locals||{}},9966:function(le,K,o){var x=o(487),i=o(532);typeof(i=i.__esModule?i.default:i)=="string"&&(i=[[le.id,i,""]]);var v={insert:"head",singleton:!1};x(i,v),le.exports=i.locals||{}},9295:function(le,K,o){var x=o(487),i=o(7589);typeof(i=i.__esModule?i.default:i)=="string"&&(i=[[le.id,i,""]]);var v={insert:"head",singleton:!1};x(i,v),le.exports=i.locals||{}},47:function(le,K,o){var x=o(487),i=o(5741);typeof(i=i.__esModule?i.default:i)=="string"&&(i=[[le.id,i,""]]);var v={insert:"head",singleton:!1};x(i,v),le.exports=i.locals||{}},9781:function(le,K,o){var x=o(487),i=o(8465);typeof(i=i.__esModule?i.default:i)=="string"&&(i=[[le.id,i,""]]);var v={insert:"head",singleton:!1};x(i,v),le.exports=i.locals||{}},371:function(le,K,o){var x=o(487),i=o(5892);typeof(i=i.__esModule?i.default:i)=="string"&&(i=[[le.id,i,""]]);var v={insert:"head",singleton:!1};x(i,v),le.exports=i.locals||{}},4623:function(le,K,o){var x=o(487),i=o(3874);typeof(i=i.__esModule?i.default:i)=="string"&&(i=[[le.id,i,""]]);var v={insert:"head",singleton:!1};x(i,v),le.exports=i.locals||{}},1528:function(le,K,o){var x=o(487),i=o(2681);typeof(i=i.__esModule?i.default:i)=="string"&&(i=[[le.id,i,""]]);var v={insert:"head",singleton:!1};x(i,v),le.exports=i.locals||{}},518:function(le,K,o){var x=o(487),i=o(6759);typeof(i=i.__esModule?i.default:i)=="string"&&(i=[[le.id,i,""]]);var v={insert:"head",singleton:!1};x(i,v),le.exports=i.locals||{}},9757:function(le,K,o){var x=o(487),i=o(9650);typeof(i=i.__esModule?i.default:i)=="string"&&(i=[[le.id,i,""]]);var v={insert:"head",singleton:!1};x(i,v),le.exports=i.locals||{}},5422:function(le,K,o){var x=o(487),i=o(2044);typeof(i=i.__esModule?i.default:i)=="string"&&(i=[[le.id,i,""]]);var v={insert:"head",singleton:!1};x(i,v),le.exports=i.locals||{}},276:function(le,K,o){var x=o(487),i=o(9144);typeof(i=i.__esModule?i.default:i)=="string"&&(i=[[le.id,i,""]]);var v={insert:"head",singleton:!1};x(i,v),le.exports=i.locals||{}},6781:function(le,K,o){var x=o(487),i=o(6626);typeof(i=i.__esModule?i.default:i)=="string"&&(i=[[le.id,i,""]]);var v={insert:"head",singleton:!1};x(i,v),le.exports=i.locals||{}},580:function(le,K,o){var x=o(487),i=o(6359);typeof(i=i.__esModule?i.default:i)=="string"&&(i=[[le.id,i,""]]);var v={insert:"head",singleton:!1};x(i,v),le.exports=i.locals||{}},4285:function(le,K,o){var x=o(487),i=o(9915);typeof(i=i.__esModule?i.default:i)=="string"&&(i=[[le.id,i,""]]);var v={insert:"head",singleton:!1};x(i,v),le.exports=i.locals||{}},3313:function(le,K,o){var x=o(487),i=o(9310);typeof(i=i.__esModule?i.default:i)=="string"&&(i=[[le.id,i,""]]);var v={insert:"head",singleton:!1};x(i,v),le.exports=i.locals||{}},8635:function(le,K,o){var x=o(487),i=o(6464);typeof(i=i.__esModule?i.default:i)=="string"&&(i=[[le.id,i,""]]);var v={insert:"head",singleton:!1};x(i,v),le.exports=i.locals||{}},4404:function(le,K,o){var x=o(487),i=o(5260);typeof(i=i.__esModule?i.default:i)=="string"&&(i=[[le.id,i,""]]);var v={insert:"head",singleton:!1};x(i,v),le.exports=i.locals||{}},487:function(le,K,o){var x,i=function(){return x===void 0&&(x=!!(window&&document&&document.all&&!window.atob)),x},v=function(){var ne={};return function(ue){if(ne[ue]===void 0){var $=document.querySelector(ue);if(window.HTMLIFrameElement&&$ instanceof window.HTMLIFrameElement)try{$=$.contentDocument.head}catch{$=null}ne[ue]=$}return ne[ue]}}(),g=[];function j(ne){for(var ue=-1,$=0;$<g.length;$++)if(g[$].identifier===ne){ue=$;break}return ue}function y(ne,ue){for(var $={},ge=[],se=0;se<ne.length;se++){var S=ne[se],F=ue.base?S[0]+ue.base:S[0],h=$[F]||0,u="".concat(F," ").concat(h);$[F]=h+1;var O=j(u),p={css:S[1],media:S[2],sourceMap:S[3]};O!==-1?(g[O].references++,g[O].updater(p)):g.push({identifier:u,updater:re(p,ue),references:1}),ge.push(u)}return ge}function V(ne){var ue=document.createElement("style"),$=ne.attributes||{};if($.nonce===void 0){var ge=o.nc;ge&&($.nonce=ge)}if(Object.keys($).forEach(function(S){ue.setAttribute(S,$[S])}),typeof ne.insert=="function")ne.insert(ue);else{var se=v(ne.insert||"head");if(!se)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");se.appendChild(ue)}return ue}var ie,I=(ie=[],function(ne,ue){return ie[ne]=ue,ie.filter(Boolean).join(`
`)});function te(ne,ue,$,ge){var se=$?"":ge.media?"@media ".concat(ge.media," {").concat(ge.css,"}"):ge.css;if(ne.styleSheet)ne.styleSheet.cssText=I(ue,se);else{var S=document.createTextNode(se),F=ne.childNodes;F[ue]&&ne.removeChild(F[ue]),F.length?ne.insertBefore(S,F[ue]):ne.appendChild(S)}}function pe(ne,ue,$){var ge=$.css,se=$.media,S=$.sourceMap;if(se?ne.setAttribute("media",se):ne.removeAttribute("media"),S&&typeof btoa<"u"&&(ge+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(S))))," */")),ne.styleSheet)ne.styleSheet.cssText=ge;else{for(;ne.firstChild;)ne.removeChild(ne.firstChild);ne.appendChild(document.createTextNode(ge))}}var fe=null,W=0;function re(ne,ue){var $,ge,se;if(ue.singleton){var S=W++;$=fe||(fe=V(ue)),ge=te.bind(null,$,S,!1),se=te.bind(null,$,S,!0)}else $=V(ue),ge=pe.bind(null,$,ue),se=function(){(function(F){if(F.parentNode===null)return!1;F.parentNode.removeChild(F)})($)};return ge(ne),function(F){if(F){if(F.css===ne.css&&F.media===ne.media&&F.sourceMap===ne.sourceMap)return;ge(ne=F)}else se()}}le.exports=function(ne,ue){(ue=ue||{}).singleton||typeof ue.singleton=="boolean"||(ue.singleton=i());var $=y(ne=ne||[],ue);return function(ge){if(ge=ge||[],Object.prototype.toString.call(ge)==="[object Array]"){for(var se=0;se<$.length;se++){var S=j($[se]);g[S].references--}for(var F=y(ge,ue),h=0;h<$.length;h++){var u=j($[h]);g[u].references===0&&(g[u].updater(),g.splice(u,1))}$=F}}}},940:function(le,K,o){var x={"./ar-SA.json":[7822,91],"./bg-BG.json":[1203,628],"./bn-BD.json":[8525,429],"./ca-ES.json":[510,130],"./cs-CZ.json":[7605,265],"./da-DK.json":[2392,790],"./de-DE.json":[2853,82],"./el-GR.json":[9876,513],"./en.json":[1463],"./es-ES.json":[9952,759],"./eu-ES.json":[5658,81],"./fa-IR.json":[3747,330],"./fi-FI.json":[9490,512],"./fr-FR.json":[7830,682],"./he-IL.json":[1994,312],"./hi-IN.json":[4646,828],"./hu-HU.json":[6373,368],"./id-ID.json":[3247,808],"./it-IT.json":[3257,239],"./ja-JP.json":[198,204],"./kab-KAB.json":[228,551],"./kk-KZ.json":[8972,22],"./ko-KR.json":[7596,844],"./lt-LT.json":[3755,340],"./lv-LV.json":[2327,768],"./mr-IN.json":[5297,397],"./my-MM.json":[7704,477],"./nb-NO.json":[1167,359],"./nl-NL.json":[290,24],"./nn-NO.json":[4481,885],"./oc-FR.json":[2284,690],"./pa-IN.json":[6773,162],"./percentages.json":[4451],"./pl-PL.json":[3661,674],"./pt-BR.json":[8881,721],"./pt-PT.json":[5622,395],"./ro-RO.json":[2013,89],"./ru-RU.json":[2253,124],"./si-LK.json":[5497,302],"./sk-SK.json":[4570,750],"./sl-SI.json":[1984,71],"./sv-SE.json":[6006,534],"./ta-IN.json":[3952,404],"./tr-TR.json":[7315,977],"./uk-UA.json":[334,579],"./zh-CN.json":[1037,680],"./zh-HK.json":[5334,920],"./zh-TW.json":[931,421]};function i(v){if(!o.o(x,v))return Promise.resolve().then(function(){var y=new Error("Cannot find module '"+v+"'");throw y.code="MODULE_NOT_FOUND",y});var g=x[v],j=g[0];return Promise.all(g.slice(1).map(o.e)).then(function(){return o.t(j,19)})}i.keys=function(){return Object.keys(x)},i.id=940,le.exports=i},9713:function(le){le.exports=function(K,o,x){return o in K?Object.defineProperty(K,o,{value:x,enumerable:!0,configurable:!0,writable:!0}):K[o]=x,K}},6479:function(le,K,o){var x=o(7316);le.exports=function(i,v){if(i==null)return{};var g,j,y=x(i,v);if(Object.getOwnPropertySymbols){var V=Object.getOwnPropertySymbols(i);for(j=0;j<V.length;j++)g=V[j],v.indexOf(g)>=0||Object.prototype.propertyIsEnumerable.call(i,g)&&(y[g]=i[g])}return y}},7316:function(le){le.exports=function(K,o){if(K==null)return{};var x,i,v={},g=Object.keys(K);for(i=0;i<g.length;i++)x=g[i],o.indexOf(x)>=0||(v[x]=K[x]);return v}},4295:function(le,K,o){o.r(K);var x=o(8081),i=o.n(x),v=o(3645),g=o.n(v),j=o(1667),y=o.n(j),V=new URL(o(3940),o.b),ie=new URL(o(3147),o.b),I=g()(i()),te=y()(V),pe=y()(ie);I.push([le.id,'@font-face{font-family:"Virgil";src:url('+te+');font-display:swap}@font-face{font-family:"Cascadia";src:url('+pe+");font-display:swap}",""]),K.default=I},9135:function(le,K,o){o.r(K);var x=o(8081),i=o.n(x),v=o(3645),g=o.n(v)()(i());g.push([le.id,".excalidraw .ActiveFile .ActiveFile__fileName{display:flex;align-items:center}.excalidraw .ActiveFile .ActiveFile__fileName span{text-overflow:ellipsis;overflow:hidden;white-space:nowrap;width:9.3em}.excalidraw .ActiveFile .ActiveFile__fileName svg{width:1.15em;-webkit-margin-end:.3em;margin-inline-end:.3em;-webkit-transform:scaleY(0.9);transform:scaleY(0.9)}",""]),K.default=g},3729:function(le,K,o){o.r(K);var x=o(8081),i=o.n(x),v=o(3645),g=o.n(v)()(i());g.push([le.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Avatar{width:2.5rem;height:2.5rem;border-radius:1.25rem;display:flex;justify-content:center;align-items:center;color:#fff;cursor:pointer;font-size:.8rem;font-weight:500}.excalidraw .Avatar-img{width:100%;height:100%;border-radius:100%}",""]),K.default=g},4241:function(le,K,o){o.r(K);var x=o(8081),i=o.n(x),v=o(3645),g=o.n(v)()(i());g.push([le.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Card{display:flex;flex-direction:column;align-items:center;max-width:290px;margin:1em;text-align:center}.excalidraw .Card .Card-icon{font-size:2.6em;display:flex;flex:0 0 auto;padding:1.4rem;border-radius:50%;background:var(--card-color);color:#fff}.excalidraw .Card .Card-icon svg{width:2.8rem;height:2.8rem}.excalidraw .Card .Card-details{font-size:.96em;min-height:90px;padding:0 1em;margin-bottom:auto}.excalidraw .Card .Card-button.ToolIcon_type_button{height:2.5rem;margin-top:1em;margin-bottom:.3em;background-color:var(--card-color)}.excalidraw .Card .Card-button.ToolIcon_type_button:hover{background-color:var(--card-color-darker)}.excalidraw .Card .Card-button.ToolIcon_type_button:active{background-color:var(--card-color-darkest)}.excalidraw .Card .Card-button.ToolIcon_type_button .ToolIcon__label{color:#fff}.excalidraw .Card .Card-button.ToolIcon_type_button .Spinner{--spinner-color: #fff}",""]),K.default=g},6029:function(le,K,o){o.r(K);var x=o(8081),i=o.n(x),v=o(3645),g=o.n(v)()(i());g.push([le.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Checkbox{margin:4px .3em;display:flex;align-items:center;cursor:pointer;-webkit-user-select:none;user-select:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.excalidraw .Checkbox:hover:not(.is-checked) .Checkbox-box:not(:focus){box-shadow:0 0 0 2px #4dabf7}.excalidraw .Checkbox:hover:not(.is-checked) .Checkbox-box:not(:focus) svg{display:block;opacity:.3}.excalidraw .Checkbox:active .Checkbox-box{box-shadow:0 0 2px 1px inset #1c7ed6 !important}.excalidraw .Checkbox:hover .Checkbox-box{background-color:rgba(208,235,255,.2)}.excalidraw .Checkbox.is-checked .Checkbox-box{background-color:#d0ebff}.excalidraw .Checkbox.is-checked .Checkbox-box svg{display:block}.excalidraw .Checkbox.is-checked:hover .Checkbox-box{background-color:#a5d8ff}.excalidraw .Checkbox .Checkbox-box{width:22px;height:22px;padding:0;flex:0 0 auto;margin:0 1em;display:flex;align-items:center;justify-content:center;box-shadow:0 0 0 2px #1c7ed6;background-color:rgba(0,0,0,0);border-radius:4px;color:#1c7ed6}.excalidraw .Checkbox .Checkbox-box:focus{box-shadow:0 0 0 3px #1c7ed6}.excalidraw .Checkbox .Checkbox-box svg{display:none;width:16px;height:16px;stroke-width:3px}.excalidraw .Checkbox .Checkbox-label{display:flex;align-items:center}.excalidraw .Checkbox .excalidraw-tooltip-icon{width:1em;height:1em}",""]),K.default=g},9609:function(le,K,o){o.r(K);var x=o(8081),i=o.n(x),v=o(3645),g=o.n(v)()(i());g.push([le.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .CollabButton.is-collaborating{background-color:var(--button-special-active-bg-color)}.excalidraw .CollabButton.is-collaborating .ToolIcon__icon svg,.excalidraw .CollabButton.is-collaborating .ToolIcon__label{color:var(--icon-green-fill-color)}.excalidraw .CollabButton-collaborators{min-width:1em;min-height:1em;line-height:1;position:absolute;bottom:-5px;padding:3px;border-radius:50%;background-color:#40c057;color:#fff;font-size:.6em;font-family:"Cascadia"}:root[dir=ltr] .excalidraw .CollabButton-collaborators{right:-5px}:root[dir=rtl] .excalidraw .CollabButton-collaborators{left:-5px}',""]),K.default=g},2345:function(le,K,o){o.r(K);var x=o(8081),i=o.n(x),v=o(3645),g=o.n(v),j=o(1667),y=o.n(j),V=new URL(o(9669),o.b),ie=g()(i()),I=y()(V);ie.push([le.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .color-picker{background:var(--popup-bg-color);border:0 solid rgba(255,255,255,.25);box-shadow:rgba(0,0,0,.25) 0 1px 4px;border-radius:4px;position:absolute}:root[dir=ltr] .excalidraw .color-picker{left:-5.5px}:root[dir=rtl] .excalidraw .color-picker{right:-5.5px}.excalidraw .color-picker-control-container{display:grid;grid-template-columns:auto 1fr;align-items:center}.excalidraw .color-picker-triangle{width:0;height:0;border-style:solid;border-width:0 9px 10px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) var(--popup-bg-color);position:absolute;top:-10px}:root[dir=ltr] .excalidraw .color-picker-triangle{left:12px}:root[dir=rtl] .excalidraw .color-picker-triangle{right:12px}.excalidraw .color-picker-triangle-shadow{border-color:rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,.1);top:-11px}.excalidraw .color-picker-content--default{padding:.5rem;display:grid;grid-template-columns:repeat(5, auto);grid-gap:.5rem;border-radius:4px}.excalidraw .color-picker-content--default:focus{outline:none;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .color-picker-content--canvas{display:flex;flex-direction:column;padding:.25rem}.excalidraw .color-picker-content--canvas-title{color:#868e96;font-size:12px;padding:0 .25rem}.excalidraw .color-picker-content--canvas-colors{padding:.5rem 0}.excalidraw .color-picker-content--canvas-colors .color-picker-swatch{margin:0 .25rem}.excalidraw .color-picker-content .color-input-container{grid-column:1/span 5}.excalidraw .color-picker-swatch{position:relative;height:1.875rem;width:1.875rem;cursor:pointer;border-radius:4px;margin:0;box-sizing:border-box;border:1px solid #ddd;background-color:currentColor !important;-webkit-filter:var(--theme-filter);filter:var(--theme-filter)}.excalidraw .color-picker-swatch:focus{box-shadow:0 0 4px 1px currentColor;border-color:var(--select-highlight-color)}.excalidraw .color-picker-transparent{border-radius:4px;box-shadow:rgba(0,0,0,.1) 0 0 0 1px inset;position:absolute;top:0;right:0;bottom:0;left:0}.excalidraw .color-picker-transparent,.excalidraw .color-picker-label-swatch{background:url("+I+') left center}.excalidraw .color-picker-hash{background:var(--input-border-color);height:1.875rem;width:1.875rem;color:var(--input-label-color);display:flex;align-items:center;justify-content:center;position:relative}:root[dir=ltr] .excalidraw .color-picker-hash{border-radius:4px 0 0 4px}:root[dir=rtl] .excalidraw .color-picker-hash{border-radius:0 4px 4px 0}.excalidraw .color-input-container:focus-within .color-picker-hash{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .color-input-container:focus-within .color-picker-hash::before,.excalidraw .color-input-container:focus-within .color-picker-hash::after{content:"";width:1px;height:100%;position:absolute;top:0}.excalidraw .color-input-container:focus-within .color-picker-hash::before{background:var(--input-border-color)}:root[dir=ltr] .excalidraw .color-input-container:focus-within .color-picker-hash::before{right:-1px}:root[dir=rtl] .excalidraw .color-input-container:focus-within .color-picker-hash::before{left:-1px}.excalidraw .color-input-container:focus-within .color-picker-hash::after{background:var(--input-bg-color)}:root[dir=ltr] .excalidraw .color-input-container:focus-within .color-picker-hash::after{right:-2px}:root[dir=rtl] .excalidraw .color-input-container:focus-within .color-picker-hash::after{left:-2px}.excalidraw .color-input-container{display:flex}.excalidraw .color-picker-input{width:11ch;margin:0;font-size:1rem;background-color:var(--input-bg-color);color:var(--text-primary-color);border:0;outline:none;height:1.75em;box-shadow:var(--input-border-color) 0 0 0 1px inset;float:left;padding:1px;-webkit-padding-start:.5em;padding-inline-start:.5em;-webkit-appearance:none;appearance:none}:root[dir=ltr] .excalidraw .color-picker-input{border-radius:0 4px 4px 0}:root[dir=rtl] .excalidraw .color-picker-input{border-radius:4px 0 0 4px}.excalidraw .color-picker-label-swatch{height:1.875rem;width:1.875rem;-webkit-margin-end:.25rem;margin-inline-end:.25rem;border:1px solid #dee2e6;position:relative;overflow:hidden;background-color:rgba(0,0,0,0) !important;-webkit-filter:var(--theme-filter);filter:var(--theme-filter)}.excalidraw .color-picker-label-swatch:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:var(--swatch-color)}.excalidraw .color-picker-keybinding{position:absolute;bottom:2px;font-size:.7em}:root[dir=ltr] .excalidraw .color-picker-keybinding{right:2px}:root[dir=rtl] .excalidraw .color-picker-keybinding{left:2px}.excalidraw--mobile.excalidraw .color-picker-keybinding{display:none}.excalidraw .color-picker-type-canvasBackground .color-picker-keybinding{color:#aaa}.excalidraw .color-picker-type-elementBackground .color-picker-keybinding{color:#fff}.excalidraw .color-picker-swatch[aria-label=transparent] .color-picker-keybinding{color:#aaa}.excalidraw .color-picker-type-elementStroke .color-picker-keybinding{color:#d4d4d4}.excalidraw.theme--dark .color-picker-type-elementBackground .color-picker-keybinding{color:#000}.excalidraw.theme--dark .color-picker-swatch[aria-label=transparent] .color-picker-keybinding{color:#000}',""]),K.default=ie},9393:function(le,K,o){o.r(K);var x=o(8081),i=o.n(x),v=o(3645),g=o.n(v)()(i());g.push([le.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .confirm-dialog-buttons{display:flex;padding:.2rem 0;justify-content:flex-end}.excalidraw .confirm-dialog .ToolIcon__icon{min-width:2.5rem;width:auto;font-size:1rem}.excalidraw .confirm-dialog .ToolIcon_type_button{margin-left:.8rem;padding:0 .5rem}.excalidraw .confirm-dialog__content{font-size:1rem}.excalidraw .confirm-dialog--confirm.ToolIcon_type_button{background-color:#fa5252}.excalidraw .confirm-dialog--confirm.ToolIcon_type_button:hover{background-color:#e03131}.excalidraw .confirm-dialog--confirm.ToolIcon_type_button .ToolIcon__icon{color:#fff}",""]),K.default=g},6578:function(le,K,o){o.r(K);var x=o(8081),i=o.n(x),v=o(3645),g=o.n(v)()(i());g.push([le.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .context-menu{position:relative;border-radius:4px;box-shadow:0 3px 10px rgba(0,0,0,.2);padding:0;list-style:none;-webkit-user-select:none;user-select:none;margin:-0.25rem 0 0 .125rem;padding:.5rem 0;background-color:var(--popup-secondary-bg-color);border:1px solid var(--button-gray-3);cursor:default}.excalidraw .context-menu button{color:var(--popup-text-color)}.excalidraw .context-menu-option{position:relative;width:100%;min-width:9.5rem;margin:0;padding:.25rem 1rem .25rem 1.25rem;text-align:start;border-radius:0;background-color:rgba(0,0,0,0);border:none;white-space:nowrap;display:grid;grid-template-columns:1fr .2fr;align-items:center}.excalidraw .context-menu-option.checkmark::before{position:absolute;left:6px;margin-bottom:1px;content:"✓"}.excalidraw .context-menu-option.dangerous .context-menu-option__label{color:#f03e3e}.excalidraw .context-menu-option .context-menu-option__label{justify-self:start;-webkit-margin-end:20px;margin-inline-end:20px}.excalidraw .context-menu-option .context-menu-option__shortcut{justify-self:end;opacity:.6;font-family:inherit;font-size:.7rem}.excalidraw .context-menu-option:hover{color:var(--popup-bg-color);background-color:var(--select-highlight-color)}.excalidraw .context-menu-option:hover.dangerous{background-color:#fa5252}.excalidraw .context-menu-option:hover.dangerous .context-menu-option__label{color:var(--popup-bg-color)}.excalidraw .context-menu-option:focus{z-index:1}.excalidraw--mobile.excalidraw .context-menu-option{display:block}.excalidraw--mobile.excalidraw .context-menu-option .context-menu-option__label{-webkit-margin-end:0;margin-inline-end:0}.excalidraw--mobile.excalidraw .context-menu-option .context-menu-option__shortcut{display:none}.excalidraw .context-menu-option-separator{border:none;border-top:1px solid #adb5bd}',""]),K.default=g},9482:function(le,K,o){o.r(K);var x=o(8081),i=o.n(x),v=o(3645),g=o.n(v)()(i());g.push([le.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Dialog{-webkit-user-select:text;user-select:text;cursor:auto}.excalidraw .Dialog__title{display:grid;align-items:center;margin-top:0;grid-template-columns:1fr calc(var(--space-factor)*7);grid-gap:var(--metric);padding:calc(var(--space-factor)*2);text-align:center;font-variant:small-caps;font-size:1.2em}.excalidraw .Dialog__titleContent{flex:1}.excalidraw .Dialog .Modal__close{color:var(--icon-fill-color);margin:0}.excalidraw .Dialog__content{padding:0 16px 16px}.excalidraw--mobile.excalidraw .Dialog{--metric: calc(var(--space-factor) * 4);--inset-left: max(var(--metric), var(--sal));--inset-right: max(var(--metric), var(--sar))}.excalidraw--mobile.excalidraw .Dialog__title{grid-template-columns:calc(var(--space-factor)*7) 1fr calc(var(--space-factor)*7);position:-webkit-sticky;position:sticky;top:0;padding:calc(var(--space-factor)*2);background:var(--island-bg-color);font-size:1.25em;box-sizing:border-box;border-bottom:1px solid var(--button-gray-2);z-index:1}.excalidraw--mobile.excalidraw .Dialog__titleContent{text-align:center}.excalidraw--mobile.excalidraw .Dialog .Island{width:100vw;height:100%;box-sizing:border-box;overflow-y:auto;padding-left:max(calc(var(--padding) * var(--space-factor)), var(--sal));padding-right:max(calc(var(--padding) * var(--space-factor)), var(--sar));padding-bottom:max(calc(var(--padding) * var(--space-factor)), var(--sab))}.excalidraw--mobile.excalidraw .Dialog .Modal__close{order:-1}",""]),K.default=g},7955:function(le,K,o){o.r(K);var x=o(8081),i=o.n(x),v=o(3645),g=o.n(v),j=o(1667),y=o.n(j),V=new URL(o(9669),o.b),ie=g()(i()),I=y()(V);ie.push([le.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .ExportDialog__preview{--preview-padding: calc(var(--space-factor) * 4);background:url("+I+") left center;text-align:center;padding:var(--preview-padding);margin-bottom:calc(var(--space-factor)*3)}.excalidraw .ExportDialog__preview canvas{max-width:calc(100% - var(--preview-padding)*2);max-height:25rem}.excalidraw.theme--dark .ExportDialog__preview canvas{-webkit-filter:none;filter:none}.excalidraw .ExportDialog__actions{width:100%;display:flex;grid-gap:calc(var(--space-factor)*2);align-items:top;justify-content:space-between}.excalidraw--mobile.excalidraw .ExportDialog{display:flex;flex-direction:column}.excalidraw--mobile.excalidraw .ExportDialog__actions{flex-direction:column;align-items:center}.excalidraw--mobile.excalidraw .ExportDialog__actions>*{margin-bottom:calc(var(--space-factor)*3)}.excalidraw--mobile.excalidraw .ExportDialog__preview canvas{max-height:30vh}.excalidraw--mobile.excalidraw .ExportDialog__dialog,.excalidraw--mobile.excalidraw .ExportDialog__dialog .Island{height:100%;box-sizing:border-box}.excalidraw--mobile.excalidraw .ExportDialog__dialog .Island{overflow-y:auto}.excalidraw .ExportDialog--json .ExportDialog-cards{display:grid;grid-template-columns:repeat(auto-fit, minmax(200px, 1fr));justify-items:center;row-gap:2em}@media(max-width: 460px){.excalidraw .ExportDialog--json .ExportDialog-cards{grid-template-columns:repeat(auto-fit, minmax(240px, 1fr))}.excalidraw .ExportDialog--json .ExportDialog-cards .Card-details{min-height:40px}}.excalidraw .ExportDialog--json .ExportDialog-cards .ProjectName{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;margin:1em auto;align-items:flex-start;flex-direction:column}.excalidraw .ExportDialog--json .ExportDialog-cards .ProjectName .TextInput{width:auto}.excalidraw .ExportDialog--json .ExportDialog-cards .ProjectName-label{margin:.625em 0;font-weight:bold}.excalidraw button.ExportDialog-imageExportButton{width:5rem;height:5rem;margin:0 .2em;border-radius:1rem;background-color:var(--button-color);box-shadow:0 3px 5px -1px rgba(0,0,0,.28),0 6px 10px 0 rgba(0,0,0,.14);font-family:Cascadia;font-size:1.8em;color:#fff}.excalidraw button.ExportDialog-imageExportButton:hover{background-color:var(--button-color-darker)}.excalidraw button.ExportDialog-imageExportButton:active{background-color:var(--button-color-darkest);box-shadow:none}.excalidraw button.ExportDialog-imageExportButton svg{width:.9em}",""]),K.default=ie},3195:function(le,K,o){o.r(K);var x=o(8081),i=o.n(x),v=o(3645),g=o.n(v)()(i());g.push([le.id,".excalidraw .FixedSideContainer{position:absolute;pointer-events:none}.excalidraw .FixedSideContainer>*{pointer-events:all}.excalidraw .FixedSideContainer_side_top{left:var(--space-factor);top:var(--space-factor);right:var(--space-factor);z-index:2}.excalidraw .FixedSideContainer_side_top.zen-mode{right:42px}",""]),K.default=g},2978:function(le,K,o){o.r(K);var x=o(8081),i=o.n(x),v=o(3645),g=o.n(v)()(i());g.push([le.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .HelpDialog h3{border-bottom:1px solid var(--button-gray-2);padding-bottom:4px}.excalidraw .HelpDialog--island{border:1px solid var(--button-gray-2);margin-bottom:16px}.excalidraw .HelpDialog--island-title{margin:0;padding:4px;background-color:var(--button-gray-1);text-align:center}.excalidraw .HelpDialog--shortcut{border-top:1px solid var(--button-gray-2)}.excalidraw .HelpDialog--key{word-break:keep-all;border:1px solid var(--button-gray-2);padding:2px 8px;margin:auto 4px;background-color:var(--button-gray-1);border-radius:2px;font-size:.8em;min-height:26px;box-sizing:border-box;display:flex;align-items:center;font-family:inherit}.excalidraw .HelpDialog--header{display:flex;flex-direction:row;justify-content:space-evenly;margin-bottom:32px;padding-bottom:16px}.excalidraw .HelpDialog--btn{border:1px solid var(--link-color);padding:8px 32px;border-radius:4px}.excalidraw .HelpDialog--btn:hover{text-decoration:none}",""]),K.default=g},1587:function(le,K,o){o.r(K);var x=o(8081),i=o.n(x),v=o(3645),g=o.n(v)()(i());g.push([le.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .HintViewer{pointer-events:none;box-sizing:border-box;position:absolute;display:flex;justify-content:center;left:0;top:100%;max-width:100%;width:100%;margin-top:6px;text-align:center;color:#868e96;font-size:.8rem}.excalidraw--mobile.excalidraw .HintViewer{position:static;padding-right:2em}.excalidraw .HintViewer>span{padding:.2rem .4rem;background-color:var(--overlay-bg-color);border-radius:4px}",""]),K.default=g},9478:function(le,K,o){o.r(K);var x=o(8081),i=o.n(x),v=o(3645),g=o.n(v)()(i());g.push([le.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .picker-container{display:inline-block;box-sizing:border-box;margin-right:.25rem}.excalidraw .picker{background:var(--popup-bg-color);border:0 solid rgba(255,255,255,.25);box-shadow:rgba(0,0,0,.25) 0 1px 4px;border-radius:4px;position:absolute}.excalidraw .picker-container button,.excalidraw .picker button{position:relative;display:flex;align-items:center;justify-content:center}.excalidraw .picker-container button:focus-visible,.excalidraw .picker button:focus-visible{outline:rgba(0,0,0,0);background-color:var(--button-gray-2)}.excalidraw .picker-container button:focus-visible svg,.excalidraw .picker button:focus-visible svg{opacity:1}.excalidraw .picker-container button:hover,.excalidraw .picker button:hover{background-color:var(--button-gray-2)}.excalidraw .picker-container button:active,.excalidraw .picker button:active{background-color:var(--button-gray-3)}.excalidraw .picker-container button:disabled,.excalidraw .picker button:disabled{cursor:not-allowed}.excalidraw .picker-container button svg,.excalidraw .picker button svg{margin:0;width:36px;height:18px;opacity:.6;pointer-events:none}.excalidraw .picker button{padding:.25rem .28rem .35rem .25rem}.excalidraw .picker-triangle{width:0;height:0;position:relative;top:-10px;z-index:10}:root[dir=ltr] .excalidraw .picker-triangle{left:12px}:root[dir=rtl] .excalidraw .picker-triangle{right:12px}.excalidraw .picker-triangle:before{content:"";position:absolute;border-style:solid;border-width:0 9px 10px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,.1);top:-1px}.excalidraw .picker-triangle:after{content:"";position:absolute;border-style:solid;border-width:0 9px 10px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) var(--popup-bg-color)}.excalidraw .picker-content{padding:.5rem;display:grid;grid-template-columns:repeat(3, auto);grid-gap:.5rem;border-radius:4px}:root[dir=rtl] .excalidraw .picker-content{padding:.4rem}.excalidraw .picker-keybinding{position:absolute;bottom:2px;font-size:.7em;color:var(--keybinding-color)}:root[dir=ltr] .excalidraw .picker-keybinding{right:2px}:root[dir=rtl] .excalidraw .picker-keybinding{left:2px}.excalidraw--mobile.excalidraw .picker-keybinding{display:none}.excalidraw .picker-type-canvasBackground .picker-keybinding{color:#aaa}.excalidraw .picker-type-elementBackground .picker-keybinding{color:#fff}.excalidraw .picker-swatch[aria-label=transparent] .picker-keybinding{color:#aaa}.excalidraw .picker-type-elementStroke .picker-keybinding{color:#d4d4d4}.excalidraw.theme--dark .picker-type-elementBackground .picker-keybinding{color:#000}.excalidraw.theme--dark .picker-swatch[aria-label=transparent] .picker-keybinding{color:#000}',""]),K.default=g},7369:function(le,K,o){o.r(K);var x=o(8081),i=o.n(x),v=o(3645),g=o.n(v)()(i());g.push([le.id,".excalidraw .Island{--padding: 0;background-color:var(--island-bg-color);box-shadow:var(--shadow-island);border-radius:var(--border-radius-lg);padding:calc(var(--padding)*var(--space-factor));position:relative;transition:box-shadow .5s ease-in-out}.excalidraw .Island.zen-mode{box-shadow:none}",""]),K.default=g},1434:function(le,K,o){o.r(K);var x=o(8081),i=o.n(x),v=o(3645),g=o.n(v)()(i());g.push([le.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.layer-ui__sidebar{position:absolute;top:var(--sat);bottom:var(--sab);right:var(--sar);z-index:5;box-shadow:var(--shadow-island);overflow:hidden;border-radius:var(--border-radius-lg);margin:var(--space-factor);width:calc(302px - var(--space-factor) * 2)}.layer-ui__sidebar .Island{box-shadow:none}.layer-ui__sidebar .ToolIcon__icon{border-radius:var(--border-radius-md)}.layer-ui__sidebar .ToolIcon__icon__close .Modal__close{width:calc(var(--space-factor)*7);height:calc(var(--space-factor)*7);display:flex;justify-content:center;align-items:center;color:var(--color-text)}.layer-ui__sidebar .Island{--padding: 0;background-color:var(--island-bg-color);border-radius:var(--border-radius-lg);padding:calc(var(--padding)*var(--space-factor));position:relative;transition:box-shadow .5s ease-in-out}.excalidraw .layer-ui__wrapper.animate{transition:width .1s ease-in-out}.excalidraw .layer-ui__wrapper{position:absolute;width:100%;height:100%;pointer-events:none;z-index:var(--zIndex-layerUI)}.excalidraw .layer-ui__wrapper__top-right{display:flex}.excalidraw .layer-ui__wrapper__footer{width:100%}.excalidraw .layer-ui__wrapper__footer-right{z-index:100;display:flex}.excalidraw .layer-ui__wrapper .zen-mode-transition{transition:-webkit-transform .5s ease-in-out;transition:transform .5s ease-in-out;transition:transform .5s ease-in-out, -webkit-transform .5s ease-in-out}:root[dir=ltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-left{-webkit-transform:translate(-999px, 0);transform:translate(-999px, 0)}:root[dir=ltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-right{-webkit-transform:translate(999px, 0);transform:translate(999px, 0)}:root[dir=rtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-left{-webkit-transform:translate(999px, 0);transform:translate(999px, 0)}:root[dir=rtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-right{-webkit-transform:translate(-999px, 0);transform:translate(-999px, 0)}:root[dir=ltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.layer-ui__wrapper__footer-left--transition-left{-webkit-transform:translate(-76px, 0);transform:translate(-76px, 0)}:root[dir=rtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.layer-ui__wrapper__footer-left--transition-left{-webkit-transform:translate(76px, 0);transform:translate(76px, 0)}.excalidraw .layer-ui__wrapper .zen-mode-transition.layer-ui__wrapper__footer-left--transition-bottom{-webkit-transform:translate(0, 92px);transform:translate(0, 92px)}.excalidraw .layer-ui__wrapper .disable-zen-mode{height:30px;position:absolute;bottom:10px;font-size:10px;padding:10px;font-weight:500;opacity:0;visibility:hidden;transition:visibility 0s linear 0s,opacity .5s}[dir=ltr] .excalidraw .layer-ui__wrapper .disable-zen-mode{right:15px}[dir=rtl] .excalidraw .layer-ui__wrapper .disable-zen-mode{left:15px}.excalidraw .layer-ui__wrapper .disable-zen-mode--visible{opacity:1;visibility:visible;transition:visibility 0s linear 300ms,opacity .5s;transition-delay:.8s}.excalidraw .layer-ui__wrapper .layer-ui__wrapper__footer-center{pointer-events:none}.excalidraw .layer-ui__wrapper .layer-ui__wrapper__footer-center>*{pointer-events:all}.excalidraw .layer-ui__wrapper .layer-ui__wrapper__footer-left,.excalidraw .layer-ui__wrapper .layer-ui__wrapper__footer-right,.excalidraw .layer-ui__wrapper .disable-zen-mode--visible{pointer-events:all}.excalidraw .layer-ui__wrapper .layer-ui__wrapper__footer-left{margin-bottom:.2em}.excalidraw .layer-ui__wrapper .layer-ui__wrapper__footer-right{margin-top:auto;margin-bottom:auto;-webkit-margin-end:1em;margin-inline-end:1em}",""]),K.default=g},8923:function(le,K,o){o.r(K);var x=o(8081),i=o.n(x),v=o(3645),g=o.n(v)()(i());g.push([le.id,".excalidraw .layer-ui__library{display:flex;align-items:center;justify-content:center}.excalidraw .layer-ui__library .layer-ui__library-header{display:flex;align-items:center;width:100%;margin:2px 0 15px 0}.excalidraw .layer-ui__library .layer-ui__library-header .Spinner{margin-right:1rem}.excalidraw .layer-ui__library .layer-ui__library-header button{margin:0 2px}.excalidraw .layer-ui__sidebar .layer-ui__library{padding:0;height:100%}.excalidraw .layer-ui__sidebar .library-menu-items-container{height:100%;width:100%}.excalidraw .layer-ui__library-message{padding:2em 4em;min-width:200px;display:flex;flex-direction:column;align-items:center}.excalidraw .layer-ui__library-message .Spinner{margin-bottom:1em}.excalidraw .layer-ui__library-message span{font-size:.8em}.excalidraw .publish-library-success .Dialog__content{display:flex;flex-direction:column}.excalidraw .publish-library-success-close.ToolIcon_type_button{background-color:#228be6;align-self:flex-end}.excalidraw .publish-library-success-close.ToolIcon_type_button:hover{background-color:#1971c2}.excalidraw .publish-library-success-close.ToolIcon_type_button .ToolIcon__icon{width:auto;font-size:1rem;color:#fff;padding:0 .5rem}.excalidraw .library-menu-browse-button{width:80%;min-height:22px;margin:0 auto;margin-top:1rem;padding:10px;display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative;border-radius:var(--border-radius-lg);background-color:var(--color-primary);color:#fff;text-align:center;white-space:nowrap;text-decoration:none !important}.excalidraw .library-menu-browse-button:hover{background-color:var(--color-primary-darker)}.excalidraw .library-menu-browse-button:active{background-color:var(--color-primary-darkest)}.excalidraw .library-menu-browse-button--mobile{min-height:22px;margin-left:auto}.excalidraw .library-menu-browse-button--mobile a{padding-right:0}",""]),K.default=g},6440:function(le,K,o){o.r(K);var x=o(8081),i=o.n(x),v=o(3645),g=o.n(v)()(i());g.push([le.id,".excalidraw .library-menu-items-container{display:flex;flex-direction:column;height:100%;padding:.5rem;box-sizing:border-box}.excalidraw .library-menu-items-container .library-actions{width:100%;display:flex;margin-right:auto;align-items:center}.excalidraw .library-menu-items-container .library-actions button .library-actions-counter{position:absolute;right:2px;bottom:2px;border-radius:50%;width:1em;height:1em;padding:1px;font-size:.7rem;background:#fff}.excalidraw .library-menu-items-container .library-actions--remove{background-color:#f03e3e}.excalidraw .library-menu-items-container .library-actions--remove:hover{background-color:#e03131}.excalidraw .library-menu-items-container .library-actions--remove:active{background-color:#c92a2a}.excalidraw .library-menu-items-container .library-actions--remove svg{color:#fff}.excalidraw .library-menu-items-container .library-actions--remove .library-actions-counter{color:#f03e3e}.excalidraw .library-menu-items-container .library-actions--export{background-color:#94d82d}.excalidraw .library-menu-items-container .library-actions--export:hover{background-color:#74b816}.excalidraw .library-menu-items-container .library-actions--export:active{background-color:#66a80f}.excalidraw .library-menu-items-container .library-actions--export svg{color:#fff}.excalidraw .library-menu-items-container .library-actions--export .library-actions-counter{color:#94d82d}.excalidraw .library-menu-items-container .library-actions--publish{background-color:#15aabf}.excalidraw .library-menu-items-container .library-actions--publish:hover{background-color:#1098ad}.excalidraw .library-menu-items-container .library-actions--publish:active{background-color:#0b7285}.excalidraw .library-menu-items-container .library-actions--publish svg{color:#fff}.excalidraw .library-menu-items-container .library-actions--publish label{margin-left:-0.2em;margin-right:1.1em;color:#fff;font-size:.86em}.excalidraw .library-menu-items-container .library-actions--publish .library-actions-counter{color:#15aabf}.excalidraw .library-menu-items-container .library-actions--load{background-color:#228be6}.excalidraw .library-menu-items-container .library-actions--load:hover{background-color:#1c7ed6}.excalidraw .library-menu-items-container .library-actions--load:active{background-color:#1864ab}.excalidraw .library-menu-items-container .library-actions--load svg{color:#fff}.excalidraw .library-menu-items-container__items{flex:1;overflow-y:auto;overflow-x:hidden;margin-bottom:1rem}.excalidraw .library-menu-items-container .separator{width:100%;display:flex;align-items:center;font-weight:500;font-size:.9rem;margin:.6em .2em;color:var(--text-primary-color)}",""]),K.default=g},5644:function(le,K,o){o.r(K);var x=o(8081),i=o.n(x),v=o(3645),g=o.n(v)()(i());g.push([le.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .library-unit{align-items:center;border:1px solid rgba(0,0,0,0);display:flex;justify-content:center;position:relative;width:63px;height:63px}.excalidraw .library-unit--hover{box-shadow:inset 0px 0px 0px 2px #339af0;border-color:#339af0}.excalidraw .library-unit--selected{box-shadow:inset 0px 0px 0px 2px #1971c2;border-color:#1971c2}.excalidraw .library-unit__dragger{display:flex;align-items:center;justify-content:center;height:100%;width:100%}.excalidraw .library-unit__dragger>svg{-webkit-filter:var(--theme-filter);filter:var(--theme-filter);flex-grow:1;max-height:100%;max-width:100%}.excalidraw .library-unit__checkbox-container,.excalidraw .library-unit__checkbox-container:hover,.excalidraw .library-unit__checkbox-container:active{align-items:center;background:none;border:none;color:var(--icon-fill-color);display:flex;justify-content:center;margin:0;padding:.5rem;position:absolute;left:2rem;bottom:2rem;cursor:pointer}.excalidraw .library-unit__checkbox-container input,.excalidraw .library-unit__checkbox-container:hover input,.excalidraw .library-unit__checkbox-container:active input{cursor:pointer}.excalidraw .library-unit__checkbox{position:absolute;left:2.3rem;bottom:2.3rem}.excalidraw .library-unit__checkbox .Checkbox-box{width:13px;height:13px;border-radius:2px;margin:.5em .5em .2em .2em;background-color:#d0ebff}.excalidraw .library-unit__checkbox.Checkbox:hover .Checkbox-box{background-color:#a5d8ff}.excalidraw .library-unit__removeFromLibrary>svg{height:16px;width:16px}.excalidraw .library-unit__adder{-webkit-transform:scale(1);transform:scale(1);-webkit-animation:library-unit__adder-animation 1s ease-in infinite;animation:library-unit__adder-animation 1s ease-in infinite}.excalidraw .library-unit__adder{position:absolute;left:40%;top:40%;width:2rem;height:2rem;margin-left:-10px;margin-top:-10px;pointer-events:none}.excalidraw .library-unit:hover .library-unit__adder{fill:#1c7ed6}.excalidraw .library-unit:active .library-unit__adder{-webkit-animation:none;animation:none;-webkit-transform:scale(0.8);transform:scale(0.8);fill:#000}.excalidraw .library-unit__active{cursor:pointer}@-webkit-keyframes library-unit__adder-animation{0%{-webkit-transform:scale(0.85);transform:scale(0.85)}50%{-webkit-transform:scale(1);transform:scale(1)}100%{-webkit-transform:scale(0.85);transform:scale(0.85)}}@keyframes library-unit__adder-animation{0%{-webkit-transform:scale(0.85);transform:scale(0.85)}50%{-webkit-transform:scale(1);transform:scale(1)}100%{-webkit-transform:scale(0.85);transform:scale(0.85)}}",""]),K.default=g},6843:function(le,K,o){o.r(K);var x=o(8081),i=o.n(x),v=o(3645),g=o.n(v)()(i());g.push([le.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw.excalidraw-modal-container{position:absolute;z-index:10}.excalidraw .Modal{position:absolute;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center;overflow:auto;padding:calc(var(--space-factor)*10)}.excalidraw .Modal__background{position:absolute;top:0;left:0;right:0;bottom:0;z-index:1;background-color:rgba(0,0,0,.7)}.excalidraw .Modal__content{position:relative;z-index:2;width:100%;max-width:var(--max-width);max-height:100%;opacity:0;-webkit-transform:translateY(10px);transform:translateY(10px);-webkit-animation:Modal__content_fade-in .1s ease-out .05s forwards;animation:Modal__content_fade-in .1s ease-out .05s forwards;position:relative;overflow-y:auto;background:var(--island-bg-color);border:1px solid var(--dialog-border-color);box-shadow:0 2px 10px rgba(0,0,0,.25);border-radius:6px;box-sizing:border-box}.excalidraw .Modal__content:focus{outline:none}.excalidraw--mobile.excalidraw .Modal__content{max-width:100%;border:0;border-radius:0}@-webkit-keyframes Modal__content_fade-in{from{opacity:0;-webkit-transform:translateY(10px);transform:translateY(10px)}to{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes Modal__content_fade-in{from{opacity:0;-webkit-transform:translateY(10px);transform:translateY(10px)}to{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}}.excalidraw .Modal__close{width:calc(var(--space-factor)*7);height:calc(var(--space-factor)*7);display:flex;align-items:center;justify-content:center}.excalidraw .Modal__close svg{height:calc(var(--space-factor)*5)}.excalidraw--mobile.excalidraw .Modal{padding:0}.excalidraw--mobile.excalidraw .Modal__content{position:absolute;top:0;left:0;right:0;bottom:0}",""]),K.default=g},8461:function(le,K,o){o.r(K);var x=o(8081),i=o.n(x),v=o(3645),g=o.n(v)()(i());g.push([le.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw--mobile.excalidraw .PasteChartDialog .Island{display:flex;flex-direction:column}.excalidraw .PasteChartDialog .container{display:flex;align-items:center;justify-content:space-around;flex-wrap:wrap}.excalidraw--mobile.excalidraw .PasteChartDialog .container{flex-direction:column;justify-content:center}.excalidraw .PasteChartDialog .ChartPreview{margin:8px;text-align:center;width:192px;height:128px;border-radius:2px;padding:1px;border:1px solid #ced4da;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,0)}.excalidraw .PasteChartDialog .ChartPreview div{display:inline-block}.excalidraw .PasteChartDialog .ChartPreview svg{max-height:120px;max-width:186px}.excalidraw .PasteChartDialog .ChartPreview:hover{padding:0;border:2px solid #339af0}",""]),K.default=g},9935:function(le,K,o){o.r(K);var x=o(8081),i=o.n(x),v=o(3645),g=o.n(v)()(i());g.push([le.id,".excalidraw .popover{position:absolute;z-index:10}",""]),K.default=g},532:function(le,K,o){o.r(K);var x=o(8081),i=o.n(x),v=o(3645),g=o.n(v)()(i());g.push([le.id,".ProjectName{margin:auto;display:flex;align-items:center}.ProjectName .TextInput{height:calc(1rem - 3px);width:200px;overflow:hidden;text-align:center;margin-left:8px;text-overflow:ellipsis}.ProjectName .TextInput--readonly{background:none;border:none;width:auto;max-width:200px;padding-left:2px}.ProjectName .TextInput--readonly:hover{background:none}",""]),K.default=g},7589:function(le,K,o){o.r(K);var x=o(8081),i=o.n(x),v=o(3645),g=o.n(v)()(i());g.push([le.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .publish-library__fields{display:flex;flex-direction:column}.excalidraw .publish-library__fields label{padding:1em;display:flex;justify-content:space-between;align-items:center}.excalidraw .publish-library__fields label span{font-weight:500;font-size:1rem;color:#868e96}.excalidraw .publish-library__fields label input,.excalidraw .publish-library__fields label textarea{width:70%;padding:.6em;font-family:var(--ui-font)}.excalidraw .publish-library__fields label .required{color:#e03131;margin:.2rem}.excalidraw .publish-library__buttons{display:flex;padding:.2rem 0;justify-content:flex-end}.excalidraw .publish-library__buttons .ToolIcon__icon{min-width:2.5rem;width:auto;font-size:1rem}.excalidraw .publish-library__buttons .ToolIcon_type_button{margin-left:1rem;padding:0 .5rem}.excalidraw .publish-library__buttons--confirm.ToolIcon_type_button{background-color:#228be6}.excalidraw .publish-library__buttons--confirm.ToolIcon_type_button:hover{background-color:#1971c2}.excalidraw .publish-library__buttons--cancel.ToolIcon_type_button{background-color:#adb5bd}.excalidraw .publish-library__buttons--cancel.ToolIcon_type_button:hover{background-color:#868e96}.excalidraw .publish-library__buttons .ToolIcon__icon{color:#fff}.excalidraw .publish-library__buttons .ToolIcon__icon .Spinner{--spinner-color: #fff}.excalidraw .publish-library__buttons .ToolIcon__icon .Spinner svg{padding:.5rem}.excalidraw .publish-library .selected-library-items{display:flex;padding:0 .8rem;flex-wrap:wrap}.excalidraw .publish-library .selected-library-items .single-library-item-wrapper{width:9rem}.excalidraw .publish-library-warning{color:#fa5252}.excalidraw .publish-library-note{padding:1em;font-style:italic;font-size:14px;display:block}",""]),K.default=g},5741:function(le,K,o){o.r(K);var x=o(8081),i=o.n(x),v=o(3645),g=o.n(v)()(i());g.push([le.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .layer-ui__sidebar-lock-button{margin-right:.2rem}.excalidraw .layer-ui__sidebar-lock-button .ToolIcon_type_radio+.ToolIcon__icon:active,.excalidraw .layer-ui__sidebar-lock-button .ToolIcon_type_checkbox+.ToolIcon__icon:active{background:var(--color-primary-light)}.excalidraw .layer-ui__sidebar-lock-button .ToolIcon_type_radio:checked+.ToolIcon__icon,.excalidraw .layer-ui__sidebar-lock-button .ToolIcon_type_checkbox:checked+.ToolIcon__icon{background:var(--color-primary);--icon-fill-color: #ffffff;--keybinding-color: #ffffff}.excalidraw .layer-ui__sidebar-lock-button .ToolIcon_type_radio:checked+.ToolIcon__icon:active,.excalidraw .layer-ui__sidebar-lock-button .ToolIcon_type_checkbox:checked+.ToolIcon__icon:active{background:var(--color-primary-darker)}.excalidraw .layer-ui__sidebar-lock-button .ToolIcon__keybinding{bottom:4px;right:4px}.excalidraw .ToolIcon_type_floating .side_lock_icon{width:calc(var(--space-factor)*7);height:calc(var(--space-factor)*7)}.excalidraw .ToolIcon_type_floating .side_lock_icon svg{-webkit-transform:scale(-1, 1);transform:scale(-1, 1)}.excalidraw .ToolIcon_type_checkbox:not(.ToolIcon_toggle_opaque):checked+.side_lock_icon{background-color:var(--color-primary)}",""]),K.default=g},8465:function(le,K,o){o.r(K);var x=o(8081),i=o.n(x),v=o(3645),g=o.n(v)()(i());g.push([le.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .single-library-item{position:relative}.excalidraw .single-library-item-status{position:absolute;top:.3rem;left:.3rem;font-size:.7rem;color:#f03e3e;background:rgba(255,255,255,.9);padding:.1rem .2rem;border-radius:.2rem}.excalidraw .single-library-item__svg{background-color:#fff;padding:.3rem;width:7.5rem;height:7.5rem;border:1px solid var(--button-gray-2)}.excalidraw .single-library-item__svg svg{width:100%;height:100%}.excalidraw .single-library-item .ToolIcon__icon{background-color:#fff;width:auto;height:auto;margin:0 .5rem}.excalidraw .single-library-item .ToolIcon,.excalidraw .single-library-item .ToolIcon_type_button:hover{background-color:#fff}.excalidraw .single-library-item .required,.excalidraw .single-library-item .error{color:#e03131;font-weight:bold;font-size:1rem;margin:.2rem}.excalidraw .single-library-item .error{font-weight:500;margin:0;padding:.3em 0}.excalidraw .single-library-item--remove{position:absolute;top:.2rem;right:1rem}.excalidraw .single-library-item--remove .ToolIcon__icon{margin:0}.excalidraw .single-library-item--remove .ToolIcon__icon{background-color:#fa5252}.excalidraw .single-library-item--remove .ToolIcon__icon:hover{background-color:#f03e3e}.excalidraw .single-library-item--remove .ToolIcon__icon:active{background-color:#e03131}.excalidraw .single-library-item--remove svg{color:#fff;padding:.26rem;border-radius:.3em;width:1rem;height:1rem}",""]),K.default=g},5892:function(le,K,o){o.r(K);var x=o(8081),i=o.n(x),v=o(3645),g=o.n(v)()(i());g.push([le.id,".excalidraw .Spinner{display:flex;align-items:center;justify-content:center;height:100%;margin-left:auto;margin-right:auto;--spinner-color: var(--icon-fill-color)}.excalidraw .Spinner svg{-webkit-animation:rotate 1.6s linear infinite;animation:rotate 1.6s linear infinite;-webkit-transform-origin:center center;transform-origin:center center}.excalidraw .Spinner circle{stroke:var(--spinner-color);-webkit-animation:dash 1.6s linear 0s infinite;animation:dash 1.6s linear 0s infinite;stroke-linecap:round}@-webkit-keyframes rotate{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes rotate{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes dash{0%{stroke-dasharray:1,300;stroke-dashoffset:0}50%{stroke-dasharray:150,300;stroke-dashoffset:-200}100%{stroke-dasharray:1,300;stroke-dashoffset:-280}}@keyframes dash{0%{stroke-dasharray:1,300;stroke-dashoffset:0}50%{stroke-dasharray:150,300;stroke-dashoffset:-200}100%{stroke-dasharray:1,300;stroke-dashoffset:-280}}",""]),K.default=g},3874:function(le,K,o){o.r(K);var x=o(8081),i=o.n(x),v=o(3645),g=o.n(v)()(i());g.push([le.id,".excalidraw .Stack{--gap: 0;display:grid;gap:calc(var(--space-factor)*var(--gap))}.excalidraw .Stack_vertical{grid-template-columns:auto;grid-auto-flow:row;grid-auto-rows:-webkit-min-content;grid-auto-rows:min-content}.excalidraw .Stack_horizontal{grid-template-rows:auto;grid-auto-flow:column;grid-auto-columns:-webkit-min-content;grid-auto-columns:min-content}",""]),K.default=g},2681:function(le,K,o){o.r(K);var x=o(8081),i=o.n(x),v=o(3645),g=o.n(v)()(i());g.push([le.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Stats{position:absolute;top:64px;right:12px;font-size:12px;z-index:10;pointer-events:all}.excalidraw .Stats h3{margin:0 24px 8px 0;white-space:nowrap}.excalidraw .Stats .close{float:right;height:16px;width:16px;cursor:pointer}.excalidraw .Stats .close svg{width:100%;height:100%}.excalidraw .Stats table{width:100%}.excalidraw .Stats table th{border-bottom:1px solid var(--input-border-color);padding:4px}.excalidraw .Stats table tr td:nth-child(2){min-width:24px;text-align:right}:root[dir=rtl] .excalidraw .Stats{left:12px;right:initial}:root[dir=rtl] .excalidraw .Stats h3{margin:0 0 8px 24px}:root[dir=rtl] .excalidraw .Stats .close{float:left}",""]),K.default=g},6759:function(le,K,o){o.r(K);var x=o(8081),i=o.n(x),v=o(3645),g=o.n(v)()(i());g.push([le.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .TextInput{display:inline-block}",""]),K.default=g},9650:function(le,K,o){o.r(K);var x=o(8081),i=o.n(x),v=o(3645),g=o.n(v)()(i());g.push([le.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Toast{-webkit-animation:fade-in .5s;animation:fade-in .5s;background-color:var(--button-gray-1);border-radius:4px;bottom:10px;box-sizing:border-box;cursor:default;left:50%;margin-left:-150px;padding:4px 0;position:absolute;text-align:center;width:300px;z-index:999999}.excalidraw .Toast .Toast__message{padding:0 1.6rem;color:var(--popup-text-color);white-space:pre-wrap}.excalidraw .Toast .close{position:absolute;top:0;right:0;padding:.4rem}.excalidraw .Toast .close .ToolIcon__icon{width:1.2rem;height:1.2rem}@-webkit-keyframes fade-in{from{opacity:0}to{opacity:1}}@keyframes fade-in{from{opacity:0}to{opacity:1}}",""]),K.default=g},2044:function(le,K,o){o.r(K);var x=o(8081),i=o.n(x),v=o(3645),g=o.n(v)()(i());g.push([le.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .ToolIcon{display:inline-flex;align-items:center;position:relative;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-user-select:none;user-select:none}.excalidraw .ToolIcon--plain{background-color:rgba(0,0,0,0)}.excalidraw .ToolIcon--plain .ToolIcon__icon{width:2rem;height:2rem}.excalidraw .ToolIcon_type_radio+.ToolIcon__icon,.excalidraw .ToolIcon_type_checkbox+.ToolIcon__icon{background-color:var(--button-gray-1)}.excalidraw .ToolIcon_type_radio+.ToolIcon__icon:hover,.excalidraw .ToolIcon_type_checkbox+.ToolIcon__icon:hover{background-color:var(--button-gray-2)}.excalidraw .ToolIcon_type_radio+.ToolIcon__icon:active,.excalidraw .ToolIcon_type_checkbox+.ToolIcon__icon:active{background-color:var(--button-gray-3)}.excalidraw .ToolIcon__icon{width:2.5rem;height:2.5rem;color:var(--icon-fill-color);display:flex;justify-content:center;align-items:center;border-radius:var(--border-radius-lg)}.excalidraw .ToolIcon__icon+.ToolIcon__label{-webkit-margin-start:0;margin-inline-start:0}.excalidraw .ToolIcon__icon svg{position:relative;height:1em;fill:var(--icon-fill-color);color:var(--icon-fill-color)}.excalidraw .ToolIcon__label{display:flex;align-items:center;color:var(--icon-fill-color);font-family:var(--ui-font);margin:0 .8em;text-overflow:ellipsis}.excalidraw .ToolIcon__label .Spinner{margin-left:.6em}.excalidraw .ToolIcon_size_small .ToolIcon__icon{width:2rem;height:2rem;font-size:.8em}.excalidraw .excalidraw .ToolIcon_type_button,.excalidraw .Modal .ToolIcon_type_button,.excalidraw .ToolIcon_type_button{padding:0;border:none;margin:0;font-size:inherit}.excalidraw .excalidraw .ToolIcon_type_button:focus-visible,.excalidraw .Modal .ToolIcon_type_button:focus-visible,.excalidraw .ToolIcon_type_button:focus-visible{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .excalidraw .ToolIcon_type_button.ToolIcon--selected,.excalidraw .Modal .ToolIcon_type_button.ToolIcon--selected,.excalidraw .ToolIcon_type_button.ToolIcon--selected{background-color:var(--button-gray-2)}.excalidraw .excalidraw .ToolIcon_type_button.ToolIcon--selected:active,.excalidraw .Modal .ToolIcon_type_button.ToolIcon--selected:active,.excalidraw .ToolIcon_type_button.ToolIcon--selected:active{background-color:var(--button-gray-3)}.excalidraw .excalidraw .ToolIcon_type_button:hover,.excalidraw .Modal .ToolIcon_type_button:hover,.excalidraw .ToolIcon_type_button:hover{background-color:var(--button-gray-2)}.excalidraw .excalidraw .ToolIcon_type_button:active,.excalidraw .Modal .ToolIcon_type_button:active,.excalidraw .ToolIcon_type_button:active{background-color:var(--button-gray-3)}.excalidraw .excalidraw .ToolIcon_type_button--show,.excalidraw .Modal .ToolIcon_type_button--show,.excalidraw .ToolIcon_type_button--show{visibility:visible}.excalidraw .excalidraw .ToolIcon_type_button--hide,.excalidraw .Modal .ToolIcon_type_button--hide,.excalidraw .ToolIcon_type_button--hide{visibility:hidden}.excalidraw .ToolIcon_type_radio,.excalidraw .ToolIcon_type_checkbox{position:absolute;opacity:0;pointer-events:none}.excalidraw .ToolIcon_type_radio:not(.ToolIcon_toggle_opaque):checked+.ToolIcon__icon,.excalidraw .ToolIcon_type_checkbox:not(.ToolIcon_toggle_opaque):checked+.ToolIcon__icon{background-color:var(--button-gray-2)}.excalidraw .ToolIcon_type_radio:not(.ToolIcon_toggle_opaque):checked+.ToolIcon__icon:active,.excalidraw .ToolIcon_type_checkbox:not(.ToolIcon_toggle_opaque):checked+.ToolIcon__icon:active{background-color:var(--button-gray-3)}.excalidraw .ToolIcon_type_radio:focus-visible+.ToolIcon__icon,.excalidraw .ToolIcon_type_checkbox:focus-visible+.ToolIcon__icon{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .ToolIcon_type_radio:active+.ToolIcon__icon,.excalidraw .ToolIcon_type_checkbox:active+.ToolIcon__icon{background-color:var(--button-gray-3)}.excalidraw .ToolIcon_type_floating{background-color:rgba(0,0,0,0)}.excalidraw .ToolIcon_type_floating:hover{background-color:rgba(0,0,0,0)}.excalidraw .ToolIcon_type_floating:active{background-color:rgba(0,0,0,0)}.excalidraw .ToolIcon_type_floating .ToolIcon__icon{background-color:var(--button-gray-1);width:2rem;height:2rem}.excalidraw .ToolIcon_type_floating .ToolIcon__icon:hover{background-color:var(--button-gray-2)}.excalidraw .ToolIcon_type_floating .ToolIcon__icon:active{background-color:var(--button-gray-3)}.excalidraw .ToolIcon__keybinding{position:absolute;bottom:2px;right:3px;font-size:.5em;color:var(--keybinding-color);font-family:var(--ui-font);-webkit-user-select:none;user-select:none}@media(max-width: 425px){.excalidraw .Shape .ToolIcon__icon{width:2rem;height:2rem}.excalidraw .Shape .ToolIcon__icon svg{height:.8em}}@media(max-width: 760px){.excalidraw .ToolIcon.ToolIcon_type_floating{display:inline-block;position:absolute;right:-8px;margin-left:0;border-radius:20px 0 0 20px;z-index:1;background-color:var(--button-gray-1)}.excalidraw .ToolIcon.ToolIcon_type_floating:hover{background-color:var(--button-gray-1)}.excalidraw .ToolIcon.ToolIcon_type_floating:active{background-color:var(--button-gray-2)}.excalidraw .ToolIcon.ToolIcon_type_floating .ToolIcon__icon{border-radius:inherit}.excalidraw .ToolIcon.ToolIcon_type_floating svg{position:static}.excalidraw .ToolIcon.ToolIcon__library{top:100px}.excalidraw .ToolIcon.ToolIcon__lock{-webkit-margin-end:0;margin-inline-end:0;top:60px}.excalidraw .ToolIcon.ToolIcon__penMode{-webkit-margin-end:0;margin-inline-end:0;top:140px}}:root[dir=ltr] .excalidraw .unlocked-icon{left:2px}:root[dir=rtl] .excalidraw .unlocked-icon{right:2px}",""]),K.default=g},9144:function(le,K,o){o.r(K);var x=o(8081),i=o.n(x),v=o(3645),g=o.n(v)()(i());g.push([le.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .App-toolbar-container .ToolIcon_type_floating .ToolIcon_type_radio+.ToolIcon__icon:active,.excalidraw .App-toolbar-container .ToolIcon_type_floating .ToolIcon_type_checkbox+.ToolIcon__icon:active{background:var(--color-primary-light)}.excalidraw .App-toolbar-container .ToolIcon_type_floating .ToolIcon_type_radio:checked+.ToolIcon__icon,.excalidraw .App-toolbar-container .ToolIcon_type_floating .ToolIcon_type_checkbox:checked+.ToolIcon__icon{background:var(--color-primary);--icon-fill-color: #ffffff;--keybinding-color: #ffffff}.excalidraw .App-toolbar-container .ToolIcon_type_floating .ToolIcon_type_radio:checked+.ToolIcon__icon:active,.excalidraw .App-toolbar-container .ToolIcon_type_floating .ToolIcon_type_checkbox:checked+.ToolIcon__icon:active{background:var(--color-primary-darker)}.excalidraw .App-toolbar-container .ToolIcon_type_floating .ToolIcon__keybinding{bottom:4px;right:4px}.excalidraw .App-toolbar-container .ToolIcon_type_floating:not(.is-mobile) .ToolIcon__icon{padding:1px;background-color:var(--island-bg-color);box-shadow:1px 3px 4px 0px rgba(0,0,0,.15);border-radius:50%;transition:box-shadow .5s ease,-webkit-transform .5s ease;transition:box-shadow .5s ease,transform .5s ease;transition:box-shadow .5s ease,transform .5s ease,-webkit-transform .5s ease}.excalidraw .App-toolbar-container .ToolIcon_type_floating .ToolIcon_type_radio:focus-within+.ToolIcon__icon,.excalidraw .App-toolbar-container .ToolIcon_type_floating .ToolIcon_type_checkbox:focus-within+.ToolIcon__icon{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .App-toolbar-container .ToolIcon__hidden{box-shadow:none !important;background-color:rgba(0,0,0,0) !important;pointer-events:none !important}.excalidraw .App-toolbar-container .ToolIcon.ToolIcon__lock{-webkit-margin-end:var(--space-factor);margin-inline-end:var(--space-factor)}.excalidraw .App-toolbar-container .ToolIcon.ToolIcon__lock.ToolIcon_type_floating{margin-left:.1rem}.excalidraw .App-toolbar-container .ToolIcon__library{-webkit-margin-start:var(--space-factor);margin-inline-start:var(--space-factor)}.excalidraw .App-toolbar-container.zen-mode .ToolIcon_type_floating .ToolIcon__icon{box-shadow:none;-webkit-transform:scale(0.9);transform:scale(0.9)}.excalidraw .App-toolbar-container.zen-mode .ToolIcon_type_floating .ToolIcon_type_checkbox:not(:checked):not(:hover):not(:active)+.ToolIcon__icon svg{fill:#adb5bd;color:#adb5bd}.excalidraw .App-toolbar{border-radius:var(--border-radius-lg);box-shadow:0 0 0 1px rgba(0,0,0,.01),1px 1px 5px rgba(0,0,0,.15)}.excalidraw .App-toolbar .ToolIcon:hover{--icon-fill-color: var( --color-primary-contrast-offset, var(--color-primary) );--keybinding-color: var( --color-primary-contrast-offset, var(--color-primary) )}.excalidraw .App-toolbar .ToolIcon:active{--icon-fill-color: #212529;--keybinding-color: #212529}.excalidraw .App-toolbar .ToolIcon .ToolIcon__icon{background:rgba(0,0,0,0);border-radius:var(--border-radius-lg)}.excalidraw .App-toolbar .ToolIcon .ToolIcon_type_radio+.ToolIcon__icon:active,.excalidraw .App-toolbar .ToolIcon .ToolIcon_type_checkbox+.ToolIcon__icon:active{background:var(--color-primary-light)}.excalidraw .App-toolbar .ToolIcon .ToolIcon_type_radio:checked+.ToolIcon__icon,.excalidraw .App-toolbar .ToolIcon .ToolIcon_type_checkbox:checked+.ToolIcon__icon{background:var(--color-primary);--icon-fill-color: #ffffff;--keybinding-color: #ffffff}.excalidraw .App-toolbar .ToolIcon .ToolIcon_type_radio:checked+.ToolIcon__icon:active,.excalidraw .App-toolbar .ToolIcon .ToolIcon_type_checkbox:checked+.ToolIcon__icon:active{background:var(--color-primary-darker)}.excalidraw .App-toolbar .ToolIcon .ToolIcon__keybinding{bottom:4px;right:4px}.excalidraw .App-toolbar.zen-mode .ToolIcon__keybinding,.excalidraw .App-toolbar.zen-mode .HintViewer{display:none}.excalidraw.theme--dark .App-toolbar .ToolIcon:active{--icon-fill-color: #dee2e6;--keybinding-color: #dee2e6}",""]),K.default=g},6626:function(le,K,o){o.r(K);var x=o(8081),i=o.n(x),v=o(3645),g=o.n(v)()(i());g.push([le.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw-tooltip{position:fixed;z-index:1000;padding:8px;border-radius:6px;box-sizing:border-box;pointer-events:none;word-wrap:break-word;background:#000;line-height:1.5;text-align:center;font-size:13px;font-weight:500;color:#fff;display:none}.excalidraw-tooltip.excalidraw-tooltip--visible{display:block}.excalidraw-tooltip-wrapper{display:flex}.excalidraw-tooltip-icon{width:.9em;height:.9em;margin-left:5px;margin-top:1px;display:flex}.excalidraw--mobile.excalidraw-tooltip-icon{display:none}",""]),K.default=g},6359:function(le,K,o){o.r(K);var x=o(8081),i=o.n(x),v=o(3645),g=o.n(v)()(i());g.push([le.id,".excalidraw .UserList{pointer-events:none;padding:var(--space-factor) var(--space-factor) var(--space-factor) var(--space-factor);display:flex;flex-wrap:wrap;justify-content:flex-end}.excalidraw .UserList:empty{display:none}.excalidraw .UserList>*{pointer-events:all;margin:0 0 var(--space-factor) var(--space-factor)}.excalidraw .UserList_mobile{padding:0;justify-content:normal}.excalidraw .UserList_mobile>*{margin:0 var(--space-factor) var(--space-factor) 0}",""]),K.default=g},9915:function(le,K,o){o.r(K);var x=o(8081),i=o.n(x),v=o(3645),g=o.n(v)()(i());g.push([le.id,".visually-hidden{position:absolute !important;height:1px;width:1px;overflow:hidden;clip:rect(1px, 1px, 1px, 1px);white-space:nowrap;-webkit-user-select:none;user-select:none}.LoadingMessage{position:absolute;top:0;right:0;bottom:0;left:0;z-index:999;display:flex;flex-direction:column;align-items:center;justify-content:center;pointer-events:none}.LoadingMessage .Spinner{font-size:2.8em}.LoadingMessage .LoadingMessage-text{margin-top:1em;font-size:.8em}",""]),K.default=g},9310:function(le,K,o){o.r(K);var x=o(8081),i=o.n(x),v=o(3645),g=o.n(v),j=o(1667),y=o.n(j),V=new URL(o(7984),o.b),ie=new URL(o(1639),o.b),I=g()(i()),te=y()(V),pe=y()(ie);I.push([le.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}:export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw{--theme-filter: none;--button-destructive-bg-color: #ffe3e3;--button-destructive-color: #c92a2a;--button-gray-1: #e9ecef;--button-gray-2: #ced4da;--button-gray-3: #adb5bd;--button-special-active-bg-color: #ebfbee;--dialog-border-color: #868e96;--dropdown-icon: url("+te+");--focus-highlight-color: #a5d8ff;--icon-fill-color: #212529;--icon-green-fill-color: #2b8a3e;--default-bg-color: #ffffff;--input-bg-color: #ffffff;--input-border-color: #ced4da;--input-hover-bg-color: #f1f3f5;--input-label-color: #495057;--island-bg-color: rgba(255, 255, 255, 0.96);--keybinding-color: #adb5bd;--link-color: #1c7ed6;--overlay-bg-color: rgba(255, 255, 255, 0.88);--popup-bg-color: #ffffff;--popup-secondary-bg-color: #f1f3f5;--popup-text-color: #000000;--popup-text-inverted-color: #ffffff;--sab: env(safe-area-inset-bottom);--sal: env(safe-area-inset-left);--sar: env(safe-area-inset-right);--sat: env(safe-area-inset-top);--select-highlight-color: #339af0;--shadow-island: 0 0 0 1px rgba(0, 0, 0, 0.01), 1px 1px 5px rgb(0 0 0 / 12%);--space-factor: 0.25rem;--text-primary-color: #343a40;--color-primary: #6965db;--color-primary-darker: #5b57d1;--color-primary-darkest: #4a47b1;--color-primary-light: #e2e1fc;--border-radius-md: 0.375rem;--border-radius-lg: 0.5rem}.excalidraw.theme--dark{background:#000}.excalidraw.theme--dark.theme--dark-background-none{background:none}.excalidraw.theme--dark{--theme-filter: invert(93%) hue-rotate(180deg);--button-destructive-bg-color: #5a0000;--button-destructive-color: #ffa8a8;--button-gray-1: #363636;--button-gray-2: #272727;--button-gray-3: #222;--button-special-active-bg-color: #204624;--dialog-border-color: #212529;--dropdown-icon: url("+pe+');--focus-highlight-color: #228be6;--icon-fill-color: #ced4da;--icon-green-fill-color: #69db7c;--default-bg-color: #121212;--input-bg-color: #121212;--input-border-color: #2e2e2e;--input-hover-bg-color: #181818;--input-label-color: #e9ecef;--island-bg-color: rgba(30, 30, 30, 0.98);--keybinding-color: #868e96;--link-color: #4dabf7;--overlay-bg-color: rgba(52, 58, 64, 0.12);--popup-bg-color: #2c2c2c;--popup-secondary-bg-color: #222;--popup-text-color: #ced4da;--popup-text-inverted-color: #2c2c2c;--select-highlight-color: #4dabf7;--shadow-island: 1px 1px 5px rgba(0, 0, 0, 0.3);--text-primary-color: #ced4da;--color-primary: #5650f0;--color-primary-darker: #4b46d8;--color-primary-darkest: #3e39be;--color-primary-light: #3f3d64}:root{--zIndex-canvas: 1;--zIndex-wysiwyg: 2;--zIndex-layerUI: 3}.excalidraw{position:relative;overflow:hidden;color:var(--text-primary-color);display:flex;top:0;bottom:0;left:0;right:0;height:100%;width:100%;-webkit-user-select:none;user-select:none}.excalidraw:focus{outline:none}.excalidraw a{font-weight:500;text-decoration:none;color:var(--link-color)}.excalidraw a:hover{text-decoration:underline}.excalidraw canvas{touch-action:none;image-rendering:pixelated;image-rendering:-moz-crisp-edges;z-index:var(--zIndex-canvas)}.excalidraw__canvas{position:absolute}.excalidraw.theme--dark canvas{-webkit-filter:var(--theme-filter);filter:var(--theme-filter)}.excalidraw .FixedSideContainer{padding-top:var(--sat, 0);padding-right:var(--sar, 0);padding-bottom:var(--sab, 0);padding-left:var(--sal, 0)}.excalidraw .panelRow{display:flex;justify-content:space-between}.excalidraw .panelColumn{display:flex;flex-direction:column}.excalidraw .panelColumn h3,.excalidraw .panelColumn legend,.excalidraw .panelColumn .control-label{margin-top:.333rem;margin-bottom:.333rem;font-size:.75rem;color:var(--text-primary-color);font-weight:bold;display:block}.excalidraw .panelColumn .control-label input{display:block;width:100%}.excalidraw .panelColumn h3:first-child,.excalidraw .panelColumn legend:first-child,.excalidraw .panelColumn .control-label:first-child{margin-top:0}.excalidraw .panelColumn legend{padding:0}.excalidraw .panelColumn .iconSelectList{flex-wrap:wrap;position:relative}.excalidraw .panelColumn .buttonList{flex-wrap:wrap}.excalidraw .panelColumn .buttonList label{margin-right:.25rem;font-size:.75rem;display:inline-block}.excalidraw .panelColumn .buttonList input[type=radio],.excalidraw .panelColumn .buttonList input[type=button]{opacity:0;position:absolute;pointer-events:none}.excalidraw .panelColumn .buttonList .iconRow{margin-top:8px}.excalidraw .panelColumn .buttonList .ToolIcon{margin:0;-webkit-margin-end:8px;margin-inline-end:8px}.excalidraw .panelColumn .buttonList .ToolIcon:focus{outline:rgba(0,0,0,0);box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .panelColumn .buttonList .ToolIcon:hover{background-color:var(--button-gray-2)}.excalidraw .panelColumn .buttonList .ToolIcon:active{background-color:var(--button-gray-3)}.excalidraw .panelColumn .buttonList .ToolIcon:disabled{cursor:not-allowed}.excalidraw .panelColumn .buttonList .ToolIcon__icon{width:28px;height:28px}.excalidraw .panelColumn fieldset{margin:0;margin-top:.333rem;padding:0;border:none}.excalidraw .divider{width:1px;background-color:#e9ecef;margin:1px}.excalidraw .buttonList label:focus-within,.excalidraw input:focus-visible{outline:rgba(0,0,0,0);box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw button,.excalidraw .buttonList label{-webkit-user-select:none;user-select:none;background-color:var(--button-gray-1);border:0;border-radius:var(--border-radius-md);margin:.125rem 0;padding:.25rem;white-space:nowrap;cursor:pointer}.excalidraw button:focus-visible,.excalidraw .buttonList label:focus-visible{outline:rgba(0,0,0,0);box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw button:hover,.excalidraw .buttonList label:hover{background-color:var(--button-gray-2)}.excalidraw button:active,.excalidraw .buttonList label:active{background-color:var(--button-gray-3)}.excalidraw button:disabled,.excalidraw .buttonList label:disabled{cursor:not-allowed}.excalidraw .active,.excalidraw .buttonList label.active{background-color:var(--color-primary);--icon-fill-color: #ffffff}.excalidraw .active:hover,.excalidraw .buttonList label.active:hover{background-color:var(--color-primary-darker)}.excalidraw .active:active,.excalidraw .buttonList label.active:active{background-color:var(--color-primary-darkest)}.excalidraw .buttonList.buttonListIcon label{display:inline-flex;justify-content:center;align-items:center}.excalidraw .buttonList.buttonListIcon label svg{width:35px;height:14px;padding:2px;opacity:.6}.excalidraw .buttonList.buttonListIcon label.active svg{opacity:1}.excalidraw .App-top-bar{z-index:var(--zIndex-layerUI);display:flex;flex-direction:column;align-items:center}.excalidraw .App-bottom-bar{position:absolute;top:0;bottom:0;left:0;right:0;--bar-padding: calc(4 * var(--space-factor));padding-top:max(var(--bar-padding), var(--sat,0));padding-right:var(--sar, 0);padding-bottom:var(--sab, 0);padding-left:var(--sal, 0);z-index:4;display:flex;align-items:flex-end;pointer-events:none}.excalidraw .App-bottom-bar>.Island{width:100%;max-width:100%;min-width:100%;box-sizing:border-box;max-height:100%;display:flex;flex-direction:column;pointer-events:initial}.excalidraw .App-bottom-bar>.Island .panelColumn{padding:8px 8px 0 8px}.excalidraw .App-toolbar{width:100%;box-sizing:border-box}.excalidraw .App-toolbar .eraser.ToolIcon:hover{--icon-fill-color: #fff;--keybinding-color: #fff}.excalidraw .App-toolbar .eraser.active{background-color:var(--color-primary)}.excalidraw .App-toolbar-content{display:flex;align-items:center;justify-content:space-between;padding:8px}.excalidraw .App-mobile-menu{width:100%;overflow-x:visible;overflow-y:auto;box-sizing:border-box;margin-bottom:var(--bar-padding)}.excalidraw .App-menu{display:grid;color:var(--icon-fill-color)}.excalidraw .App-menu_top{grid-template-columns:auto -webkit-max-content auto;grid-template-columns:auto max-content auto;grid-gap:4px;align-items:flex-start;cursor:default;pointer-events:none !important}.excalidraw .layer-ui__wrapper:not(.disable-pointerEvents) .App-menu_top>*{pointer-events:all}.excalidraw .App-menu_top>*:first-child{justify-self:flex-start}.excalidraw .App-menu_top>*:last-child{justify-self:flex-end}.excalidraw .App-menu_bottom{position:absolute;bottom:0;grid-template-columns:-webkit-min-content auto -webkit-min-content;grid-template-columns:min-content auto min-content;grid-gap:15px;align-items:flex-start;cursor:default;pointer-events:none !important}:root[dir=ltr] .excalidraw .App-menu_bottom{left:.25rem}:root[dir=rtl] .excalidraw .App-menu_bottom{right:.25rem}.excalidraw .App-menu_bottom--transition-left section{width:185px}.excalidraw .App-menu_bottom section{display:flex}.excalidraw .App-menu_bottom>*:first-child{justify-self:flex-start}.excalidraw .App-menu_bottom>*:last-child{justify-self:flex-end}.excalidraw .App-menu_left{grid-template-rows:1fr auto 1fr;height:100%}.excalidraw .App-menu_right{grid-template-rows:1fr;height:100%}.excalidraw .App-menu__left{overflow-y:auto;box-shadow:var(--shadow-island)}.excalidraw .dropdown-select{height:1.5rem;padding:0;-webkit-padding-start:.5rem;padding-inline-start:.5rem;-webkit-padding-end:1.5rem;padding-inline-end:1.5rem;color:var(--icon-fill-color);background-color:var(--button-gray-1);border-radius:var(--space-factor);border:1px solid var(--button-gray-2);font-size:.8rem;outline:none;-webkit-appearance:none;appearance:none;background-image:var(--dropdown-icon);background-repeat:no-repeat;background-position:right .7rem top 50%,0 0;background-size:.65em auto,100%}:root[dir=rtl] .excalidraw .dropdown-select{background-position:left .7rem top 50%,0 0}.excalidraw .dropdown-select:focus{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .dropdown-select:hover{background-color:var(--button-gray-2)}.excalidraw .dropdown-select:active{background-color:var(--button-gray-2)}.excalidraw .zIndexButton{margin:0;-webkit-margin-end:8px;margin-inline-end:8px;padding:5px;display:inline-flex;align-items:center;justify-content:center}.excalidraw .zIndexButton svg{width:18px;height:18px}.excalidraw .scroll-back-to-content{color:var(--popup-text-color);position:absolute;left:50%;bottom:30px;-webkit-transform:translateX(-50%);transform:translateX(-50%);padding:10px 20px;pointer-events:all}.excalidraw .help-icon{display:flex;cursor:pointer;fill:#868e96;padding:0;margin:0;background:none;color:var(--icon-fill-color)}.excalidraw .help-icon svg{width:1.5rem;height:1.5rem}.excalidraw .help-icon:hover{background:none}.excalidraw .reset-zoom-button{padding:.2em;background:rgba(0,0,0,0);color:var(--text-primary-color);font-family:var(--ui-font)}.excalidraw .finalize-button{display:grid;grid-auto-flow:column;gap:.4em;margin-top:auto;margin-bottom:auto;-webkit-margin-start:.6em;margin-inline-start:.6em}.excalidraw .undo-redo-buttons,.excalidraw .eraser-buttons{display:grid;grid-auto-flow:column;gap:.4em;margin-top:auto;margin-bottom:auto;-webkit-margin-start:.6em;margin-inline-start:.6em}.excalidraw--mobile.excalidraw aside{display:none}.excalidraw--mobile.excalidraw .scroll-back-to-content{bottom:calc(80px + var(--sab, 0));z-index:-1}:root[dir=rtl] .excalidraw .rtl-mirror{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.excalidraw .zen-mode-visibility{visibility:visible;opacity:1;height:auto;width:auto;transition:opacity .5s}.excalidraw .zen-mode-visibility.zen-mode-visibility--hidden{visibility:hidden;opacity:0;height:0;width:0;transition:opacity .5s}.excalidraw .disable-pointerEvents{pointer-events:none !important}.excalidraw.excalidraw--view-mode .App-menu{display:flex;justify-content:space-between}.excalidraw input[type=text],.excalidraw textarea:not(.excalidraw-wysiwyg){color:var(--text-primary-color);border:1.5px solid var(--input-border-color);padding:.75rem;white-space:nowrap;border-radius:var(--space-factor);background-color:var(--input-bg-color)}.excalidraw input[type=text]:not(:focus):hover,.excalidraw textarea:not(.excalidraw-wysiwyg):not(:focus):hover{background-color:var(--input-hover-bg-color)}.excalidraw input[type=text]:focus,.excalidraw textarea:not(.excalidraw-wysiwyg):focus{outline:none;box-shadow:0 0 0 2px var(--focus-highlight-color)}@media print{.excalidraw .App-bottom-bar,.excalidraw .FixedSideContainer,.excalidraw .layer-ui__wrapper{display:none}}.excalidraw ::-webkit-scrollbar{width:5px}.excalidraw ::-webkit-scrollbar-thumb{background:var(--button-gray-2);border-radius:10px}.excalidraw ::-webkit-scrollbar-thumb:hover{background:var(--button-gray-3)}.excalidraw ::-webkit-scrollbar-thumb:active{background:var(--button-gray-2)}.ErrorSplash.excalidraw{min-height:100vh;padding:20px 0;overflow:auto;display:flex;align-items:center;justify-content:center;-webkit-user-select:text;user-select:text}.ErrorSplash.excalidraw .ErrorSplash-messageContainer{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px;background-color:#ffe3e3;border:3px solid #c92a2a}.ErrorSplash.excalidraw .ErrorSplash-paragraph{margin:15px 0;max-width:600px}.ErrorSplash.excalidraw .ErrorSplash-paragraph.align-center{text-align:center}.ErrorSplash.excalidraw .bigger,.ErrorSplash.excalidraw .bigger button{font-size:1.1em}.ErrorSplash.excalidraw .smaller,.ErrorSplash.excalidraw .smaller button{font-size:.9em}.ErrorSplash.excalidraw .ErrorSplash-details{display:flex;flex-direction:column;align-items:flex-start}.ErrorSplash.excalidraw .ErrorSplash-details textarea{width:100%;margin:10px 0;font-family:"Cascadia";font-size:.8em}',""]),K.default=I},6464:function(le,K,o){o.r(K);var x=o(8081),i=o.n(x),v=o(3645),g=o.n(v)()(i());g.push([le.id,"",""]),g.locals={themeFilter:"invert(93%) hue-rotate(180deg)",rightSidebarWidth:"302px"},K.default=g},5260:function(le,K,o){o.r(K);var x=o(8081),i=o.n(x),v=o(3645),g=o.n(v)()(i());g.push([le.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw-hyperlinkContainer{display:flex;align-items:center;justify-content:space-between;position:absolute;box-shadow:0px 2px 4px 0 rgba(0,0,0,.3);z-index:100;background:var(--island-bg-color);border-radius:var(--border-radius-md);box-sizing:border-box;min-height:42px}.excalidraw-hyperlinkContainer-input,.excalidraw-hyperlinkContainer button{z-index:100}.excalidraw-hyperlinkContainer-input,.excalidraw-hyperlinkContainer-link{height:24px;padding:0 8px;line-height:24px;font-size:.9rem;font-weight:500;font-family:var(--ui-font)}.excalidraw-hyperlinkContainer-input{width:18rem;border:none;background-color:rgba(0,0,0,0);color:var(--text-primary-color);outline:none;border:none;box-shadow:none !important}.excalidraw-hyperlinkContainer-link{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:15rem}.excalidraw-hyperlinkContainer button{color:#228be6;background-color:rgba(0,0,0,0) !important;font-weight:500}.excalidraw-hyperlinkContainer button.excalidraw-hyperlinkContainer--remove{color:#c92a2a}.excalidraw-hyperlinkContainer .d-none{display:none}.excalidraw-hyperlinkContainer--remove .ToolIcon__icon svg{color:#fa5252}.excalidraw-hyperlinkContainer .ToolIcon__icon{width:2rem;height:2rem}.excalidraw-hyperlinkContainer__buttons{flex:0 0 auto}",""]),K.default=g},3645:function(le){le.exports=function(K){var o=[];return o.toString=function(){return this.map(function(x){var i="",v=x[5]!==void 0;return x[4]&&(i+="@supports (".concat(x[4],") {")),x[2]&&(i+="@media ".concat(x[2]," {")),v&&(i+="@layer".concat(x[5].length>0?" ".concat(x[5]):""," {")),i+=K(x),v&&(i+="}"),x[2]&&(i+="}"),x[4]&&(i+="}"),i}).join("")},o.i=function(x,i,v,g,j){typeof x=="string"&&(x=[[null,x,void 0]]);var y={};if(v)for(var V=0;V<this.length;V++){var ie=this[V][0];ie!=null&&(y[ie]=!0)}for(var I=0;I<x.length;I++){var te=[].concat(x[I]);v&&y[te[0]]||(j!==void 0&&(te[5]===void 0||(te[1]="@layer".concat(te[5].length>0?" ".concat(te[5]):""," {").concat(te[1],"}")),te[5]=j),i&&(te[2]&&(te[1]="@media ".concat(te[2]," {").concat(te[1],"}")),te[2]=i),g&&(te[4]?(te[1]="@supports (".concat(te[4],") {").concat(te[1],"}"),te[4]=g):te[4]="".concat(g)),o.push(te))}},o}},1667:function(le){le.exports=function(K,o){return o||(o={}),K&&(K=String(K.__esModule?K.default:K),/^['"].*['"]$/.test(K)&&(K=K.slice(1,-1)),o.hash&&(K+=o.hash),/["'() \t\n]|(%20)/.test(K)||o.needQuotes?'"'.concat(K.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):K)}},8081:function(le){le.exports=function(K){return K[1]}},828:function(le,K,o){o.d(K,{Lo:function(){return E},CZ:function(){return T}});var x=o(2577),i=o(7169),v=o(5564),g=o(3646),j=o(1319),y=o(4041),V=o(8288),ie=o(5118),I=o(8211),te=o(6066),pe=o(75),fe=o(2264),W=o(746),re=o(6340),ne=o(7901),ue=o(9910),$=o(1935),ge=o(8897),se=o(9787),S=o(9660),F=o(4981),h=o(4512),u=function(c){var n=c.onConfirm,C=(0,se.useState)(!1),D=(0,x.Z)(C,2),B=D[0],U=D[1],R=function(){U(!B)};return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(j.V,{type:"button",icon:g._I,title:(0,I.t)("buttons.clearReset"),"aria-label":(0,I.t)("buttons.clearReset"),showAriaLabel:(0,S.Fy)().isMobile,onClick:R,"data-testid":"clear-canvas-button"}),B&&(0,h.jsx)(F.Z,{onConfirm:function(){n(),R()},onCancel:R,title:(0,I.t)("clearCanvasDialog.title"),children:(0,h.jsxs)("p",{className:"clear-canvas__content",children:[" ",(0,I.t)("alerts.clearReset")]})})]})},O=o(45);function p(c,n){var C=Object.keys(c);if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(c);n&&(D=D.filter(function(B){return Object.getOwnPropertyDescriptor(c,B).enumerable})),C.push.apply(C,D)}return C}function _(c){for(var n=1;n<arguments.length;n++){var C=arguments[n]!=null?arguments[n]:{};n%2?p(Object(C),!0).forEach(function(D){(0,i.Z)(c,D,C[D])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(C)):p(Object(C)).forEach(function(D){Object.defineProperty(c,D,Object.getOwnPropertyDescriptor(C,D))})}return c}(0,ne.z)({name:"changeViewBackgroundColor",trackEvent:!1,perform:function(c,n,C){return{appState:_(_({},n),C),commitToHistory:!!C.viewBackgroundColor}},PanelComponent:function(c){var n=c.elements,C=c.appState,D=c.updateData;return(0,h.jsx)("div",{style:{position:"relative"},children:(0,h.jsx)(v.z,{label:(0,I.t)("labels.canvasBackground"),type:"canvasBackground",color:C.viewBackgroundColor,onChange:function(B){return D({viewBackgroundColor:B})},isActive:C.openPopup==="canvasColorPicker",setActive:function(B){return D({openPopup:B?"canvasColorPicker":null})},"data-testid":"canvas-background-picker",elements:n,appState:C})})}}),(0,ne.z)({name:"clearCanvas",trackEvent:{category:"canvas"},perform:function(c,n,C,D){return D.imageCache.clear(),{elements:c.map(function(B){return(0,$.BE)(B,{isDeleted:!0})}),appState:_(_({},(0,ge.im)()),{},{files:{},theme:n.theme,penMode:n.penMode,penDetected:n.penDetected,exportBackground:n.exportBackground,exportEmbedScene:n.exportEmbedScene,gridSize:n.gridSize,showStats:n.showStats,pasteDialog:n.pasteDialog,activeTool:n.activeTool.type==="image"?_(_({},n.activeTool),{},{type:"selection"}):n.activeTool}),commitToHistory:!0}},PanelComponent:function(c){var n=c.updateData;return(0,h.jsx)(u,{onConfirm:n})}});var E=(0,ne.z)({name:"zoomIn",trackEvent:{category:"canvas"},perform:function(c,n,C,D){return{appState:_(_({},n),(0,W.E)({viewportX:n.width/2+n.offsetLeft,viewportY:n.height/2+n.offsetTop,nextZoom:(0,pe.j)(n.zoom.value+V.V4)},n)),commitToHistory:!1}},PanelComponent:function(c){var n=c.updateData;return(0,h.jsx)(j.V,{type:"button",icon:g.kr,title:"".concat((0,I.t)("buttons.zoomIn")," — ").concat((0,re.uY)("CtrlOrCmd++")),"aria-label":(0,I.t)("buttons.zoomIn"),onClick:function(){n(null)},size:"small"})},keyTest:function(c){return(c.code===te.aU.EQUAL||c.code===te.aU.NUM_ADD)&&(c[te.tW.CTRL_OR_CMD]||c.shiftKey)}}),T=(0,ne.z)({name:"zoomOut",trackEvent:{category:"canvas"},perform:function(c,n,C,D){return{appState:_(_({},n),(0,W.E)({viewportX:n.width/2+n.offsetLeft,viewportY:n.height/2+n.offsetTop,nextZoom:(0,pe.j)(n.zoom.value-V.V4)},n)),commitToHistory:!1}},PanelComponent:function(c){var n=c.updateData;return(0,h.jsx)(j.V,{type:"button",icon:g.vG,title:"".concat((0,I.t)("buttons.zoomOut")," — ").concat((0,re.uY)("CtrlOrCmd+-")),"aria-label":(0,I.t)("buttons.zoomOut"),onClick:function(){n(null)},size:"small"})},keyTest:function(c){return(c.code===te.aU.MINUS||c.code===te.aU.NUM_SUBTRACT)&&(c[te.tW.CTRL_OR_CMD]||c.shiftKey)}}),l=((0,ne.z)({name:"resetZoom",trackEvent:{category:"canvas"},perform:function(c,n,C,D){return{appState:_(_({},n),(0,W.E)({viewportX:n.width/2+n.offsetLeft,viewportY:n.height/2+n.offsetTop,nextZoom:(0,pe.j)(1)},n)),commitToHistory:!1}},PanelComponent:function(c){var n=c.updateData,C=c.appState;return(0,h.jsx)(ue.u,{label:(0,I.t)("buttons.resetZoom"),style:{height:"100%"},children:(0,h.jsxs)(j.V,{type:"button",className:"reset-zoom-button",title:(0,I.t)("buttons.resetZoom"),"aria-label":(0,I.t)("buttons.resetZoom"),onClick:function(){n(null)},size:"small",children:[(100*C.zoom.value).toFixed(0),"%"]})})},keyTest:function(c){return(c.code===te.aU.ZERO||c.code===te.aU.NUM_ZERO)&&(c[te.tW.CTRL_OR_CMD]||c.shiftKey)}}),function(c,n){var C=(0,x.Z)(c,4),D=C[0],B=C[1],U=C[2],R=C[3],b=U-D,M=n.width/b,G=R-B,ae=n.height/G,ce=Math.min(M,ae),J=Math.floor(ce/V.V4)*V.V4;return Math.min(Math.max(J,V.V4),1)}),m=function(c,n,C){var D=(0,ie.Lm)(c),B=(0,pe.eD)(D,n),U=C&&B.length>0?(0,ie.KP)(B):(0,ie.KP)(D),R={value:l(U,{width:n.width,height:n.height})},b=(0,x.Z)(U,4),M=b[0],G=b[1],ae=(M+b[2])/2,ce=(G+b[3])/2;return{appState:_(_(_({},n),(0,fe.s)({scenePoint:{x:ae,y:ce},viewportDimensions:{width:n.width,height:n.height},zoom:R})),{},{zoom:R}),commitToHistory:!1}};(0,ne.z)({name:"zoomToSelection",trackEvent:{category:"canvas"},perform:function(c,n){return m(c,n,!0)},keyTest:function(c){return c.code===te.aU.TWO&&c.shiftKey&&!c.altKey&&!c[te.tW.CTRL_OR_CMD]}}),(0,ne.z)({name:"zoomToFit",trackEvent:{category:"canvas"},perform:function(c,n){return m(c,n,!1)},keyTest:function(c){return c.code===te.aU.ONE&&c.shiftKey&&!c.altKey&&!c[te.tW.CTRL_OR_CMD]}}),(0,ne.z)({name:"toggleTheme",trackEvent:{category:"canvas"},perform:function(c,n,C){return{appState:_(_({},n),{},{theme:C||(n.theme===V.C6.LIGHT?V.C6.DARK:V.C6.LIGHT)}),commitToHistory:!1}},PanelComponent:function(c){var n=c.appState,C=c.updateData;return(0,h.jsx)("div",{style:{marginInlineStart:"0.25rem"},children:(0,h.jsx)(y.J,{value:n.theme,onChange:function(D){C(D)}})})},keyTest:function(c){return c.altKey&&c.shiftKey&&c.code===te.aU.D}}),(0,ne.z)({name:"eraser",trackEvent:{category:"toolbar"},perform:function(c,n){var C;return C=(0,ge.EN)(n)?(0,re.Om)(n,_(_({},n.activeTool.lastActiveToolBeforeEraser||{type:"selection"}),{},{lastActiveToolBeforeEraser:null})):(0,re.Om)(n,{type:"eraser",lastActiveToolBeforeEraser:n.activeTool}),{appState:_(_({},n),{},{selectedElementIds:{},selectedGroupIds:{},activeTool:C}),commitToHistory:!0}},keyTest:function(c){return c.key===te.tW.E},PanelComponent:function(c){c.elements;var n=c.appState,C=c.updateData,D=c.data;return(0,h.jsx)(j.V,{type:"button",icon:g.rn,className:(0,O.Z)("eraser",{active:(0,ge.EN)(n)}),title:"".concat((0,I.t)("toolBar.eraser"),"-").concat((0,re.uY)("E")),"aria-label":(0,I.t)("toolBar.eraser"),onClick:function(){C(null)},size:(D==null?void 0:D.size)||"medium"})}})},3917:function(le,K,o){o.d(K,{Tu:function(){return C},Zq:function(){return D}});var x=o(1930),i=o(7169),v=o(45),g=o(4512),j=function(B){var U=B.options,R=B.value,b=B.onChange,M=B.group;return(0,g.jsx)("div",{className:"buttonList buttonListIcon",children:U.map(function(G){return(0,g.jsxs)("label",{className:(0,v.Z)({active:R===G.value}),title:G.text,children:[(0,g.jsx)("input",{type:"radio",name:M,onChange:function(){return b(G.value)},checked:R===G.value,"data-testid":G.testId}),G.icon]},G.text)})})},y=o(5564),V=o(2577),ie=o(9787),I=o.n(ie),te=o(7288),pe=(o(7117),o(6066)),fe=o(8211);function W(B,U){var R=Object.keys(B);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(B);U&&(b=b.filter(function(M){return Object.getOwnPropertyDescriptor(B,M).enumerable})),R.push.apply(R,b)}return R}function re(B){for(var U=1;U<arguments.length;U++){var R=arguments[U]!=null?arguments[U]:{};U%2?W(Object(R),!0).forEach(function(b){(0,i.Z)(B,b,R[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(B,Object.getOwnPropertyDescriptors(R)):W(Object(R)).forEach(function(b){Object.defineProperty(B,b,Object.getOwnPropertyDescriptor(R,b))})}return B}function ne(B){var U=B.options,R=B.value,b=B.label,M=B.onChange,G=B.onClose,ae=I().useRef(),ce=I().useRef(),J=I().useRef(null);return I().useEffect(function(){ce.current?ce.current.focus():J.current&&J.current.focus()},[]),(0,g.jsx)("div",{className:"picker",role:"dialog","aria-modal":"true","aria-label":b,onKeyDown:function(Y){var oe=U.find(function(ke){return ke.keyBinding===Y.key.toLowerCase()});if(Y.metaKey||Y.altKey||Y.ctrlKey||!oe)if(Y.key===pe.tW.TAB)setTimeout(function(){ce.current!==document.activeElement&&G()},0);else if((0,pe.Wl)(Y.key)){var xe=document.activeElement,L=(0,fe.G3)().rtl,A=Array.prototype.indexOf.call(J.current.children,xe);if(A!==-1){var N=U.length,z=A;switch(Y.key){case(L?pe.tW.ARROW_LEFT:pe.tW.ARROW_RIGHT):case pe.tW.ARROW_DOWN:z=(A+1)%N;break;case(L?pe.tW.ARROW_RIGHT:pe.tW.ARROW_LEFT):case pe.tW.ARROW_UP:z=(N+A-1)%N}J.current.children[z].focus()}Y.preventDefault()}else Y.key!==pe.tW.ESCAPE&&Y.key!==pe.tW.ENTER||(Y.preventDefault(),G());else{var ee=U.indexOf(oe);J.current.children[ee].focus(),Y.preventDefault()}Y.nativeEvent.stopImmediatePropagation(),Y.stopPropagation()},children:(0,g.jsx)("div",{className:"picker-content",ref:J,children:U.map(function(Y,oe){return(0,g.jsxs)("button",{className:"picker-option",onClick:function(xe){xe.currentTarget.focus(),M(Y.value)},title:"".concat(Y.text," — ").concat(Y.keyBinding.toUpperCase()),"aria-label":Y.text||"none","aria-keyshortcuts":Y.keyBinding,ref:function(xe){xe&&oe===0&&(ae.current=xe),xe&&Y.value===R&&(ce.current=xe)},onFocus:function(){M(Y.value)},children:[Y.icon,(0,g.jsx)("span",{className:"picker-keybinding",children:Y.keyBinding})]},Y.text)})})})}function ue(B){var U,R=B.value,b=B.label,M=B.options,G=B.onChange,ae=B.group,ce=ae===void 0?"":ae,J=I().useState(!1),Y=(0,V.Z)(J,2),oe=Y[0],xe=Y[1],L=I().useRef(null),A=(0,fe.G3)().rtl;return(0,g.jsxs)("label",{className:"picker-container",children:[(0,g.jsx)("button",{name:ce,className:oe?"active":"","aria-label":b,onClick:function(){return xe(!oe)},ref:L,children:(U=M.find(function(N){return N.value===R}))===null||U===void 0?void 0:U.icon}),(0,g.jsx)(I().Suspense,{fallback:"",children:oe?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(te.J,re(re({onCloseRequest:function(N){return N.target!==L.current&&xe(!1)}},A?{right:5.5}:{left:-5.5}),{},{children:(0,g.jsx)(ne,{options:M,value:R,label:b,onChange:G,onClose:function(){var N;xe(!1),(N=L.current)===null||N===void 0||N.focus()}})})),(0,g.jsx)("div",{className:"picker-triangle"})]}):null})]})}var $=o(3646),ge=o(8288),se=o(5118),S=o(1935),F=o(5710),h=o(1974),u=o(6954),O=o(75),p=o(8120),_=o(6340),E=o(7901);function T(B,U){var R=Object.keys(B);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(B);U&&(b=b.filter(function(M){return Object.getOwnPropertyDescriptor(B,M).enumerable})),R.push.apply(R,b)}return R}function l(B){for(var U=1;U<arguments.length;U++){var R=arguments[U]!=null?arguments[U]:{};U%2?T(Object(R),!0).forEach(function(b){(0,i.Z)(B,b,R[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(B,Object.getOwnPropertyDescriptors(R)):T(Object(R)).forEach(function(b){Object.defineProperty(B,b,Object.getOwnPropertyDescriptor(R,b))})}return B}var m=function(B,U,R){var b=arguments.length>3&&arguments[3]!==void 0&&arguments[3],M=(0,_.xn)((0,O.eD)(B,U,b));return B.map(function(G){var ae;return M.get(G.id)||G.id===((ae=U.editingElement)===null||ae===void 0?void 0:ae.id)?R(G):G})},c=function(B,U,R,b){var M,G,ae=U.editingElement,ce=(0,se.Lm)(B);return(M=(G=ae&&R(ae))!==null&&G!==void 0?G:(0,O.N)(ce,U)?(0,O.PR)(ce,U,R):b)!==null&&M!==void 0?M:null},n=function(B,U,R,b){var M=new Set;return{elements:m(B,U,function(G){if((0,se.iB)(G)){var ae=R(G);M.add(ae);var ce=(0,S.BE)(G,{fontSize:ae});return(0,se.oN)(ce,(0,F.tl)(G)),J=G,Y=ce,ce=(0,h.Xh)(Y)?Y:(0,S.DR)(Y,{x:J.textAlign==="left"?J.x:J.x+(J.width-Y.width)/(J.textAlign==="center"?2:1),y:J.y+(J.height-Y.height)/2},!1)}var J,Y;return G},!0),appState:l(l({},U),{},{currentItemFontSize:M.size===1?(0,x.Z)(M)[0]:b??U.currentItemFontSize}),commitToHistory:!0}},C=((0,E.z)({name:"changeStrokeColor",trackEvent:!1,perform:function(B,U,R){return l(l({},R.currentItemStrokeColor&&{elements:m(B,U,function(b){return(0,p.PD)(b.type)?(0,S.BE)(b,{strokeColor:R.currentItemStrokeColor}):b},!0)}),{},{appState:l(l({},U),R),commitToHistory:!!R.currentItemStrokeColor})},PanelComponent:function(B){var U=B.elements,R=B.appState,b=B.updateData;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("h3",{"aria-hidden":"true",children:(0,fe.t)("labels.stroke")}),(0,g.jsx)(y.z,{type:"elementStroke",label:(0,fe.t)("labels.stroke"),color:c(U,R,function(M){return M.strokeColor},R.currentItemStrokeColor),onChange:function(M){return b({currentItemStrokeColor:M})},isActive:R.openPopup==="strokeColorPicker",setActive:function(M){return b({openPopup:M?"strokeColorPicker":null})},elements:U,appState:R})]})}}),(0,E.z)({name:"changeBackgroundColor",trackEvent:!1,perform:function(B,U,R){return l(l({},R.currentItemBackgroundColor&&{elements:m(B,U,function(b){return(0,S.BE)(b,{backgroundColor:R.currentItemBackgroundColor})})}),{},{appState:l(l({},U),R),commitToHistory:!!R.currentItemBackgroundColor})},PanelComponent:function(B){var U=B.elements,R=B.appState,b=B.updateData;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("h3",{"aria-hidden":"true",children:(0,fe.t)("labels.background")}),(0,g.jsx)(y.z,{type:"elementBackground",label:(0,fe.t)("labels.background"),color:c(U,R,function(M){return M.backgroundColor},R.currentItemBackgroundColor),onChange:function(M){return b({currentItemBackgroundColor:M})},isActive:R.openPopup==="backgroundColorPicker",setActive:function(M){return b({openPopup:M?"backgroundColorPicker":null})},elements:U,appState:R})]})}}),(0,E.z)({name:"changeFillStyle",trackEvent:!1,perform:function(B,U,R){return{elements:m(B,U,function(b){return(0,S.BE)(b,{fillStyle:R})}),appState:l(l({},U),{},{currentItemFillStyle:R}),commitToHistory:!0}},PanelComponent:function(B){var U=B.elements,R=B.appState,b=B.updateData;return(0,g.jsxs)("fieldset",{children:[(0,g.jsx)("legend",{children:(0,fe.t)("labels.fill")}),(0,g.jsx)(j,{options:[{value:"hachure",text:(0,fe.t)("labels.hachure"),icon:(0,g.jsx)($.a0,{theme:R.theme})},{value:"cross-hatch",text:(0,fe.t)("labels.crossHatch"),icon:(0,g.jsx)($.np,{theme:R.theme})},{value:"solid",text:(0,fe.t)("labels.solid"),icon:(0,g.jsx)($.X7,{theme:R.theme})}],group:"fill",value:c(U,R,function(M){return M.fillStyle},R.currentItemFillStyle),onChange:function(M){b(M)}})]})}}),(0,E.z)({name:"changeStrokeWidth",trackEvent:!1,perform:function(B,U,R){return{elements:m(B,U,function(b){return(0,S.BE)(b,{strokeWidth:R})}),appState:l(l({},U),{},{currentItemStrokeWidth:R}),commitToHistory:!0}},PanelComponent:function(B){var U=B.elements,R=B.appState,b=B.updateData;return(0,g.jsxs)("fieldset",{children:[(0,g.jsx)("legend",{children:(0,fe.t)("labels.strokeWidth")}),(0,g.jsx)(j,{group:"stroke-width",options:[{value:1,text:(0,fe.t)("labels.thin"),icon:(0,g.jsx)($.tY,{theme:R.theme,strokeWidth:2})},{value:2,text:(0,fe.t)("labels.bold"),icon:(0,g.jsx)($.tY,{theme:R.theme,strokeWidth:6})},{value:4,text:(0,fe.t)("labels.extraBold"),icon:(0,g.jsx)($.tY,{theme:R.theme,strokeWidth:10})}],value:c(U,R,function(M){return M.strokeWidth},R.currentItemStrokeWidth),onChange:function(M){return b(M)}})]})}}),(0,E.z)({name:"changeSloppiness",trackEvent:!1,perform:function(B,U,R){return{elements:m(B,U,function(b){return(0,S.BE)(b,{seed:(0,u.LU)(),roughness:R})}),appState:l(l({},U),{},{currentItemRoughness:R}),commitToHistory:!0}},PanelComponent:function(B){var U=B.elements,R=B.appState,b=B.updateData;return(0,g.jsxs)("fieldset",{children:[(0,g.jsx)("legend",{children:(0,fe.t)("labels.sloppiness")}),(0,g.jsx)(j,{group:"sloppiness",options:[{value:0,text:(0,fe.t)("labels.architect"),icon:(0,g.jsx)($.bf,{theme:R.theme})},{value:1,text:(0,fe.t)("labels.artist"),icon:(0,g.jsx)($.kM,{theme:R.theme})},{value:2,text:(0,fe.t)("labels.cartoonist"),icon:(0,g.jsx)($.W2,{theme:R.theme})}],value:c(U,R,function(M){return M.roughness},R.currentItemRoughness),onChange:function(M){return b(M)}})]})}}),(0,E.z)({name:"changeStrokeStyle",trackEvent:!1,perform:function(B,U,R){return{elements:m(B,U,function(b){return(0,S.BE)(b,{strokeStyle:R})}),appState:l(l({},U),{},{currentItemStrokeStyle:R}),commitToHistory:!0}},PanelComponent:function(B){var U=B.elements,R=B.appState,b=B.updateData;return(0,g.jsxs)("fieldset",{children:[(0,g.jsx)("legend",{children:(0,fe.t)("labels.strokeStyle")}),(0,g.jsx)(j,{group:"strokeStyle",options:[{value:"solid",text:(0,fe.t)("labels.strokeStyle_solid"),icon:(0,g.jsx)($.nu,{theme:R.theme})},{value:"dashed",text:(0,fe.t)("labels.strokeStyle_dashed"),icon:(0,g.jsx)($.h0,{theme:R.theme})},{value:"dotted",text:(0,fe.t)("labels.strokeStyle_dotted"),icon:(0,g.jsx)($.aT,{theme:R.theme})}],value:c(U,R,function(M){return M.strokeStyle},R.currentItemStrokeStyle),onChange:function(M){return b(M)}})]})}}),(0,E.z)({name:"changeOpacity",trackEvent:!1,perform:function(B,U,R){return{elements:m(B,U,function(b){return(0,S.BE)(b,{opacity:R})},!0),appState:l(l({},U),{},{currentItemOpacity:R}),commitToHistory:!0}},PanelComponent:function(B){var U,R=B.elements,b=B.appState,M=B.updateData;return(0,g.jsxs)("label",{className:"control-label",children:[(0,fe.t)("labels.opacity"),(0,g.jsx)("input",{type:"range",min:"0",max:"100",step:"10",onChange:function(G){return M(+G.target.value)},value:(U=c(R,b,function(G){return G.opacity},b.currentItemOpacity))!==null&&U!==void 0?U:void 0})]})}}),(0,E.z)({name:"changeFontSize",trackEvent:!1,perform:function(B,U,R){return n(B,U,function(){return R},R)},PanelComponent:function(B){var U=B.elements,R=B.appState,b=B.updateData;return(0,g.jsxs)("fieldset",{children:[(0,g.jsx)("legend",{children:(0,fe.t)("labels.fontSize")}),(0,g.jsx)(j,{group:"font-size",options:[{value:16,text:(0,fe.t)("labels.small"),icon:(0,g.jsx)($.q0,{theme:R.theme}),testId:"fontSize-small"},{value:20,text:(0,fe.t)("labels.medium"),icon:(0,g.jsx)($.nq,{theme:R.theme}),testId:"fontSize-medium"},{value:28,text:(0,fe.t)("labels.large"),icon:(0,g.jsx)($.tW,{theme:R.theme}),testId:"fontSize-large"},{value:36,text:(0,fe.t)("labels.veryLarge"),icon:(0,g.jsx)($.OA,{theme:R.theme}),testId:"fontSize-veryLarge"}],value:c(U,R,function(M){if((0,se.iB)(M))return M.fontSize;var G=(0,F.WJ)(M);return G?G.fontSize:null},R.currentItemFontSize||ge.n5),onChange:function(M){return b(M)}})]})}}),(0,E.z)({name:"decreaseFontSize",trackEvent:!1,perform:function(B,U,R){return n(B,U,function(b){return Math.round(1/1.1*b.fontSize)})},keyTest:function(B){return B[pe.tW.CTRL_OR_CMD]&&B.shiftKey&&(B.key===pe.tW.CHEVRON_LEFT||B.key===pe.tW.COMMA)}})),D=(0,E.z)({name:"increaseFontSize",trackEvent:!1,perform:function(B,U,R){return n(B,U,function(b){return Math.round(1.1*b.fontSize)})},keyTest:function(B){return B[pe.tW.CTRL_OR_CMD]&&B.shiftKey&&(B.key===pe.tW.CHEVRON_RIGHT||B.key===pe.tW.PERIOD)}});(0,E.z)({name:"changeFontFamily",trackEvent:!1,perform:function(B,U,R){return{elements:m(B,U,function(b){if((0,se.iB)(b)){var M=(0,S.BE)(b,{fontFamily:R});return(0,se.oN)(M,(0,F.tl)(b)),M}return b},!0),appState:l(l({},U),{},{currentItemFontFamily:R}),commitToHistory:!0}},PanelComponent:function(B){var U=B.elements,R=B.appState,b=B.updateData,M=[{value:ge.ut.Virgil,text:(0,fe.t)("labels.handDrawn"),icon:(0,g.jsx)($.kK,{theme:R.theme})},{value:ge.ut.Helvetica,text:(0,fe.t)("labels.normal"),icon:(0,g.jsx)($.vo,{theme:R.theme})},{value:ge.ut.Cascadia,text:(0,fe.t)("labels.code"),icon:(0,g.jsx)($.z6,{theme:R.theme})}];return(0,g.jsxs)("fieldset",{children:[(0,g.jsx)("legend",{children:(0,fe.t)("labels.fontFamily")}),(0,g.jsx)(j,{group:"font-family",options:M,value:c(U,R,function(G){if((0,se.iB)(G))return G.fontFamily;var ae=(0,F.WJ)(G);return ae?ae.fontFamily:null},R.currentItemFontFamily||ge.rk),onChange:function(G){return b(G)}})]})}}),(0,E.z)({name:"changeTextAlign",trackEvent:!1,perform:function(B,U,R){return{elements:m(B,U,function(b){if((0,se.iB)(b)){var M=(0,S.BE)(b,{textAlign:R});return(0,se.oN)(M,(0,F.tl)(b)),M}return b},!0),appState:l(l({},U),{},{currentItemTextAlign:R}),commitToHistory:!0}},PanelComponent:function(B){var U=B.elements,R=B.appState,b=B.updateData;return(0,g.jsxs)("fieldset",{children:[(0,g.jsx)("legend",{children:(0,fe.t)("labels.textAlign")}),(0,g.jsx)(j,{group:"text-align",options:[{value:"left",text:(0,fe.t)("labels.left"),icon:(0,g.jsx)($.rr,{theme:R.theme})},{value:"center",text:(0,fe.t)("labels.center"),icon:(0,g.jsx)($.o3,{theme:R.theme})},{value:"right",text:(0,fe.t)("labels.right"),icon:(0,g.jsx)($.oT,{theme:R.theme})}],value:c(U,R,function(M){if((0,se.iB)(M))return M.textAlign;var G=(0,F.WJ)(M);return G?G.textAlign:null},R.currentItemTextAlign),onChange:function(M){return b(M)}})]})}}),(0,E.z)({name:"changeVerticalAlign",trackEvent:{category:"element"},perform:function(B,U,R){return{elements:m(B,U,function(b){if((0,se.iB)(b)){var M=(0,S.BE)(b,{verticalAlign:R});return(0,se.oN)(M,(0,F.tl)(b)),M}return b},!0),appState:l({},U),commitToHistory:!0}},PanelComponent:function(B){var U=B.elements,R=B.appState,b=B.updateData;return(0,g.jsx)("fieldset",{children:(0,g.jsx)(j,{group:"text-align",options:[{value:ge.oX.TOP,text:(0,fe.t)("labels.alignTop"),icon:(0,g.jsx)($.EO,{theme:R.theme})},{value:ge.oX.MIDDLE,text:(0,fe.t)("labels.centerVertically"),icon:(0,g.jsx)($.P7,{theme:R.theme})},{value:ge.oX.BOTTOM,text:(0,fe.t)("labels.alignBottom"),icon:(0,g.jsx)($.aA,{theme:R.theme})}],value:c(U,R,function(M){if((0,se.iB)(M)&&M.containerId)return M.verticalAlign;var G=(0,F.WJ)(M);return G?G.verticalAlign:null}),onChange:function(M){return b(M)}})})}}),(0,E.z)({name:"changeSharpness",trackEvent:!1,perform:function(B,U,R){var b=(0,O.Zs)((0,se.Lm)(B),U),M=b.length?b.every(function(ae){return!(0,h.bt)(ae)}):!(0,h.dt)(U.activeTool.type),G=b.length?b.every(h.bt):(0,h.dt)(U.activeTool.type);return{elements:m(B,U,function(ae){return(0,S.BE)(ae,{strokeSharpness:R})}),appState:l(l({},U),{},{currentItemStrokeSharpness:M?R:U.currentItemStrokeSharpness,currentItemLinearStrokeSharpness:G?R:U.currentItemLinearStrokeSharpness}),commitToHistory:!0}},PanelComponent:function(B){var U=B.elements,R=B.appState,b=B.updateData;return(0,g.jsxs)("fieldset",{children:[(0,g.jsx)("legend",{children:(0,fe.t)("labels.edges")}),(0,g.jsx)(j,{group:"edges",options:[{value:"sharp",text:(0,fe.t)("labels.sharp"),icon:(0,g.jsx)($.wr,{theme:R.theme})},{value:"round",text:(0,fe.t)("labels.round"),icon:(0,g.jsx)($.DS,{theme:R.theme})}],value:c(U,R,function(M){return M.strokeSharpness},(0,O.gP)(R.activeTool.type)&&((0,h.dt)(R.activeTool.type)?R.currentItemLinearStrokeSharpness:R.currentItemStrokeSharpness)||null),onChange:function(M){return b(M)}})]})}}),(0,E.z)({name:"changeArrowhead",trackEvent:!1,perform:function(B,U,R){return{elements:m(B,U,function(b){if((0,h.bt)(b)){var M=R.position,G=R.type;if(M==="start")return(0,S.BE)(b,{startArrowhead:G});if(M==="end")return(0,S.BE)(b,{endArrowhead:G})}return b}),appState:l(l({},U),{},(0,i.Z)({},R.position==="start"?"currentItemStartArrowhead":"currentItemEndArrowhead",R.type)),commitToHistory:!0}},PanelComponent:function(B){var U=B.elements,R=B.appState,b=B.updateData,M=(0,fe.G3)().rtl;return(0,g.jsxs)("fieldset",{children:[(0,g.jsx)("legend",{children:(0,fe.t)("labels.arrowheads")}),(0,g.jsxs)("div",{className:"iconSelectList",children:[(0,g.jsx)(ue,{label:"arrowhead_start",options:[{value:null,text:(0,fe.t)("labels.arrowhead_none"),icon:(0,g.jsx)($.fr,{theme:R.theme}),keyBinding:"q"},{value:"arrow",text:(0,fe.t)("labels.arrowhead_arrow"),icon:(0,g.jsx)($.il,{theme:R.theme,flip:!M}),keyBinding:"w"},{value:"bar",text:(0,fe.t)("labels.arrowhead_bar"),icon:(0,g.jsx)($.m,{theme:R.theme,flip:!M}),keyBinding:"e"},{value:"dot",text:(0,fe.t)("labels.arrowhead_dot"),icon:(0,g.jsx)($.tn,{theme:R.theme,flip:!M}),keyBinding:"r"},{value:"triangle",text:(0,fe.t)("labels.arrowhead_triangle"),icon:(0,g.jsx)($.j8,{theme:R.theme,flip:!M}),keyBinding:"t"}],value:c(U,R,function(G){return(0,h.bt)(G)&&(0,O.Un)(G.type)?G.startArrowhead:R.currentItemStartArrowhead},R.currentItemStartArrowhead),onChange:function(G){return b({position:"start",type:G})}}),(0,g.jsx)(ue,{label:"arrowhead_end",group:"arrowheads",options:[{value:null,text:(0,fe.t)("labels.arrowhead_none"),keyBinding:"q",icon:(0,g.jsx)($.fr,{theme:R.theme})},{value:"arrow",text:(0,fe.t)("labels.arrowhead_arrow"),keyBinding:"w",icon:(0,g.jsx)($.il,{theme:R.theme,flip:M})},{value:"bar",text:(0,fe.t)("labels.arrowhead_bar"),keyBinding:"e",icon:(0,g.jsx)($.m,{theme:R.theme,flip:M})},{value:"dot",text:(0,fe.t)("labels.arrowhead_dot"),keyBinding:"r",icon:(0,g.jsx)($.tn,{theme:R.theme,flip:M})},{value:"triangle",text:(0,fe.t)("labels.arrowhead_triangle"),icon:(0,g.jsx)($.j8,{theme:R.theme,flip:M}),keyBinding:"t"}],value:c(U,R,function(G){return(0,h.bt)(G)&&(0,O.Un)(G.type)?G.endArrowhead:R.currentItemEndArrowhead},R.currentItemEndArrowhead),onChange:function(G){return b({position:"end",type:G})}})]})]})}})},7901:function(le,K,o){o.d(K,{N:function(){return x},z:function(){return i}});var x=[],i=function(v){return x=x.concat(v),v}},7047:function(le,K,o){var x,i;o.d(K,{L:function(){return v}});var v=typeof process<"u"&&(x={REACT_APP_BACKEND_V2_GET_URL:"https://json.excalidraw.com/api/v2/",REACT_APP_BACKEND_V2_POST_URL:"https://json.excalidraw.com/api/v2/post/",REACT_APP_LIBRARY_URL:"https://libraries.excalidraw.com",REACT_APP_LIBRARY_BACKEND:"https://us-central1-excalidraw-room-persistence.cloudfunctions.net/libraries",REACT_APP_PORTAL_URL:"https://portal.excalidraw.com",REACT_APP_WS_SERVER_URL:"",REACT_APP_FIREBASE_CONFIG:'{"apiKey":"AIzaSyAd15pYlMci_xIp9ko6wkEsDzAAA0Dn0RU","authDomain":"excalidraw-room-persistence.firebaseapp.com","databaseURL":"https://excalidraw-room-persistence.firebaseio.com","projectId":"excalidraw-room-persistence","storageBucket":"excalidraw-room-persistence.appspot.com","messagingSenderId":"654800341332","appId":"1:654800341332:web:4a692de832b55bd57ce0c1"}',REACT_APP_GOOGLE_ANALYTICS_ID:"UA-387204-13",REACT_APP_PLUS_APP:"https://app.excalidraw.com",PKG_NAME:"@excalidraw/excalidraw",PKG_VERSION:"0.12.0",IS_EXCALIDRAW_NPM_PACKAGE:!0})!==null&&x!==void 0&&x.REACT_APP_GOOGLE_ANALYTICS_ID&&typeof window<"u"&&window.gtag?function(g,j,y,V){try{window.gtag("event",j,{event_category:g,event_label:y,value:V})}catch(ie){console.error("error logging to ga",ie)}}:(typeof process<"u"&&(i={REACT_APP_BACKEND_V2_GET_URL:"https://json.excalidraw.com/api/v2/",REACT_APP_BACKEND_V2_POST_URL:"https://json.excalidraw.com/api/v2/post/",REACT_APP_LIBRARY_URL:"https://libraries.excalidraw.com",REACT_APP_LIBRARY_BACKEND:"https://us-central1-excalidraw-room-persistence.cloudfunctions.net/libraries",REACT_APP_PORTAL_URL:"https://portal.excalidraw.com",REACT_APP_WS_SERVER_URL:"",REACT_APP_FIREBASE_CONFIG:'{"apiKey":"AIzaSyAd15pYlMci_xIp9ko6wkEsDzAAA0Dn0RU","authDomain":"excalidraw-room-persistence.firebaseapp.com","databaseURL":"https://excalidraw-room-persistence.firebaseio.com","projectId":"excalidraw-room-persistence","storageBucket":"excalidraw-room-persistence.appspot.com","messagingSenderId":"654800341332","appId":"1:654800341332:web:4a692de832b55bd57ce0c1"}',REACT_APP_GOOGLE_ANALYTICS_ID:"UA-387204-13",REACT_APP_PLUS_APP:"https://app.excalidraw.com",PKG_NAME:"@excalidraw/excalidraw",PKG_VERSION:"0.12.0",IS_EXCALIDRAW_NPM_PACKAGE:!0})!==null&&i!==void 0&&i.JEST_WORKER_ID,function(g,j,y,V){})},8897:function(le,K,o){o.d(K,{EN:function(){return W},eS:function(){return fe},im:function(){return ie},s:function(){return pe}});var x=o(5284),i=o(8288),v=o(8211),g=o(6340);function j(re,ne){var ue=typeof Symbol<"u"&&re[Symbol.iterator]||re["@@iterator"];if(!ue){if(Array.isArray(re)||(ue=function(h,u){if(h){if(typeof h=="string")return y(h,u);var O=Object.prototype.toString.call(h).slice(8,-1);if(O==="Object"&&h.constructor&&(O=h.constructor.name),O==="Map"||O==="Set")return Array.from(h);if(O==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(O))return y(h,u)}}(re))||ne&&re&&typeof re.length=="number"){ue&&(re=ue);var $=0,ge=function(){};return{s:ge,n:function(){return $>=re.length?{done:!0}:{done:!1,value:re[$++]}},e:function(h){throw h},f:ge}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var se,S=!0,F=!1;return{s:function(){ue=ue.call(re)},n:function(){var h=ue.next();return S=h.done,h},e:function(h){F=!0,se=h},f:function(){try{S||ue.return==null||ue.return()}finally{if(F)throw se}}}}function y(re,ne){(ne==null||ne>re.length)&&(ne=re.length);for(var ue=0,$=new Array(ne);ue<ne;ue++)$[ue]=re[ue];return $}var V=i.ZB.includes(devicePixelRatio)?devicePixelRatio:1,ie=function(){return{theme:i.C6.LIGHT,collaborators:new Map,currentChartType:"bar",currentItemBackgroundColor:"transparent",currentItemEndArrowhead:"arrow",currentItemFillStyle:"hachure",currentItemFontFamily:i.rk,currentItemFontSize:i.n5,currentItemLinearStrokeSharpness:"round",currentItemOpacity:100,currentItemRoughness:1,currentItemStartArrowhead:null,currentItemStrokeColor:x.black,currentItemStrokeSharpness:"sharp",currentItemStrokeStyle:"solid",currentItemStrokeWidth:1,currentItemTextAlign:i.Hg,cursorButton:"up",draggingElement:null,editingElement:null,editingGroupId:null,editingLinearElement:null,activeTool:{type:"selection",customType:null,locked:!1,lastActiveToolBeforeEraser:null},penMode:!1,penDetected:!1,errorMessage:null,exportBackground:!0,exportScale:V,exportEmbedScene:!1,exportWithDarkMode:!1,fileHandle:null,gridSize:null,isBindingEnabled:!0,isLibraryOpen:!1,isLibraryMenuDocked:!1,isLoading:!1,isResizing:!1,isRotating:!1,lastPointerDownWith:"mouse",multiElement:null,name:"".concat((0,v.t)("labels.untitled"),"-").concat((0,g.Fc)()),openMenu:null,openPopup:null,pasteDialog:{shown:!1,data:null},previousSelectedElementIds:{},resizingElement:null,scrolledOutside:!1,scrollX:0,scrollY:0,selectedElementIds:{},selectedGroupIds:{},selectionElement:null,shouldCacheIgnoreZoom:!1,showHelpDialog:!1,showStats:!1,startBoundElement:null,suggestedBindings:[],toastMessage:null,viewBackgroundColor:x.white,zenModeEnabled:!1,zoom:{value:1},viewModeEnabled:!1,pendingImageElementId:null,showHyperlinkPopup:!1}},I={theme:{browser:!0,export:!1,server:!1},collaborators:{browser:!1,export:!1,server:!1},currentChartType:{browser:!0,export:!1,server:!1},currentItemBackgroundColor:{browser:!0,export:!1,server:!1},currentItemEndArrowhead:{browser:!0,export:!1,server:!1},currentItemFillStyle:{browser:!0,export:!1,server:!1},currentItemFontFamily:{browser:!0,export:!1,server:!1},currentItemFontSize:{browser:!0,export:!1,server:!1},currentItemLinearStrokeSharpness:{browser:!0,export:!1,server:!1},currentItemOpacity:{browser:!0,export:!1,server:!1},currentItemRoughness:{browser:!0,export:!1,server:!1},currentItemStartArrowhead:{browser:!0,export:!1,server:!1},currentItemStrokeColor:{browser:!0,export:!1,server:!1},currentItemStrokeSharpness:{browser:!0,export:!1,server:!1},currentItemStrokeStyle:{browser:!0,export:!1,server:!1},currentItemStrokeWidth:{browser:!0,export:!1,server:!1},currentItemTextAlign:{browser:!0,export:!1,server:!1},cursorButton:{browser:!0,export:!1,server:!1},draggingElement:{browser:!1,export:!1,server:!1},editingElement:{browser:!1,export:!1,server:!1},editingGroupId:{browser:!0,export:!1,server:!1},editingLinearElement:{browser:!1,export:!1,server:!1},activeTool:{browser:!0,export:!1,server:!1},penMode:{browser:!0,export:!1,server:!1},penDetected:{browser:!0,export:!1,server:!1},errorMessage:{browser:!1,export:!1,server:!1},exportBackground:{browser:!0,export:!1,server:!1},exportEmbedScene:{browser:!0,export:!1,server:!1},exportScale:{browser:!0,export:!1,server:!1},exportWithDarkMode:{browser:!0,export:!1,server:!1},fileHandle:{browser:!1,export:!1,server:!1},gridSize:{browser:!0,export:!0,server:!0},height:{browser:!1,export:!1,server:!1},isBindingEnabled:{browser:!1,export:!1,server:!1},isLibraryOpen:{browser:!0,export:!1,server:!1},isLibraryMenuDocked:{browser:!0,export:!1,server:!1},isLoading:{browser:!1,export:!1,server:!1},isResizing:{browser:!1,export:!1,server:!1},isRotating:{browser:!1,export:!1,server:!1},lastPointerDownWith:{browser:!0,export:!1,server:!1},multiElement:{browser:!1,export:!1,server:!1},name:{browser:!0,export:!1,server:!1},offsetLeft:{browser:!1,export:!1,server:!1},offsetTop:{browser:!1,export:!1,server:!1},openMenu:{browser:!0,export:!1,server:!1},openPopup:{browser:!1,export:!1,server:!1},pasteDialog:{browser:!1,export:!1,server:!1},previousSelectedElementIds:{browser:!0,export:!1,server:!1},resizingElement:{browser:!1,export:!1,server:!1},scrolledOutside:{browser:!0,export:!1,server:!1},scrollX:{browser:!0,export:!1,server:!1},scrollY:{browser:!0,export:!1,server:!1},selectedElementIds:{browser:!0,export:!1,server:!1},selectedGroupIds:{browser:!0,export:!1,server:!1},selectionElement:{browser:!1,export:!1,server:!1},shouldCacheIgnoreZoom:{browser:!0,export:!1,server:!1},showHelpDialog:{browser:!1,export:!1,server:!1},showStats:{browser:!0,export:!1,server:!1},startBoundElement:{browser:!1,export:!1,server:!1},suggestedBindings:{browser:!1,export:!1,server:!1},toastMessage:{browser:!1,export:!1,server:!1},viewBackgroundColor:{browser:!0,export:!0,server:!0},width:{browser:!1,export:!1,server:!1},zenModeEnabled:{browser:!0,export:!1,server:!1},zoom:{browser:!0,export:!1,server:!1},viewModeEnabled:{browser:!1,export:!1,server:!1},pendingImageElementId:{browser:!1,export:!1,server:!1},showHyperlinkPopup:{browser:!1,export:!1,server:!1}},te=function(re,ne){var ue,$={},ge=j(Object.keys(re));try{for(ge.s();!(ue=ge.n()).done;){var se=ue.value,S=I[se];if(S!=null&&S[ne]){var F=re[se];$[se]=F}}}catch(h){ge.e(h)}finally{ge.f()}return $},pe=function(re){return te(re,"export")},fe=function(re){return te(re,"server")},W=function(re){return re.activeTool.type==="eraser"}},5674:function(le,K,o){o.d(K,{dz:function(){return S},i$:function(){return ue},ps:function(){return p}});var x=o(1930),i=o(7169),v=o(2577),g=o(56),j=o(8288),y=o(5118),V=o(6954);function ie(_,E){var T=typeof Symbol<"u"&&_[Symbol.iterator]||_["@@iterator"];if(!T){if(Array.isArray(_)||(T=function(D,B){if(D){if(typeof D=="string")return I(D,B);var U=Object.prototype.toString.call(D).slice(8,-1);if(U==="Object"&&D.constructor&&(U=D.constructor.name),U==="Map"||U==="Set")return Array.from(D);if(U==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(U))return I(D,B)}}(_))||E&&_&&typeof _.length=="number"){T&&(_=T);var l=0,m=function(){};return{s:m,n:function(){return l>=_.length?{done:!0}:{done:!1,value:_[l++]}},e:function(D){throw D},f:m}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var c,n=!0,C=!1;return{s:function(){T=T.call(_)},n:function(){var D=T.next();return n=D.done,D},e:function(D){C=!0,c=D},f:function(){try{n||T.return==null||T.return()}finally{if(C)throw c}}}}function I(_,E){(E==null||E>_.length)&&(E=_.length);for(var T=0,l=new Array(E);T<E;T++)l[T]=_[T];return l}function te(_,E){var T=Object.keys(_);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(_);E&&(l=l.filter(function(m){return Object.getOwnPropertyDescriptor(_,m).enumerable})),T.push.apply(T,l)}return T}function pe(_){for(var E=1;E<arguments.length;E++){var T=arguments[E]!=null?arguments[E]:{};E%2?te(Object(T),!0).forEach(function(l){(0,i.Z)(_,l,T[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(T)):te(Object(T)).forEach(function(l){Object.defineProperty(_,l,Object.getOwnPropertyDescriptor(T,l))})}return _}var fe=32,W=12,re=256,ne="NOT_SPREADSHEET",ue="VALID_SPREADSHEET",$=function(_){var E=/^([-+]?)[$€£¥₩]?([-+]?)([\d.,]+)[%]?$/.exec(_);return E?parseFloat("".concat((E[1]||E[2])+E[3]).replace(/,/g,"")):null},ge=function(_,E){return _.slice(1).every(function(T){return $(T[E])!==null})},se=function(_){var E=_[0].length;if(E>2)return{type:ne,reason:"More than 2 columns"};if(E===1){if(!ge(_,0))return{type:ne,reason:"Value is not numeric"};var T=$(_[0][0])===null,l=(T?_.slice(1):_).map(function(b){return $(b[0])});return l.length<2?{type:ne,reason:"Less than two rows"}:{type:ue,spreadsheet:{title:T?_[0][0]:null,labels:null,values:l}}}var m=ge(_,0),c=ge(_,1);if(!m&&!c)return{type:ne,reason:"Value is not numeric"};var n=c?[0,1]:[1,0],C=(0,v.Z)(n,2),D=C[0],B=C[1],U=$(_[0][B])===null,R=U?_.slice(1):_;return R.length<2?{type:ne,reason:"Less than 2 rows"}:{type:ue,spreadsheet:{title:U?_[0][B]:null,labels:R.map(function(b){return b[D]}),values:R.map(function(b){return $(b[B])})}}},S=function(_){var E=_.trim().split(`
`).map(function(c){return c.trim().split("	")});if(E.length&&E[0].length!==2&&(E=_.trim().split(`
`).map(function(c){return c.trim().split(",")})),E.length===0)return{type:ne,reason:"No values"};var T=E[0].length;if(!E.every(function(c){return c.length===T}))return{type:ne,reason:"All rows don't have same number of columns"};var l=se(E);if(l.type!==ue){var m=se(function(c){for(var n=[],C=0;C<c[0].length;C++){for(var D=[],B=0;B<c.length;B++)D.push(c[B][C]);n.push(D)}return n}(E));if(m.type===ue)return m}return l},F=g.Z.elementBackground.slice(2,g.Z.elementBackground.length),h={fillStyle:"hachure",fontFamily:j.rk,fontSize:j.n5,opacity:100,roughness:1,strokeColor:g.Z.elementStroke[0],strokeSharpness:"sharp",strokeStyle:"solid",strokeWidth:1,verticalAlign:j.oX.MIDDLE,locked:!1},u=function(_){return{chartWidth:44*_.values.length+W,chartHeight:280}},O=function(_,E,T,l,m,c){var n=u(_),C=n.chartWidth,D=n.chartHeight,B=_.title?(0,y.VL)(pe(pe({backgroundColor:m,groupIds:[l]},h),{},{text:_.title,x:E+C/2,y:T-re-24-j.n5,strokeSharpness:"sharp",strokeStyle:"solid",textAlign:"center"})):null,U=c?(0,y.Up)(pe(pe({backgroundColor:m,groupIds:[l]},h),{},{type:"rectangle",x:E,y:T-D,width:C,height:D,strokeColor:g.Z.elementStroke[0],fillStyle:"solid",opacity:6})):null;return[].concat((0,x.Z)(U?[U]:[]),(0,x.Z)(B?[B]:[]),(0,x.Z)(function(R,b,M,G,ae){var ce;return((ce=R.labels)===null||ce===void 0?void 0:ce.map(function(J,Y){return(0,y.VL)(pe(pe({groupIds:[G],backgroundColor:ae},h),{},{text:J.length>8?"".concat(J.slice(0,5),"..."):J,x:b+44*Y+24,y:M+6,width:fe,angle:5.87,fontSize:16,textAlign:"center",verticalAlign:"top"}))}))||[]}(_,E,T,l,m)),(0,x.Z)(function(R,b,M,G,ae){var ce=(0,y.VL)(pe(pe({groupIds:[G],backgroundColor:ae},h),{},{x:b-W,y:M-W,text:"0",textAlign:"right"}));return[ce,(0,y.VL)(pe(pe({groupIds:[G],backgroundColor:ae},h),{},{x:b-W,y:M-re-ce.height/2,text:Math.max.apply(Math,(0,x.Z)(R.values)).toLocaleString(),textAlign:"right"}))]}(_,E,T,l,m)),(0,x.Z)(function(R,b,M,G,ae){var ce=u(R),J=ce.chartWidth,Y=ce.chartHeight;return[(0,y.y8)(pe(pe({backgroundColor:ae,groupIds:[G]},h),{},{type:"line",x:b,y:M,startArrowhead:null,endArrowhead:null,width:J,points:[[0,0],[J,0]]})),(0,y.y8)(pe(pe({backgroundColor:ae,groupIds:[G]},h),{},{type:"line",x:b,y:M,startArrowhead:null,endArrowhead:null,height:Y,points:[[0,0],[0,-Y]]})),(0,y.y8)(pe(pe({backgroundColor:ae,groupIds:[G]},h),{},{type:"line",x:b,y:M-re-W,startArrowhead:null,endArrowhead:null,strokeStyle:"dotted",width:J,opacity:50,points:[[0,0],[J,0]]}))]}(_,E,T,l,m)))},p=function(_,E,T,l){return _==="line"?function(m,c,n){var C,D=Math.max.apply(Math,(0,x.Z)(m.values)),B=(0,V.kb)(),U=F[Math.floor(Math.random()*F.length)],R=0,b=[],M=ie(m.values);try{for(M.s();!(C=M.n()).done;){var G=C.value,ae=44*R,ce=-G/D*re;b.push([ae,ce]),R++}}catch(z){M.e(z)}finally{M.f()}var J=Math.max.apply(Math,(0,x.Z)(b.map(function(z){return z[0]}))),Y=Math.max.apply(Math,(0,x.Z)(b.map(function(z){return z[1]}))),oe=Math.min.apply(Math,(0,x.Z)(b.map(function(z){return z[0]}))),xe=Math.min.apply(Math,(0,x.Z)(b.map(function(z){return z[1]}))),L=(0,y.y8)(pe(pe({backgroundColor:U,groupIds:[B]},h),{},{type:"line",x:c+W+16,y:n-W,startArrowhead:null,endArrowhead:null,height:Y-xe,width:J-oe,strokeWidth:2,points:b})),A=m.values.map(function(z,ee){var ke=44*ee+6,Oe=-z/D*re+6;return(0,y.Up)(pe(pe({backgroundColor:U,groupIds:[B]},h),{},{fillStyle:"solid",strokeWidth:2,type:"ellipse",x:c+ke+16,y:n+Oe-24,width:W,height:W}))}),N=m.values.map(function(z,ee){var ke=44*ee+6,Oe=z/D*re+6+W;return(0,y.y8)(pe(pe({backgroundColor:U,groupIds:[B]},h),{},{type:"line",x:c+ke+16+6,y:n-Oe,startArrowhead:null,endArrowhead:null,height:Oe,strokeStyle:"dotted",opacity:50,points:[[0,0],[0,Oe]]}))});return[].concat((0,x.Z)(O(m,c,n,B,U,j.Vi.DEVELOPMENT==="production")),[L],(0,x.Z)(N),(0,x.Z)(A))}(E,T,l):function(m,c,n){var C=Math.max.apply(Math,(0,x.Z)(m.values)),D=(0,V.kb)(),B=F[Math.floor(Math.random()*F.length)],U=m.values.map(function(R,b){var M=R/C*re;return(0,y.Up)(pe(pe({backgroundColor:B,groupIds:[D]},h),{},{type:"rectangle",x:c+44*b+W,y:n-M-W,width:fe,height:M}))});return[].concat((0,x.Z)(U),(0,x.Z)(O(m,c,n,D,B,j.Vi.DEVELOPMENT==="production")))}(E,T,l)}},8982:function(le,K,o){o.d(K,{X:function(){return i},f:function(){return v}});var x=o(56),i=function(g,j){if(j!=null&&j.collaborators){var y=j.collaborators.get(g);if(y!=null&&y.color)return y.color}var V=g.split("").reduce(function(te,pe){return te+pe.charCodeAt(0)},0),ie=x.Z.elementBackground.slice(1),I=x.Z.elementStroke.slice(1);return{background:ie[V%ie.length],stroke:I[V%I.length]}},v=function(g){if(!g)return"?";var j=g.trim().split(" ");if(j.length<2)return j[0].substring(0,2).toUpperCase();var y=j[0],V=j[j.length-1];return(y[0]+V[0]).toUpperCase()}},6665:function(le,K,o){o.d(K,{dd:function(){return S},mQ:function(){return ge},uR:function(){return se},vQ:function(){return ne},vt:function(){return re},wx:function(){return W}});var x=o(7169),i=o(8950),v=o(7945),g=o.n(v),j=o(4162),y=o(5674),V=o(8288),ie=o(1974),I=o(6340),te="",pe=!1,fe="clipboard"in navigator&&"readText"in navigator.clipboard,W="clipboard"in navigator&&"writeText"in navigator.clipboard,re="clipboard"in navigator&&"write"in navigator.clipboard&&"ClipboardItem"in window&&"toBlob"in HTMLCanvasElement.prototype,ne=function(){var h=(0,i.Z)(g().mark(function u(O,p,_){var E,T;return g().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return E={type:V.r8.excalidrawClipboard,elements:O,files:_?O.reduce(function(m,c){return(0,ie.wi)(c)&&_[c.fileId]&&(m[c.fileId]=_[c.fileId]),m},{}):void 0},T=JSON.stringify(E),te=T,l.prev=3,pe=!1,l.next=7,S(T);case 7:l.next=13;break;case 9:l.prev=9,l.t0=l.catch(3),pe=!0,console.error(l.t0);case 13:case"end":return l.stop()}},u,null,[[3,9]])}));return function(u,O,p){return h.apply(this,arguments)}}(),ue=function(){if(!te)return{};try{return JSON.parse(te)}catch(h){return console.error(h),{}}},$=function(){var h=(0,i.Z)(g().mark(function u(O){var p,_;return g().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:if(E.prev=0,!O){E.next=5;break}E.t0=(p=O.clipboardData)===null||p===void 0?void 0:p.getData("text/plain").trim(),E.next=11;break;case 5:if(E.t1=fe,!E.t1){E.next=10;break}return E.next=9,navigator.clipboard.readText();case 9:E.t1=E.sent;case 10:E.t0=E.t1;case 11:return _=E.t0,E.abrupt("return",_||"");case 15:return E.prev=15,E.t2=E.catch(0),E.abrupt("return","");case 18:case"end":return E.stop()}},u,null,[[0,15]])}));return function(u){return h.apply(this,arguments)}}(),ge=function(){var h=(0,i.Z)(g().mark(function u(O){var p,_,E,T;return g().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,$(O);case 2:if((p=l.sent)&&!p.includes(j.oj)){l.next=5;break}return l.abrupt("return",ue());case 5:if(c=p,n=void 0,n=(0,y.dz)(c),!(_=n.type===y.i$?{spreadsheet:n.spreadsheet}:null)){l.next=8;break}return l.abrupt("return",_);case 8:if(E=ue(),l.prev=9,T=JSON.parse(p),m=T,![V.r8.excalidraw,V.r8.excalidrawClipboard].includes(m==null?void 0:m.type)||!Array.isArray(m.elements)){l.next=13;break}return l.abrupt("return",{elements:T.elements,files:T.files});case 13:return l.abrupt("return",E);case 16:return l.prev=16,l.t0=l.catch(9),l.abrupt("return",pe&&E.elements?E:{text:p});case 19:case"end":return l.stop()}var m,c,n},u,null,[[9,16]])}));return function(u){return h.apply(this,arguments)}}(),se=function(){var h=(0,i.Z)(g().mark(function u(O){var p;return g().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:_.prev=0,p=navigator.clipboard.write([new window.ClipboardItem((0,x.Z)({},V.LO.png,O))]),_.next=23;break;case 4:if(_.prev=4,_.t0=_.catch(0),!(0,I.y8)(O)){_.next=22;break}return _.t1=navigator.clipboard,_.t2=window.ClipboardItem,_.t3=x.Z,_.t4={},_.t5=V.LO.png,_.next=14,O;case 14:return _.t6=_.sent,_.t7=(0,_.t3)(_.t4,_.t5,_.t6),_.t8=new _.t2(_.t7),_.t9=[_.t8],_.next=20,_.t1.write.call(_.t1,_.t9);case 20:_.next=23;break;case 22:throw _.t0;case 23:return _.next=25,p;case 25:case"end":return _.stop()}},u,null,[[0,4]])}));return function(u){return h.apply(this,arguments)}}(),S=function(){var h=(0,i.Z)(g().mark(function u(O){var p;return g().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:if(p=!1,!W){_.next=11;break}return _.prev=2,_.next=5,navigator.clipboard.writeText(O||"");case 5:p=!0,_.next=11;break;case 8:_.prev=8,_.t0=_.catch(2),console.error(_.t0);case 11:if(p||F(O||" ")){_.next=13;break}throw new Error("couldn't copy");case 13:case"end":return _.stop()}},u,null,[[2,8]])}));return function(u){return h.apply(this,arguments)}}(),F=function(h){var u=document.documentElement.getAttribute("dir")==="rtl",O=document.createElement("textarea");O.style.border="0",O.style.padding="0",O.style.margin="0",O.style.position="absolute",O.style[u?"right":"left"]="-9999px";var p=window.pageYOffset||document.documentElement.scrollTop;O.style.top="".concat(p,"px"),O.style.fontSize="12pt",O.setAttribute("readonly",""),O.value=h,document.body.appendChild(O);var _=!1;try{O.select(),O.setSelectionRange(0,O.value.length),_=document.execCommand("copy")}catch(E){console.error(E)}return O.remove(),_}},56:function(le,K,o){var x=o(1930),i=o(5284),v=function(g){return[i.red[g],i.pink[g],i.grape[g],i.violet[g],i.indigo[g],i.blue[g],i.cyan[g],i.teal[g],i.green[g],i.lime[g],i.yellow[g],i.orange[g]]};K.Z={canvasBackground:[i.white,i.gray[0],i.gray[1]].concat((0,x.Z)(v(0))),elementBackground:["transparent",i.gray[4],i.gray[6]].concat((0,x.Z)(v(6))),elementStroke:[i.black,i.gray[8],i.gray[7]].concat((0,x.Z)(v(9)))}},9660:function(le,K,o){o.d(K,{ZP:function(){return Ka},Fy:function(){return Fn},J0:function(){return Uo}});var x=o(6655),i=o(2577),v=o(1930),g=o(8950),j=o(7169),y=o(8821),V=o(5169),ie=o(3173),I=o(2248),te=o(7245),pe=o(2312),fe=o(7945),W=o.n(fe),re=o(9787),ne=o.n(re),ue=o(8234),$=o(45),ge=o(5605),se=o(75),S=o(6066),F=o(1319),h=o(3646),u=o(8211),O=o(7901),p=o(5118),_=o(1935),E=o(242),T=o(6938),l=o(8290),m=o(1974),c=o(6340),n=o(4512);function C(e,a){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);a&&(d=d.filter(function(Z){return Object.getOwnPropertyDescriptor(e,Z).enumerable})),s.push.apply(s,d)}return s}function D(e){for(var a=1;a<arguments.length;a++){var s=arguments[a]!=null?arguments[a]:{};a%2?C(Object(s),!0).forEach(function(d){(0,j.Z)(e,d,s[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):C(Object(s)).forEach(function(d){Object.defineProperty(e,d,Object.getOwnPropertyDescriptor(s,d))})}return e}var B=function(e,a){if(e.editingGroupId){var s=(0,E.Fb)((0,p.Lm)(a),e.editingGroupId);if(s.length)return D(D({},e),{},{selectedElementIds:(0,j.Z)({},s[0].id,!0)})}return e},U=(0,O.z)({name:"deleteSelectedElements",trackEvent:{category:"element",action:"delete"},perform:function(e,a){if(a.editingLinearElement){var s=a.editingLinearElement,d=s.elementId,Z=s.selectedPointsIndices,k=s.startBindingElement,w=s.endBindingElement,X=T._.getElement(d);if(!X)return!1;if(Z==null||X.points.length<2){var q=e.filter(function(Fe){return Fe.id!==X.id});return{elements:q,appState:D(D({},B(a,q)),{},{editingLinearElement:null}),commitToHistory:!1}}var Se={startBindingElement:Z!=null&&Z.includes(0)?null:k,endBindingElement:Z!=null&&Z.includes(X.points.length-1)?null:w};return T._.deletePoints(X,Z),{elements:e,appState:D(D({},a),{},{editingLinearElement:D(D(D({},a.editingLinearElement),Se),{},{selectedPointsIndices:(Z==null?void 0:Z[0])>0?[Z[0]-1]:[0]})}),commitToHistory:!0}}var ve=function(Fe,Ue){return{elements:Fe.map(function(Ke){return Ue.selectedElementIds[Ke.id]||(0,m.Xh)(Ke)&&Ue.selectedElementIds[Ke.containerId]?(0,_.BE)(Ke,{isDeleted:!0}):Ke}),appState:D(D({},Ue),{},{selectedElementIds:{}})}}(e,a),Ie=ve.elements,Ae=ve.appState;return(0,l.$q)(Ie,e.filter(function(Fe){var Ue=Fe.id;return a.selectedElementIds[Ue]})),{elements:Ie,appState:D(D({},Ae=B(Ae,Ie)),{},{activeTool:(0,c.Om)(a,{type:"selection"}),multiElement:null}),commitToHistory:(0,se.N)((0,p.Lm)(e),a)}},contextItemLabel:"labels.delete",keyTest:function(e){return e.key===S.tW.BACKSPACE||e.key===S.tW.DELETE},PanelComponent:function(e){var a=e.elements,s=e.appState,d=e.updateData;return(0,n.jsx)(F.V,{type:"button",icon:h._I,title:(0,u.t)("labels.delete"),"aria-label":(0,u.t)("labels.delete"),onClick:function(){return d(null)},visible:(0,se.N)((0,p.Lm)(a),s)})}}),R=o(1564),b=function(e,a){for(var s=[],d=[],Z=null,k=-1,w=(0,c.xn)((0,se.eD)(e,a,!0));++k<e.length;)w.get(e[k].id)?(d.length&&(s=s.concat(d),d=[]),s.push(k),Z=k+1):e[k].isDeleted&&Z===k?(Z=k+1,d.push(k)):d=[];return s},M=function(e,a,s){if("containerId"in e&&e.containerId){if(s!=="left")return a.indexOf(e);var d=R.Z.getScene(e).getElement(e.containerId);if(d)return a.indexOf(d)}else{var Z,k,w=(Z=e.boundElements)===null||Z===void 0||(k=Z.find(function(q){return q.type!=="arrow"}))===null||k===void 0?void 0:k.id;if(w){if(s==="left")return a.indexOf(e);var X=R.Z.getScene(e).getElement(w);if(X)return a.indexOf(X)}}},G=function(e,a){return a.reduce(function(s,d){var Z=e[d];return s[Z.id]=Z,s},{})},ae=function(e,a,s){var d,Z,k=b(a,e),w=G(a,k),X=(Z=0,(d=k).reduce(function(q,Se,ve){return ve>0&&d[ve-1]!==Se-1&&(Z=++Z),(q[Z]||(q[Z]=[])).push(Se),q},[]));return s==="right"&&(X=X.reverse()),X.forEach(function(q,Se){var ve=q[0],Ie=q[q.length-1],Ae=s==="left"?ve:Ie,Fe=function(Qe,$e,rt,jt){var At,St=$e[rt],wt=function(yn){return!yn.isDeleted&&(!Qe.editingGroupId||yn.groupIds.includes(Qe.editingGroupId))},_t=jt==="left"?(0,c.qr)($e,wt,Math.max(0,rt-1)):(0,c.cx)($e,wt,rt+1),bt=$e[_t];if(!bt)return-1;if(Qe.editingGroupId){var en;if((St==null?void 0:St.groupIds.join(""))===(bt==null?void 0:bt.groupIds.join("")))return(en=M(bt,$e,jt))!==null&&en!==void 0?en:_t;if(bt==null||!bt.groupIds.includes(Qe.editingGroupId))return-1}if(!bt.groupIds.length)return(At=M(bt,$e,jt))!==null&&At!==void 0?At:_t;var Et=Qe.editingGroupId?bt.groupIds[bt.groupIds.indexOf(Qe.editingGroupId)-1]:bt.groupIds[bt.groupIds.length-1],cn=(0,E.Fb)($e,Et);return cn.length?jt==="left"?$e.indexOf(cn[0]):$e.indexOf(cn[cn.length-1]):_t}(e,a,Ae,s);if(Fe!==-1&&Ae!==Fe){var Ue=s==="left"?a.slice(0,Fe):a.slice(0,ve),Ke=a.slice(ve,Ie+1),tt=s==="left"?a.slice(Fe,ve):a.slice(Ie+1,Fe+1),qe=s==="left"?a.slice(Ie+1):a.slice(Fe+1);a=s==="left"?[].concat((0,v.Z)(Ue),(0,v.Z)(Ke),(0,v.Z)(tt),(0,v.Z)(qe)):[].concat((0,v.Z)(Ue),(0,v.Z)(tt),(0,v.Z)(Ke),(0,v.Z)(qe))}}),a.map(function(q){return w[q.id]?(0,_.ZP)(q):q})},ce=function(e,a,s){var d,Z,k=b(e,a),w=G(e,k),X=[];if(s==="left"){if(a.editingGroupId){var q=(0,E.Fb)(e,a.editingGroupId);if(!q.length)return e;d=e.indexOf(q[0])}else d=0;Z=k[k.length-1]}else{if(a.editingGroupId){var Se=(0,E.Fb)(e,a.editingGroupId);if(!Se.length)return e;Z=e.indexOf(Se[Se.length-1])}else Z=e.length-1;d=k[0]}for(var ve=d;ve<Z+1;ve++)k.includes(ve)||X.push(e[ve]);var Ie=Object.values(w).map(function(Ue){return(0,_.ZP)(Ue)}),Ae=e.slice(0,d),Fe=e.slice(Z+1);return s==="left"?[].concat((0,v.Z)(Ae),(0,v.Z)(Ie),X,(0,v.Z)(Fe)):[].concat((0,v.Z)(Ae),X,(0,v.Z)(Ie),(0,v.Z)(Fe))},J=function(e,a){return ae(a,e,"left")},Y=function(e,a){return ae(a,e,"right")},oe=function(e,a){return ce(e,a,"left")},xe=function(e,a){return ce(e,a,"right")},L=(0,O.z)({name:"sendBackward",trackEvent:{category:"element"},perform:function(e,a){return{elements:J(e,a),appState:a,commitToHistory:!0}},contextItemLabel:"labels.sendBackward",keyPriority:40,keyTest:function(e){return e[S.tW.CTRL_OR_CMD]&&!e.shiftKey&&e.code===S.aU.BRACKET_LEFT},PanelComponent:function(e){var a=e.updateData,s=e.appState;return(0,n.jsx)("button",{type:"button",className:"zIndexButton",onClick:function(){return a(null)},title:"".concat((0,u.t)("labels.sendBackward")," — ").concat((0,c.uY)("CtrlOrCmd+[")),children:(0,n.jsx)(h.Gc,{theme:s.theme})})}}),A=(0,O.z)({name:"bringForward",trackEvent:{category:"element"},perform:function(e,a){return{elements:Y(e,a),appState:a,commitToHistory:!0}},contextItemLabel:"labels.bringForward",keyPriority:40,keyTest:function(e){return e[S.tW.CTRL_OR_CMD]&&!e.shiftKey&&e.code===S.aU.BRACKET_RIGHT},PanelComponent:function(e){var a=e.updateData,s=e.appState;return(0,n.jsx)("button",{type:"button",className:"zIndexButton",onClick:function(){return a(null)},title:"".concat((0,u.t)("labels.bringForward")," — ").concat((0,c.uY)("CtrlOrCmd+]")),children:(0,n.jsx)(h.t5,{theme:s.theme})})}}),N=(0,O.z)({name:"sendToBack",trackEvent:{category:"element"},perform:function(e,a){return{elements:oe(e,a),appState:a,commitToHistory:!0}},contextItemLabel:"labels.sendToBack",keyTest:function(e){return S.Um?e[S.tW.CTRL_OR_CMD]&&e.altKey&&e.code===S.aU.BRACKET_LEFT:e[S.tW.CTRL_OR_CMD]&&e.shiftKey&&e.code===S.aU.BRACKET_LEFT},PanelComponent:function(e){var a=e.updateData,s=e.appState;return(0,n.jsx)("button",{type:"button",className:"zIndexButton",onClick:function(){return a(null)},title:"".concat((0,u.t)("labels.sendToBack")," — ").concat(S.Um?(0,c.uY)("CtrlOrCmd+Alt+["):(0,c.uY)("CtrlOrCmd+Shift+[")),children:(0,n.jsx)(h.pw,{theme:s.theme})})}}),z=(0,O.z)({name:"bringToFront",trackEvent:{category:"element"},perform:function(e,a){return{elements:xe(e,a),appState:a,commitToHistory:!0}},contextItemLabel:"labels.bringToFront",keyTest:function(e){return S.Um?e[S.tW.CTRL_OR_CMD]&&e.altKey&&e.code===S.aU.BRACKET_RIGHT:e[S.tW.CTRL_OR_CMD]&&e.shiftKey&&e.code===S.aU.BRACKET_RIGHT},PanelComponent:function(e){var a=e.updateData,s=e.appState;return(0,n.jsx)("button",{type:"button",className:"zIndexButton",onClick:function(d){return a(null)},title:"".concat((0,u.t)("labels.bringToFront")," — ").concat(S.Um?(0,c.uY)("CtrlOrCmd+Alt+]"):(0,c.uY)("CtrlOrCmd+Shift+]")),children:(0,n.jsx)(h.IN,{theme:s.theme})})}});function ee(e,a){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);a&&(d=d.filter(function(Z){return Object.getOwnPropertyDescriptor(e,Z).enumerable})),s.push.apply(s,d)}return s}function ke(e){for(var a=1;a<arguments.length;a++){var s=arguments[a]!=null?arguments[a]:{};a%2?ee(Object(s),!0).forEach(function(d){(0,j.Z)(e,d,s[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):ee(Object(s)).forEach(function(d){Object.defineProperty(e,d,Object.getOwnPropertyDescriptor(s,d))})}return e}var Oe=(0,O.z)({name:"selectAll",trackEvent:{category:"canvas"},perform:function(e,a){return!a.editingLinearElement&&{appState:(0,E.bO)(ke(ke({},a),{},{editingGroupId:null,selectedElementIds:e.reduce(function(s,d){return d.isDeleted||(0,p.iB)(d)&&d.containerId||d.locked!==!1||(s[d.id]=!0),s},{})}),(0,p.Lm)(e)),commitToHistory:!0}},contextItemLabel:"labels.selectAll",keyTest:function(e){return e[S.tW.CTRL_OR_CMD]&&e.key===S.tW.A}}),Q=o(8288),Ce=o(5710);function Ne(e,a){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);a&&(d=d.filter(function(Z){return Object.getOwnPropertyDescriptor(e,Z).enumerable})),s.push.apply(s,d)}return s}function ze(e){for(var a=1;a<arguments.length;a++){var s=arguments[a]!=null?arguments[a]:{};a%2?Ne(Object(s),!0).forEach(function(d){(0,j.Z)(e,d,s[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Ne(Object(s)).forEach(function(d){Object.defineProperty(e,d,Object.getOwnPropertyDescriptor(s,d))})}return e}var ot=(0,O.z)({name:"duplicateSelection",trackEvent:{category:"element"},perform:function(e,a){if(a.editingLinearElement){var s=T._.duplicateSelectedPoints(a);return!!s&&{elements:e,appState:s.appState,commitToHistory:!0}}return ze(ze({},P(e,a)),{},{commitToHistory:!0})},contextItemLabel:"labels.duplicateSelection",keyTest:function(e){return e[S.tW.CTRL_OR_CMD]&&e.key===S.tW.D},PanelComponent:function(e){var a=e.elements,s=e.appState,d=e.updateData;return(0,n.jsx)(F.V,{type:"button",icon:h.d9,title:"".concat((0,u.t)("labels.duplicateSelection")," — ").concat((0,c.uY)("CtrlOrCmd+D")),"aria-label":(0,u.t)("labels.duplicateSelection"),onClick:function(){return d(null)},visible:(0,se.N)((0,p.Lm)(a),s)})}}),P=function(e,a){for(var s=new Map,d=[],Z=[],k=new Map,w=function(Fe){var Ue=(0,p.Sy)(a.editingGroupId,s,Fe,{x:Fe.x+Q.k/2,y:Fe.y+Q.k/2});return k.set(Fe.id,Ue.id),Z.push(Fe),d.push(Ue),Ue},X=[],q=0,Se=(0,c.xn)((0,se.eD)(e,a,!0));q<e.length;){var ve=e[q];if(Se.get(ve.id)){if(ve.groupIds.length){var Ie=(0,E.yO)(a,ve);if(Ie){var Ae=(0,E.Fb)(e,Ie);X.push.apply(X,(0,v.Z)(Ae).concat((0,v.Z)(Ae.map(function(Fe){return w(Fe)})))),q+=Ae.length;continue}}X.push(ve,w(ve))}else X.push(ve);q++}return(0,Ce.P7)(X,Z,k),(0,l.ek)(X,Z,k),{elements:X,appState:(0,E.bO)(ze(ze({},a),{},{selectedGroupIds:{},selectedElementIds:d.reduce(function(Fe,Ue){return(0,m.Xh)(Ue)||(Fe[Ue.id]=!0),Fe},{})}),(0,p.Lm)(X))}},ye=(o(3917),o(828),o(6552));function me(e,a){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);a&&(d=d.filter(function(Z){return Object.getOwnPropertyDescriptor(e,Z).enumerable})),s.push.apply(s,d)}return s}function Pe(e){for(var a=1;a<arguments.length;a++){var s=arguments[a]!=null?arguments[a]:{};a%2?me(Object(s),!0).forEach(function(d){(0,j.Z)(e,d,s[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):me(Object(s)).forEach(function(d){Object.defineProperty(e,d,Object.getOwnPropertyDescriptor(s,d))})}return e}var Ze=(0,O.z)({name:"finalize",trackEvent:!1,perform:function(e,a,s,d){var Z,k=d.canvas,w=d.focusContainer,X=d.scene;if(a.editingLinearElement){var q=a.editingLinearElement,Se=q.elementId,ve=q.startBindingElement,Ie=q.endBindingElement,Ae=T._.getElement(Se);if(Ae)return(0,m.Mn)(Ae)&&(0,l.HG)(Ae,ve,Ie),{elements:Ae.points.length<2||(0,p.QD)(Ae)?e.filter(function(bt){return bt.id!==Ae.id}):void 0,appState:Pe(Pe({},a),{},{cursorButton:"up",editingLinearElement:null}),commitToHistory:!0}}var Fe=e,Ue=a.pendingImageElementId&&X.getElement(a.pendingImageElementId);Ue&&(0,_.DR)(Ue,{isDeleted:!0},!1),window.document.activeElement instanceof HTMLElement&&w();var Ke,tt=a.multiElement?a.multiElement:((Z=a.editingElement)===null||Z===void 0?void 0:Z.type)==="freedraw"?a.editingElement:null;if(tt){if(tt.type!=="freedraw"&&a.lastPointerDownWith!=="touch"){var qe=tt.points,Qe=tt.lastCommittedPoint;Qe&&qe[qe.length-1]===Qe||(0,_.DR)(tt,{points:tt.points.slice(0,-1)})}(0,p.QD)(tt)&&(Fe=Fe.slice(0,-1));var $e=(0,ye.g6)(tt.points,a.zoom.value);if((tt.type==="line"||tt.type==="freedraw")&&$e){var rt=tt.points,jt=rt[0];(0,_.DR)(tt,{points:rt.map(function(bt,en){return en===rt.length-1?[jt[0],jt[1]]:bt})})}if((0,m.Mn)(tt)&&!$e&&tt.points.length>1){var At=T._.getPointAtIndexGlobalCoordinates(tt,-1),St=(0,i.Z)(At,2),wt=St[0],_t=St[1];(0,l.R)(tt,a,R.Z.getScene(tt),{x:wt,y:_t})}a.activeTool.locked||a.activeTool.type==="freedraw"||(a.selectedElementIds[tt.id]=!0)}return(a.activeTool.locked||a.activeTool.type==="freedraw")&&tt||(0,c.z8)(k),Ke=a.activeTool.type==="eraser"?(0,c.Om)(a,Pe(Pe({},a.activeTool.lastActiveToolBeforeEraser||{type:"selection"}),{},{lastActiveToolBeforeEraser:null})):(0,c.Om)(a,{type:"selection"}),{elements:Fe,appState:Pe(Pe({},a),{},{cursorButton:"up",activeTool:(a.activeTool.locked||a.activeTool.type==="freedraw")&&tt?a.activeTool:Ke,draggingElement:null,multiElement:null,editingElement:null,startBoundElement:null,suggestedBindings:[],selectedElementIds:tt&&!a.activeTool.locked&&a.activeTool.type!=="freedraw"?Pe(Pe({},a.selectedElementIds),{},(0,j.Z)({},tt.id,!0)):a.selectedElementIds,pendingImageElementId:null}),commitToHistory:a.activeTool.type==="freedraw"}},keyTest:function(e,a){return e.key===S.tW.ESCAPE&&(a.editingLinearElement!==null||!a.draggingElement&&a.multiElement===null)||(e.key===S.tW.ESCAPE||e.key===S.tW.ENTER)&&a.multiElement!==null},PanelComponent:function(e){var a=e.appState,s=e.updateData,d=e.data;return(0,n.jsx)(F.V,{type:"button",icon:h.$c,title:(0,u.t)("buttons.done"),"aria-label":(0,u.t)("buttons.done"),onClick:s,visible:a.multiElement!=null,size:(d==null?void 0:d.size)||"medium"})}}),Je=(o(518),o(9966),function(e){var a=Uo().id,s=(0,re.useState)(e.value),d=(0,i.Z)(s,2),Z=d[0],k=d[1];return(0,n.jsxs)("div",{className:"ProjectName",children:[(0,n.jsx)("label",{className:"ProjectName-label",htmlFor:"filename",children:"".concat(e.label).concat(e.isNameEditable?"":":")}),e.isNameEditable?(0,n.jsx)("input",{type:"text",className:"TextInput",onBlur:function(w){(0,c.qz)(w.target);var X=w.target.value;X!==e.value&&e.onChange(X)},onKeyDown:function(w){if(w.key==="Enter"){if(w.preventDefault(),w.nativeEvent.isComposing||w.keyCode===229)return;w.currentTarget.blur()}},id:"".concat(a,"-filename"),value:Z,onChange:function(w){return k(w.target.value)}}):(0,n.jsx)("span",{className:"TextInput TextInput--readonly",id:"".concat(a,"-filename"),children:e.value})]})}),nt=(o(5422),o(9910)),ft=o(4041),pt=o(6665),et=o(4162),he=o(434),de=o(1393),_e=o(5523),we=function(){var e=(0,g.Z)(W().mark(function a(s,d,Z,k,w){var X,q,Se,ve,Ie,Ae,Fe,Ue,Ke,tt,qe;return W().wrap(function(Qe){for(;;)switch(Qe.prev=Qe.next){case 0:if(X=w.exportBackground,q=w.exportPadding,Se=q===void 0?Q.qy:q,ve=w.viewBackgroundColor,Ie=w.name,Ae=w.fileHandle,Fe=Ae===void 0?null:Ae,d.length!==0){Qe.next=3;break}throw new Error((0,u.t)("alerts.cannotExportEmptyCanvas"));case 3:if(s!=="svg"&&s!=="clipboard-svg"){Qe.next=17;break}return Qe.next=6,(0,et.$D)(d,{exportBackground:X,exportWithDarkMode:Z.exportWithDarkMode,viewBackgroundColor:ve,exportPadding:Se,exportScale:Z.exportScale,exportEmbedScene:Z.exportEmbedScene&&s==="svg"},k);case 6:if(Ue=Qe.sent,s!=="svg"){Qe.next=13;break}return Qe.next=10,(0,de.NL)(new Blob([Ue.outerHTML],{type:Q.LO.svg}),{description:"Export to SVG",name:Ie,extension:Z.exportEmbedScene?"excalidraw.svg":"svg",fileHandle:Fe});case 10:return Qe.abrupt("return",Qe.sent);case 13:if(s!=="clipboard-svg"){Qe.next=17;break}return Qe.next=16,(0,pt.dd)(Ue.outerHTML);case 16:return Qe.abrupt("return");case 17:return Qe.next=19,(0,et.NL)(d,Z,k,{exportBackground:X,viewBackgroundColor:ve,exportPadding:Se});case 19:if((Ke=Qe.sent).style.display="none",document.body.appendChild(Ke),s!=="png"){Qe.next=38;break}return Qe.next=25,(0,he._c)(Ke);case 25:if(tt=Qe.sent,Ke.remove(),!Z.exportEmbedScene){Qe.next=33;break}return Qe.next=30,Promise.resolve().then(o.bind(o,673));case 30:return Qe.next=32,Qe.sent.encodePngMetadata({blob:tt,metadata:(0,_e.I_)(d,Z,k,"local")});case 32:tt=Qe.sent;case 33:return Qe.next=35,(0,de.NL)(tt,{description:"Export to PNG",name:Ie,extension:Z.exportEmbedScene?"excalidraw.png":"png",fileHandle:Fe});case 35:return Qe.abrupt("return",Qe.sent);case 38:if(s!=="clipboard"){Qe.next=55;break}return Qe.prev=39,qe=(0,he._c)(Ke),Qe.next=43,(0,pt.uR)(qe);case 43:Qe.next=50;break;case 45:if(Qe.prev=45,Qe.t0=Qe.catch(39),Qe.t0.name!=="CANVAS_POSSIBLY_TOO_BIG"){Qe.next=49;break}throw Qe.t0;case 49:throw new Error((0,u.t)("alerts.couldNotCopyToClipboard"));case 50:return Qe.prev=50,Ke.remove(),Qe.finish(50);case 53:Qe.next=57;break;case 55:throw Ke.remove(),new Error("Unsupported export type");case 57:case"end":return Qe.stop()}},a,null,[[39,45,50,53]])}));return function(a,s,d,Z,k){return e.apply(this,arguments)}}();function Me(e,a){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);a&&(d=d.filter(function(Z){return Object.getOwnPropertyDescriptor(e,Z).enumerable})),s.push.apply(s,d)}return s}function Te(e){for(var a=1;a<arguments.length;a++){var s=arguments[a]!=null?arguments[a]:{};a%2?Me(Object(s),!0).forEach(function(d){(0,j.Z)(e,d,s[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Me(Object(s)).forEach(function(d){Object.defineProperty(e,d,Object.getOwnPropertyDescriptor(s,d))})}return e}var Le=function(){var e=(0,g.Z)(W().mark(function a(s,d,Z){var k,w,X,q,Se,ve;return W().wrap(function(Ie){for(;;)switch(Ie.prev=Ie.next){case 0:if(w=(k=d).exportBackground,X=k.viewBackgroundColor,q=k.name,Se=k.fileHandle,ve=(0,he.Qk)(Se),Se&&(0,he.DQ)(ve)){Ie.next=4;break}throw new Error("fileHandle should exist and should be of type svg or png when resaving");case 4:return d=Te(Te({},d),{},{exportEmbedScene:!0}),Ie.next=7,we(ve,(0,p.Lm)(s),d,Z,{exportBackground:w,viewBackgroundColor:X,name:q,fileHandle:Se});case 7:return Ie.abrupt("return",{fileHandle:Se});case 8:case"end":return Ie.stop()}},a)}));return function(a,s,d){return e.apply(this,arguments)}}(),Be=(o(7225),function(e){var a=e.children,s=e.checked,d=e.onChange,Z=e.className;return(0,n.jsxs)("div",{className:(0,$.Z)("Checkbox",Z,{"is-checked":s}),onClick:function(k){d(!s,k),k.currentTarget.querySelector(".Checkbox-box").focus()},children:[(0,n.jsx)("button",{className:"Checkbox-box",role:"checkbox","aria-checked":s,children:h.eQ}),(0,n.jsx)("div",{className:"Checkbox-label",children:a})]})});o(4623);function We(e,a){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);a&&(d=d.filter(function(Z){return Object.getOwnPropertyDescriptor(e,Z).enumerable})),s.push.apply(s,d)}return s}function Ge(e){for(var a=1;a<arguments.length;a++){var s=arguments[a]!=null?arguments[a]:{};a%2?We(Object(s),!0).forEach(function(d){(0,j.Z)(e,d,s[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):We(Object(s)).forEach(function(d){Object.defineProperty(e,d,Object.getOwnPropertyDescriptor(s,d))})}return e}var it=function(e){var a=e.children,s=e.gap,d=e.align,Z=e.justifyContent,k=e.className,w=e.style;return(0,n.jsx)("div",{className:(0,$.Z)("Stack Stack_horizontal",k),style:Ge({"--gap":s,alignItems:d,justifyContent:Z},w),children:a})},Re=function(e){var a=e.children,s=e.gap,d=e.align,Z=e.justifyContent,k=e.className,w=e.style;return(0,n.jsx)("div",{className:(0,$.Z)("Stack Stack_vertical",k),style:Ge({"--gap":s,justifyItems:d,justifyContent:Z},w),children:a})},Xe=(o(554),function(e){var a=e.fileName,s=e.onSave;return(0,n.jsxs)(it,{className:"ActiveFile",gap:1,align:"center",children:[(0,n.jsxs)("span",{className:"ActiveFile__fileName",children:[h.tP,(0,n.jsx)("span",{children:a})]}),(0,n.jsx)(F.V,{type:"icon",icon:h.a1,title:(0,u.t)("buttons.save"),"aria-label":(0,u.t)("buttons.save"),onClick:s,"data-testid":"save-button"})]})});function xt(e,a){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);a&&(d=d.filter(function(Z){return Object.getOwnPropertyDescriptor(e,Z).enumerable})),s.push.apply(s,d)}return s}function st(e){for(var a=1;a<arguments.length;a++){var s=arguments[a]!=null?arguments[a]:{};a%2?xt(Object(s),!0).forEach(function(d){(0,j.Z)(e,d,s[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):xt(Object(s)).forEach(function(d){Object.defineProperty(e,d,Object.getOwnPropertyDescriptor(s,d))})}return e}(0,O.z)({name:"changeProjectName",trackEvent:!1,perform:function(e,a,s){return{appState:st(st({},a),{},{name:s}),commitToHistory:!1}},PanelComponent:function(e){var a=e.appState,s=e.updateData,d=e.appProps;return(0,n.jsx)(Je,{label:(0,u.t)("labels.fileTitle"),value:a.name||"Unnamed",onChange:function(Z){return s(Z)},isNameEditable:d.name===void 0&&!a.viewModeEnabled})}}),(0,O.z)({name:"changeExportScale",trackEvent:{category:"export",action:"scale"},perform:function(e,a,s){return{appState:st(st({},a),{},{exportScale:s}),commitToHistory:!1}},PanelComponent:function(e){var a=e.elements,s=e.appState,d=e.updateData,Z=(0,p.Lm)(a),k=(0,se.N)(Z,s)?(0,se.eD)(Z,s):Z;return(0,n.jsx)(n.Fragment,{children:Q.ZB.map(function(w){var X=(0,et.Cg)(k,Q.qy,w),q=(0,i.Z)(X,2),Se=q[0],ve=q[1],Ie="".concat((0,u.t)("buttons.scale")," ").concat(w,"x (").concat(Se,"x").concat(ve,")");return(0,n.jsx)(F.V,{size:"small",type:"radio",icon:"".concat(w,"x"),name:"export-canvas-scale",title:Ie,"aria-label":Ie,id:"export-canvas-scale",checked:w===s.exportScale,onChange:function(){return d(w)}},w)})})}}),(0,O.z)({name:"changeExportBackground",trackEvent:{category:"export",action:"toggleBackground"},perform:function(e,a,s){return{appState:st(st({},a),{},{exportBackground:s}),commitToHistory:!1}},PanelComponent:function(e){var a=e.appState,s=e.updateData;return(0,n.jsx)(Be,{checked:a.exportBackground,onChange:function(d){return s(d)},children:(0,u.t)("labels.withBackground")})}}),(0,O.z)({name:"changeExportEmbedScene",trackEvent:{category:"export",action:"embedScene"},perform:function(e,a,s){return{appState:st(st({},a),{},{exportEmbedScene:s}),commitToHistory:!1}},PanelComponent:function(e){var a=e.appState,s=e.updateData;return(0,n.jsxs)(Be,{checked:a.exportEmbedScene,onChange:function(d){return s(d)},children:[(0,u.t)("labels.exportEmbedScene"),(0,n.jsx)(nt.u,{label:(0,u.t)("labels.exportEmbedScene_details"),long:!0,children:(0,n.jsx)("div",{className:"excalidraw-tooltip-icon",children:h.Vl})})]})}}),(0,O.z)({name:"saveToActiveFile",trackEvent:{category:"export"},perform:(Ot=(0,g.Z)(W().mark(function e(a,s,d,Z){var k,w,X;return W().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:if(k=!!s.fileHandle,q.prev=1,!(0,he.g8)(s.fileHandle)){q.next=8;break}return q.next=5,Le(a,s,Z.files);case 5:q.t0=q.sent,q.next=11;break;case 8:return q.next=10,(0,_e.Um)(a,s,Z.files);case 10:q.t0=q.sent;case 11:return w=q.t0,X=w.fileHandle,q.abrupt("return",{commitToHistory:!1,appState:st(st({},s),{},{fileHandle:X,toastMessage:k?X!=null&&X.name?(0,u.t)("toast.fileSavedToFilename").replace("{filename}",'"'.concat(X.name,'"')):(0,u.t)("toast.fileSaved"):null})});case 16:return q.prev=16,q.t1=q.catch(1),(q.t1===null||q.t1===void 0?void 0:q.t1.name)!=="AbortError"?console.error(q.t1):console.warn(q.t1),q.abrupt("return",{commitToHistory:!1});case 20:case"end":return q.stop()}},e,null,[[1,16]])})),function(e,a,s,d){return Ot.apply(this,arguments)}),keyTest:function(e){return e.key===S.tW.S&&e[S.tW.CTRL_OR_CMD]&&!e.shiftKey},PanelComponent:function(e){var a,s=e.updateData,d=e.appState;return(0,n.jsx)(Xe,{onSave:function(){return s(null)},fileName:(a=d.fileHandle)===null||a===void 0?void 0:a.name})}});var Ot,gt,kt,It=(0,O.z)({name:"saveFileToDisk",trackEvent:{category:"export"},perform:(gt=(0,g.Z)(W().mark(function e(a,s,d,Z){var k,w;return W().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:return X.prev=0,X.next=3,(0,_e.Um)(a,st(st({},s),{},{fileHandle:null}),Z.files);case 3:return k=X.sent,w=k.fileHandle,X.abrupt("return",{commitToHistory:!1,appState:st(st({},s),{},{fileHandle:w})});case 8:return X.prev=8,X.t0=X.catch(0),(X.t0===null||X.t0===void 0?void 0:X.t0.name)!=="AbortError"?console.error(X.t0):console.warn(X.t0),X.abrupt("return",{commitToHistory:!1});case 12:case"end":return X.stop()}},e,null,[[0,8]])})),function(e,a,s,d){return gt.apply(this,arguments)}),keyTest:function(e){return e.key===S.tW.S&&e.shiftKey&&e[S.tW.CTRL_OR_CMD]},PanelComponent:function(e){var a=e.updateData;return(0,n.jsx)(F.V,{type:"button",icon:h.po,title:(0,u.t)("buttons.saveAs"),"aria-label":(0,u.t)("buttons.saveAs"),showAriaLabel:Fn().isMobile,hidden:!de.kr,onClick:function(){return a(null)},"data-testid":"save-as-button"})}});(0,O.z)({name:"loadScene",trackEvent:{category:"export"},perform:(kt=(0,g.Z)(W().mark(function e(a,s,d,Z){var k,w,X,q;return W().wrap(function(Se){for(;;)switch(Se.prev=Se.next){case 0:return Se.prev=0,Se.next=3,(0,_e.n8)(s,a);case 3:return k=Se.sent,w=k.elements,X=k.appState,q=k.files,Se.abrupt("return",{elements:w,appState:X,files:q,commitToHistory:!0});case 10:if(Se.prev=10,Se.t0=Se.catch(0),(Se.t0===null||Se.t0===void 0?void 0:Se.t0.name)!=="AbortError"){Se.next=15;break}return console.warn(Se.t0),Se.abrupt("return",!1);case 15:return Se.abrupt("return",{elements:a,appState:st(st({},s),{},{errorMessage:Se.t0.message}),files:Z.files,commitToHistory:!1});case 16:case"end":return Se.stop()}},e,null,[[0,10]])})),function(e,a,s,d){return kt.apply(this,arguments)}),keyTest:function(e){return e[S.tW.CTRL_OR_CMD]&&e.key===S.tW.O},PanelComponent:function(e){var a=e.updateData;return e.appState,(0,n.jsx)(F.V,{type:"button",icon:h.zD,title:(0,u.t)("buttons.load"),"aria-label":(0,u.t)("buttons.load"),showAriaLabel:Fn().isMobile,onClick:a,"data-testid":"load-button"})}}),(0,O.z)({name:"exportWithDarkMode",trackEvent:{category:"export",action:"toggleTheme"},perform:function(e,a,s){return{appState:st(st({},a),{},{exportWithDarkMode:s}),commitToHistory:!1}},PanelComponent:function(e){var a=e.appState,s=e.updateData;return(0,n.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"-45px",marginBottom:"10px"},children:(0,n.jsx)(ft.J,{value:a.exportWithDarkMode?Q.C6.DARK:Q.C6.LIGHT,onChange:function(d){s(d===Q.C6.DARK)},title:(0,u.t)("labels.toggleExportColorScheme")})})}});function Mt(e,a){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);a&&(d=d.filter(function(Z){return Object.getOwnPropertyDescriptor(e,Z).enumerable})),s.push.apply(s,d)}return s}function Zt(e){for(var a=1;a<arguments.length;a++){var s=arguments[a]!=null?arguments[a]:{};a%2?Mt(Object(s),!0).forEach(function(d){(0,j.Z)(e,d,s[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Mt(Object(s)).forEach(function(d){Object.defineProperty(e,d,Object.getOwnPropertyDescriptor(s,d))})}return e}var Nt="{}",Ft=(0,O.z)({name:"copyStyles",trackEvent:{category:"element"},perform:function(e,a){var s=[],d=e.find(function(k){return a.selectedElementIds[k.id]});if(s.push(d),d&&(0,m.Xo)(d)){var Z=(0,Ce.WJ)(d);s.push(Z)}return d&&(Nt=JSON.stringify(s)),{appState:Zt(Zt({},a),{},{toastMessage:(0,u.t)("toast.copyStyles")}),commitToHistory:!1}},contextItemLabel:"labels.copyStyles",keyTest:function(e){return e[S.tW.CTRL_OR_CMD]&&e.altKey&&e.code===S.aU.C}}),on=(0,O.z)({name:"pasteStyles",trackEvent:{category:"element"},perform:function(e,a){var s=JSON.parse(Nt),d=s[0],Z=s[1];if(!(0,p.r2)(d))return{elements:e,commitToHistory:!1};var k=(0,se.eD)(e,a,!0),w=k.map(function(X){return X.id});return{elements:e.map(function(X){if(w.includes(X.id)){var q,Se,ve,Ie,Ae,Fe,Ue,Ke=d;if((0,p.iB)(X)&&X.containerId&&(Ke=Z),!Ke)return X;var tt=(0,_.BE)(X,{backgroundColor:(q=Ke)===null||q===void 0?void 0:q.backgroundColor,strokeWidth:(Se=Ke)===null||Se===void 0?void 0:Se.strokeWidth,strokeColor:(ve=Ke)===null||ve===void 0?void 0:ve.strokeColor,strokeStyle:(Ie=Ke)===null||Ie===void 0?void 0:Ie.strokeStyle,fillStyle:(Ae=Ke)===null||Ae===void 0?void 0:Ae.fillStyle,opacity:(Fe=Ke)===null||Fe===void 0?void 0:Fe.opacity,roughness:(Ue=Ke)===null||Ue===void 0?void 0:Ue.roughness});if((0,p.iB)(tt)){var qe,Qe,$e,rt=null;(tt=(0,_.BE)(tt,{fontSize:((qe=Ke)===null||qe===void 0?void 0:qe.fontSize)||Q.n5,fontFamily:((Qe=Ke)===null||Qe===void 0?void 0:Qe.fontFamily)||Q.rk,textAlign:(($e=Ke)===null||$e===void 0?void 0:$e.textAlign)||Q.Hg})).containerId&&(rt=k.find(function(jt){return(0,p.iB)(tt)&&jt.id===tt.containerId})||null),(0,p.oN)(tt,rt)}return tt.type==="arrow"&&(tt=(0,_.BE)(tt,{startArrowhead:Ke.startArrowhead,endArrowhead:Ke.endArrowhead})),tt}return X}),commitToHistory:!0}},contextItemLabel:"labels.pasteStyles",keyTest:function(e){return e[S.tW.CTRL_OR_CMD]&&e.altKey&&e.code===S.aU.V}}),Rt=function(e){return(0,n.jsx)("button",{className:"help-icon",onClick:e.onClick,type:"button",title:"".concat(e.title," — ?"),"aria-label":e.title,children:h.Vl})};function qt(e,a){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);a&&(d=d.filter(function(Z){return Object.getOwnPropertyDescriptor(e,Z).enumerable})),s.push.apply(s,d)}return s}function Ht(e){for(var a=1;a<arguments.length;a++){var s=arguments[a]!=null?arguments[a]:{};a%2?qt(Object(s),!0).forEach(function(d){(0,j.Z)(e,d,s[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):qt(Object(s)).forEach(function(d){Object.defineProperty(e,d,Object.getOwnPropertyDescriptor(s,d))})}return e}(0,O.z)({name:"toggleCanvasMenu",trackEvent:{category:"menu"},perform:function(e,a){return{appState:Ht(Ht({},a),{},{openMenu:a.openMenu==="canvas"?null:"canvas"}),commitToHistory:!1}},PanelComponent:function(e){var a=e.appState,s=e.updateData;return(0,n.jsx)(F.V,{type:"button",icon:h.GI,"aria-label":(0,u.t)("buttons.menu"),onClick:s,selected:a.openMenu==="canvas"})}}),(0,O.z)({name:"toggleEditMenu",trackEvent:{category:"menu"},perform:function(e,a){return{appState:Ht(Ht({},a),{},{openMenu:a.openMenu==="shape"?null:"shape"}),commitToHistory:!1}},PanelComponent:function(e){var a=e.elements,s=e.appState,d=e.updateData;return(0,n.jsx)(F.V,{visible:(0,p.RT)(s,(0,p.Lm)(a)),type:"button",icon:h.DG,"aria-label":(0,u.t)("buttons.edit"),onClick:d,selected:s.openMenu==="shape"})}}),(0,O.z)({name:"toggleFullScreen",trackEvent:{category:"canvas",predicate:function(e){return!(0,c.rB)()}},perform:function(){return(0,c.rB)()||(0,c.wo)(),(0,c.rB)()&&(0,c.Pr)(),{commitToHistory:!1}},keyTest:function(e){return e.code===S.aU.F&&!e[S.tW.CTRL_OR_CMD]}}),(0,O.z)({name:"toggleShortcuts",trackEvent:{category:"menu",action:"toggleHelpDialog"},perform:function(e,a,s,d){var Z=d.focusContainer;return a.showHelpDialog&&Z(),{appState:Ht(Ht({},a),{},{showHelpDialog:!a.showHelpDialog}),commitToHistory:!1}},PanelComponent:function(e){var a=e.updateData;return(0,n.jsx)(Rt,{title:(0,u.t)("helpDialog.title"),onClick:a})},keyTest:function(e){return e.key===S.tW.QUESTION_MARK}});var sn=o(6954);function wn(e,a){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);a&&(d=d.filter(function(Z){return Object.getOwnPropertyDescriptor(e,Z).enumerable})),s.push.apply(s,d)}return s}function Sn(e){for(var a=1;a<arguments.length;a++){var s=arguments[a]!=null?arguments[a]:{};a%2?wn(Object(s),!0).forEach(function(d){(0,j.Z)(e,d,s[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):wn(Object(s)).forEach(function(d){Object.defineProperty(e,d,Object.getOwnPropertyDescriptor(s,d))})}return e}function Yn(e,a){var s=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!s){if(Array.isArray(e)||(s=function(q,Se){if(q){if(typeof q=="string")return jn(q,Se);var ve=Object.prototype.toString.call(q).slice(8,-1);if(ve==="Object"&&q.constructor&&(ve=q.constructor.name),ve==="Map"||ve==="Set")return Array.from(q);if(ve==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ve))return jn(q,Se)}}(e))||a&&e&&typeof e.length=="number"){s&&(e=s);var d=0,Z=function(){};return{s:Z,n:function(){return d>=e.length?{done:!0}:{done:!1,value:e[d++]}},e:function(q){throw q},f:Z}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var k,w=!0,X=!1;return{s:function(){s=s.call(e)},n:function(){var q=s.next();return w=q.done,q},e:function(q){X=!0,k=q},f:function(){try{w||s.return==null||s.return()}finally{if(X)throw k}}}}function jn(e,a){(a==null||a>e.length)&&(a=e.length);for(var s=0,d=new Array(a);s<a;s++)d[s]=e[s];return d}var er=function(e,a){var s=(0,se.eD)((0,p.Lm)(e),a,!0);return s.length>=2&&!function(d){if(d.length>=2){var Z,k=Yn(d[0].groupIds);try{var w=function(){var q=Z.value;if(d.reduce(function(Se,ve){return Se&&(0,E.Nd)(ve,q)},!0))return{v:!0}};for(k.s();!(Z=k.n()).done;){var X=w();if((0,x.Z)(X)==="object")return X.v}}catch(q){k.e(q)}finally{k.f()}}return!1}(s)},Cn=(0,O.z)({name:"group",trackEvent:{category:"element"},perform:function(e,a){var s=(0,se.eD)((0,p.Lm)(e),a,!0);if(s.length<2)return{appState:a,elements:e,commitToHistory:!1};var d=(0,E.iJ)(a);if(d.length===1){var Z=d[0],k=new Set((0,E.Fb)(e,Z).map(function(tt){return tt.id})),w=new Set(s.map(function(tt){return tt.id}));if(new Set([].concat((0,v.Z)(Array.from(k)),(0,v.Z)(Array.from(w)))).size===k.size)return{appState:a,elements:e,commitToHistory:!1}}var X=(0,sn.kb)(),q=(0,c.xn)(s),Se=e.map(function(tt){return q.get(tt.id)?(0,_.BE)(tt,{groupIds:(0,E.S_)(tt.groupIds,X,a.editingGroupId)}):tt}),ve=(0,E.Fb)(Se,X),Ie=ve[ve.length-1],Ae=Se.lastIndexOf(Ie),Fe=Se.slice(Ae+1),Ue=Se.slice(0,Ae).filter(function(tt){return!(0,E.Nd)(tt,X)}),Ke=[].concat((0,v.Z)(Ue),(0,v.Z)(ve),(0,v.Z)(Fe));return{appState:(0,E.F$)(X,Sn(Sn({},a),{},{selectedGroupIds:{}}),(0,p.Lm)(Ke)),elements:Ke,commitToHistory:!0}},contextItemLabel:"labels.group",contextItemPredicate:function(e,a){return er(e,a)},keyTest:function(e){return!e.shiftKey&&e[S.tW.CTRL_OR_CMD]&&e.code===S.aU.G},PanelComponent:function(e){var a=e.elements,s=e.appState,d=e.updateData;return(0,n.jsx)(F.V,{hidden:!er(a,s),type:"button",icon:(0,n.jsx)(h.BF,{theme:s.theme}),onClick:function(){return d(null)},title:"".concat((0,u.t)("labels.group")," — ").concat((0,c.uY)("CtrlOrCmd+G")),"aria-label":(0,u.t)("labels.group"),visible:(0,se.N)((0,p.Lm)(a),s)})}}),yr=(0,O.z)({name:"ungroup",trackEvent:{category:"element"},perform:function(e,a){if((0,E.iJ)(a).length===0)return{appState:a,elements:e,commitToHistory:!1};var s=[],d=e.map(function(k){(0,m.Xh)(k)&&s.push(k.id);var w=(0,E.h6)(k.groupIds,a.selectedGroupIds);return w.length===k.groupIds.length?k:(0,_.BE)(k,{groupIds:w})}),Z=(0,E.bO)(Sn(Sn({},a),{},{selectedGroupIds:{}}),(0,p.Lm)(d));return s.forEach(function(k){return Z.selectedElementIds[k]=!1}),{appState:Z,elements:d,commitToHistory:!0}},keyTest:function(e){return e.shiftKey&&e[S.tW.CTRL_OR_CMD]&&e.code===S.aU.G},contextItemLabel:"labels.ungroup",contextItemPredicate:function(e,a){return(0,E.iJ)(a).length>0},PanelComponent:function(e){var a=e.elements,s=e.appState,d=e.updateData;return(0,n.jsx)(F.V,{type:"button",hidden:(0,E.iJ)(s).length===0,icon:(0,n.jsx)(h.RJ,{theme:s.theme}),onClick:function(){return d(null)},title:"".concat((0,u.t)("labels.ungroup")," — ").concat((0,c.uY)("CtrlOrCmd+Shift+G")),"aria-label":(0,u.t)("labels.ungroup"),visible:(0,se.N)((0,p.Lm)(a),s)})}}),Gn=o(8982),eo=(o(2789),function(e){var a=e.color,s=e.border,d=e.onClick,Z=e.name,k=e.src,w=(0,Gn.f)(Z),X=(0,re.useState)(!1),q=(0,i.Z)(X,2),Se=q[0],ve=q[1],Ie=!Se&&k,Ae=Ie?void 0:{background:a,border:"1px solid ".concat(s)};return(0,n.jsx)("div",{className:"Avatar",style:Ae,onClick:d,children:Ie?(0,n.jsx)("img",{className:"Avatar-img",src:k,alt:w,referrerPolicy:"no-referrer",onError:function(){return ve(!0)}}):w})}),xr=o(2264);function Qo(e,a){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);a&&(d=d.filter(function(Z){return Object.getOwnPropertyDescriptor(e,Z).enumerable})),s.push.apply(s,d)}return s}function Lo(e){for(var a=1;a<arguments.length;a++){var s=arguments[a]!=null?arguments[a]:{};a%2?Qo(Object(s),!0).forEach(function(d){(0,j.Z)(e,d,s[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Qo(Object(s)).forEach(function(d){Object.defineProperty(e,d,Object.getOwnPropertyDescriptor(s,d))})}return e}(0,O.z)({name:"goToCollaborator",trackEvent:{category:"collab"},perform:function(e,a,s){var d=s;return d?{appState:Lo(Lo(Lo({},a),(0,xr.s)({scenePoint:d,viewportDimensions:{width:a.width,height:a.height},zoom:a.zoom})),{},{openMenu:a.openMenu==="canvas"?null:a.openMenu}),commitToHistory:!1}:{appState:a,commitToHistory:!1}},PanelComponent:function(e){var a=e.appState,s=e.updateData,d=e.data,Z=(0,i.Z)(d,2),k=Z[0],w=Z[1],X=(0,Gn.X)(k,a),q=X.background,Se=X.stroke;return(0,n.jsx)(eo,{color:q,border:Se,onClick:function(){return s(w.pointer)},name:w.username||"",src:w.avatarUrl})}});var to=o(2791);function sa(e,a){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);a&&(d=d.filter(function(Z){return Object.getOwnPropertyDescriptor(e,Z).enumerable})),s.push.apply(s,d)}return s}function xo(e){for(var a=1;a<arguments.length;a++){var s=arguments[a]!=null?arguments[a]:{};a%2?sa(Object(s),!0).forEach(function(d){(0,j.Z)(e,d,s[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):sa(Object(s)).forEach(function(d){Object.defineProperty(e,d,Object.getOwnPropertyDescriptor(s,d))})}return e}var kn=(0,O.z)({name:"addToLibrary",trackEvent:{category:"element"},perform:function(e,a,s,d){var Z=(0,se.eD)((0,p.Lm)(e),a,!0);return Z.some(function(k){return k.type==="image"})?{commitToHistory:!1,appState:xo(xo({},a),{},{errorMessage:"Support for adding images to the library coming soon!"})}:d.library.getLatestLibrary().then(function(k){return d.library.setLibrary([{id:(0,sn.kb)(),status:"unpublished",elements:Z.map(to.OL),created:Date.now()}].concat((0,v.Z)(k)))}).then(function(){return{commitToHistory:!1,appState:xo(xo({},a),{},{toastMessage:(0,u.t)("toast.addedToLibrary")})}}).catch(function(k){return{commitToHistory:!1,appState:xo(xo({},a),{},{errorMessage:k.message})}})},contextItemLabel:"labels.addToLibrary"}),mn=o(8925);function ua(e,a){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);a&&(d=d.filter(function(Z){return Object.getOwnPropertyDescriptor(e,Z).enumerable})),s.push.apply(s,d)}return s}function da(e){for(var a=1;a<arguments.length;a++){var s=arguments[a]!=null?arguments[a]:{};a%2?ua(Object(s),!0).forEach(function(d){(0,j.Z)(e,d,s[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):ua(Object(s)).forEach(function(d){Object.defineProperty(e,d,Object.getOwnPropertyDescriptor(s,d))})}return e}var hl=function(e,a,s){var d=s.axis,Z=s.position,k=(0,mn.v2)(e),w=d==="x"?["minX","maxX"]:["minY","maxY"],X=(0,i.Z)(w,2),q=X[0],Se=X[1],ve={x:0,y:0};return da(da({},ve),{},Z==="start"?(0,j.Z)({},d,a[q]-k[q]):Z==="end"?(0,j.Z)({},d,a[Se]-k[Se]):(0,j.Z)({},d,(a[q]+a[Se])/2-(k[q]+k[Se])/2))},no=function(e,a){return(0,se.eD)((0,p.Lm)(e),a).length>1},wo=function(e,a,s){var d=function(k,w){var X=(0,E.AI)(k),q=(0,mn.v2)(k);return X.flatMap(function(Se){var ve=hl(Se,q,w);return Se.map(function(Ie){return(0,_.BE)(Ie,{x:Ie.x+ve.x,y:Ie.y+ve.y})})})}((0,se.eD)((0,p.Lm)(e),a),s),Z=(0,c.xn)(d);return e.map(function(k){return Z.get(k.id)||k})};(0,O.z)({name:"alignTop",trackEvent:{category:"element"},perform:function(e,a){return{appState:a,elements:wo(e,a,{position:"start",axis:"y"}),commitToHistory:!0}},keyTest:function(e){return e[S.tW.CTRL_OR_CMD]&&e.shiftKey&&e.key===S.tW.ARROW_UP},PanelComponent:function(e){var a=e.elements,s=e.appState,d=e.updateData;return(0,n.jsx)(F.V,{hidden:!no(a,s),type:"button",icon:(0,n.jsx)(h.Ct,{theme:s.theme}),onClick:function(){return d(null)},title:"".concat((0,u.t)("labels.alignTop")," — ").concat((0,c.uY)("CtrlOrCmd+Shift+Up")),"aria-label":(0,u.t)("labels.alignTop"),visible:(0,se.N)((0,p.Lm)(a),s)})}}),(0,O.z)({name:"alignBottom",trackEvent:{category:"element"},perform:function(e,a){return{appState:a,elements:wo(e,a,{position:"end",axis:"y"}),commitToHistory:!0}},keyTest:function(e){return e[S.tW.CTRL_OR_CMD]&&e.shiftKey&&e.key===S.tW.ARROW_DOWN},PanelComponent:function(e){var a=e.elements,s=e.appState,d=e.updateData;return(0,n.jsx)(F.V,{hidden:!no(a,s),type:"button",icon:(0,n.jsx)(h.HL,{theme:s.theme}),onClick:function(){return d(null)},title:"".concat((0,u.t)("labels.alignBottom")," — ").concat((0,c.uY)("CtrlOrCmd+Shift+Down")),"aria-label":(0,u.t)("labels.alignBottom"),visible:(0,se.N)((0,p.Lm)(a),s)})}}),(0,O.z)({name:"alignLeft",trackEvent:{category:"element"},perform:function(e,a){return{appState:a,elements:wo(e,a,{position:"start",axis:"x"}),commitToHistory:!0}},keyTest:function(e){return e[S.tW.CTRL_OR_CMD]&&e.shiftKey&&e.key===S.tW.ARROW_LEFT},PanelComponent:function(e){var a=e.elements,s=e.appState,d=e.updateData;return(0,n.jsx)(F.V,{hidden:!no(a,s),type:"button",icon:(0,n.jsx)(h.xs,{theme:s.theme}),onClick:function(){return d(null)},title:"".concat((0,u.t)("labels.alignLeft")," — ").concat((0,c.uY)("CtrlOrCmd+Shift+Left")),"aria-label":(0,u.t)("labels.alignLeft"),visible:(0,se.N)((0,p.Lm)(a),s)})}}),(0,O.z)({name:"alignRight",trackEvent:{category:"element"},perform:function(e,a){return{appState:a,elements:wo(e,a,{position:"end",axis:"x"}),commitToHistory:!0}},keyTest:function(e){return e[S.tW.CTRL_OR_CMD]&&e.shiftKey&&e.key===S.tW.ARROW_RIGHT},PanelComponent:function(e){var a=e.elements,s=e.appState,d=e.updateData;return(0,n.jsx)(F.V,{hidden:!no(a,s),type:"button",icon:(0,n.jsx)(h.mh,{theme:s.theme}),onClick:function(){return d(null)},title:"".concat((0,u.t)("labels.alignRight")," — ").concat((0,c.uY)("CtrlOrCmd+Shift+Right")),"aria-label":(0,u.t)("labels.alignRight"),visible:(0,se.N)((0,p.Lm)(a),s)})}}),(0,O.z)({name:"alignVerticallyCentered",trackEvent:{category:"element"},perform:function(e,a){return{appState:a,elements:wo(e,a,{position:"center",axis:"y"}),commitToHistory:!0}},PanelComponent:function(e){var a=e.elements,s=e.appState,d=e.updateData;return(0,n.jsx)(F.V,{hidden:!no(a,s),type:"button",icon:(0,n.jsx)(h.ST,{theme:s.theme}),onClick:function(){return d(null)},title:(0,u.t)("labels.centerVertically"),"aria-label":(0,u.t)("labels.centerVertically"),visible:(0,se.N)((0,p.Lm)(a),s)})}}),(0,O.z)({name:"alignHorizontallyCentered",trackEvent:{category:"element"},perform:function(e,a){return{appState:a,elements:wo(e,a,{position:"center",axis:"x"}),commitToHistory:!0}},PanelComponent:function(e){var a=e.elements,s=e.appState,d=e.updateData;return(0,n.jsx)(F.V,{hidden:!no(a,s),type:"button",icon:(0,n.jsx)(h.gK,{theme:s.theme}),onClick:function(){return d(null)},title:(0,u.t)("labels.centerHorizontally"),"aria-label":(0,u.t)("labels.centerHorizontally"),visible:(0,se.N)((0,p.Lm)(a),s)})}});function Zn(e,a){var s=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!s){if(Array.isArray(e)||(s=function(q,Se){if(q){if(typeof q=="string")return Pi(q,Se);var ve=Object.prototype.toString.call(q).slice(8,-1);if(ve==="Object"&&q.constructor&&(ve=q.constructor.name),ve==="Map"||ve==="Set")return Array.from(q);if(ve==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ve))return Pi(q,Se)}}(e))||a&&e&&typeof e.length=="number"){s&&(e=s);var d=0,Z=function(){};return{s:Z,n:function(){return d>=e.length?{done:!0}:{done:!1,value:e[d++]}},e:function(q){throw q},f:Z}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var k,w=!0,X=!1;return{s:function(){s=s.call(e)},n:function(){var q=s.next();return w=q.done,q},e:function(q){X=!0,k=q},f:function(){try{w||s.return==null||s.return()}finally{if(X)throw k}}}}function Pi(e,a){(a==null||a>e.length)&&(a=e.length);for(var s=0,d=new Array(a);s<a;s++)d[s]=e[s];return d}var ko=function(e,a){return(0,se.eD)((0,p.Lm)(e),a).length>1},Ai=function(e,a,s){var d=function(k,w){var X,q=w.axis==="x"?["minX","midX","maxX","width"]:["minY","midY","maxY","height"],Se=(0,i.Z)(q,4),ve=Se[0],Ie=Se[1],Ae=Se[2],Fe=Se[3],Ue=(0,mn.v2)(k),Ke=(0,E.AI)(k).map(function(wt){return[wt,(0,mn.v2)(wt)]}).sort(function(wt,_t){return wt[1][Ie]-_t[1][Ie]}),tt=0,qe=Zn(Ke);try{for(qe.s();!(X=qe.n()).done;)tt+=X.value[1][Fe]}catch(wt){qe.e(wt)}finally{qe.f()}var Qe=(Ue[Fe]-tt)/(Ke.length-1);if(Qe<0){var $e=Ke.findIndex(function(wt){return wt[1][ve]===Ue[ve]}),rt=Ke.findIndex(function(wt){return wt[1][Ae]===Ue[Ae]}),jt=(Ke[rt][1][Ie]-Ke[$e][1][Ie])/(Ke.length-1),At=Ke[$e][1][Ie];return Ke.flatMap(function(wt,_t){var bt=(0,i.Z)(wt,2),en=bt[0],Et=bt[1],cn={x:0,y:0};return _t!==$e&&_t!==rt&&(At+=jt,cn[w.axis]=At-Et[Ie]),en.map(function(yn){return(0,_.BE)(yn,{x:yn.x+cn.x,y:yn.y+cn.y})})})}var St=Ue[ve];return Ke.flatMap(function(wt){var _t=(0,i.Z)(wt,2),bt=_t[0],en=_t[1],Et={x:0,y:0};return Et[w.axis]=St-en[ve],St+=Qe,St+=en[Fe],bt.map(function(cn){return(0,_.BE)(cn,{x:cn.x+Et.x,y:cn.y+Et.y})})})}((0,se.eD)((0,p.Lm)(e),a),s),Z=(0,c.xn)(d);return e.map(function(k){return Z.get(k.id)||k})},jr=((0,O.z)({name:"distributeHorizontally",trackEvent:{category:"element"},perform:function(e,a){return{appState:a,elements:Ai(e,a,{space:"between",axis:"x"}),commitToHistory:!0}},keyTest:function(e){return!e[S.tW.CTRL_OR_CMD]&&e.altKey&&e.code===S.aU.H},PanelComponent:function(e){var a=e.elements,s=e.appState,d=e.updateData;return(0,n.jsx)(F.V,{hidden:!ko(a,s),type:"button",icon:(0,n.jsx)(h.uD,{theme:s.theme}),onClick:function(){return d(null)},title:"".concat((0,u.t)("labels.distributeHorizontally")," — ").concat((0,c.uY)("Alt+H")),"aria-label":(0,u.t)("labels.distributeHorizontally"),visible:(0,se.N)((0,p.Lm)(a),s)})}}),(0,O.z)({name:"distributeVertically",trackEvent:{category:"element"},perform:function(e,a){return{appState:a,elements:Ai(e,a,{space:"between",axis:"y"}),commitToHistory:!0}},keyTest:function(e){return!e[S.tW.CTRL_OR_CMD]&&e.altKey&&e.code===S.aU.V},PanelComponent:function(e){var a=e.elements,s=e.appState,d=e.updateData;return(0,n.jsx)(F.V,{hidden:!ko(a,s),type:"button",icon:(0,n.jsx)(h.W5,{theme:s.theme}),onClick:function(){return d(null)},title:"".concat((0,u.t)("labels.distributeVertically")," — ").concat((0,c.uY)("Alt+V")),"aria-label":(0,u.t)("labels.distributeVertically"),visible:(0,se.N)((0,p.Lm)(a),s)})}}),o(8634)),lr=o(267),Di=(0,O.z)({name:"flipHorizontal",trackEvent:{category:"element"},perform:function(e,a){return{elements:Ri(e,a,"horizontal"),appState:a,commitToHistory:!0}},keyTest:function(e){return e.shiftKey&&e.code==="KeyH"},contextItemLabel:"labels.flipHorizontal",contextItemPredicate:function(e,a){return function(s,d){var Z=(0,se.eD)((0,p.Lm)(s),d);return Z.length===1&&Z[0].type!=="text"}(e,a)}}),zi=(0,O.z)({name:"flipVertical",trackEvent:{category:"element"},perform:function(e,a){return{elements:Ri(e,a,"vertical"),appState:a,commitToHistory:!0}},keyTest:function(e){return e.shiftKey&&e.code==="KeyV"},contextItemLabel:"labels.flipVertical",contextItemPredicate:function(e,a){return function(s,d){return(0,se.eD)((0,p.Lm)(s),d).length===1}(e,a)}}),Ri=function(e,a,s){var d=(0,se.eD)((0,p.Lm)(e),a);if(d.length>1)return e;var Z=fa(d,a,s),k=(0,c.xn)(Z);return e.map(function(w){return k.get(w.id)||w})},fa=function(e,a,s){return e.forEach(function(d){pa(d,a),s==="vertical"&&ha(d,Math.PI)}),e},pa=function(e,a){var s=e.x,d=e.y,Z=e.width,k=e.height,w=(0,jr.LW)(e.angle),X=0;((0,m.bt)(e)||(0,m.F9)(e))&&(X=2*e.points.reduce(function(Ue,Ke){return Math.max(Ue,Ke[0])},0)-e.width),(0,_.DR)(e,{angle:(0,jr.LW)(0)});var q=(0,lr.PC)(e,a.zoom),Se=!0,ve=0,Ie=q.nw;if(Ie||(Se=!1,Ie=q.ne)){if((0,m.bt)(e)){for(var Ae=1;Ae<e.points.length;Ae++)T._.movePoints(e,[{index:Ae,point:[-e.points[Ae][0],e.points[Ae][1]]}]);T._.normalizePoints(e)}else ve=Se?e.x+2*Z:e.x-2*Z,(0,jr.l2)(new Map().set(e.id,e),!0,e,Se?"nw":"ne",!1,ve,Ie[1]),(0,_.DR)(e,{width:Z,height:k});var Fe=(0,jr.LW)(2*Math.PI-w);Fe<0&&(Fe=(0,jr.LW)(Fe+2*Math.PI)),(0,_.DR)(e,{angle:Fe}),(0,_.DR)(e,{x:s+X,y:d}),(0,l.Ww)(e)}else(0,_.DR)(e,{angle:w})},ha=function(e,a){var s=e.x,d=e.y,Z=(0,jr.LW)(e.angle+a);Z<0&&(Z=(0,jr.LW)(2*Math.PI+Z)),(0,_.DR)(e,{angle:Z}),(0,_.DR)(e,{x:s,y:d})},Nn=o(1868);function ma(e,a){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);a&&(d=d.filter(function(Z){return Object.getOwnPropertyDescriptor(e,Z).enumerable})),s.push.apply(s,d)}return s}function Bn(e){for(var a=1;a<arguments.length;a++){var s=arguments[a]!=null?arguments[a]:{};a%2?ma(Object(s),!0).forEach(function(d){(0,j.Z)(e,d,s[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):ma(Object(s)).forEach(function(d){Object.defineProperty(e,d,Object.getOwnPropertyDescriptor(s,d))})}return e}var ei=(0,O.z)({name:"copy",trackEvent:{category:"element"},perform:function(e,a,s,d){var Z=(0,Nn.eD)(e,a,!0);return(0,pt.vQ)(Z,a,d.files),{commitToHistory:!1}},contextItemLabel:"labels.copy",keyTest:void 0}),Zi=(0,O.z)({name:"cut",trackEvent:{category:"element"},perform:function(e,a,s,d){return ei.perform(e,a,s,d),U.perform(e,a)},contextItemLabel:"labels.cut",keyTest:function(e){return e[S.tW.CTRL_OR_CMD]&&e.code===S.aU.X}}),Ir=(0,O.z)({name:"copyAsSvg",trackEvent:{category:"element"},perform:function(){var e=(0,g.Z)(W().mark(function a(s,d,Z,k){var w;return W().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:if(k.canvas){X.next=2;break}return X.abrupt("return",{commitToHistory:!1});case 2:return w=(0,Nn.eD)((0,p.Lm)(s),d,!0),X.prev=3,X.next=6,we("clipboard-svg",w.length?w:(0,p.Lm)(s),d,k.files,d);case 6:return X.abrupt("return",{commitToHistory:!1});case 9:return X.prev=9,X.t0=X.catch(3),console.error(X.t0),X.abrupt("return",{appState:Bn(Bn({},d),{},{errorMessage:X.t0.message}),commitToHistory:!1});case 13:case"end":return X.stop()}},a,null,[[3,9]])}));return function(a,s,d,Z){return e.apply(this,arguments)}}(),contextItemLabel:"labels.copyAsSvg"}),Po=(0,O.z)({name:"copyAsPng",trackEvent:{category:"element"},perform:function(){var e=(0,g.Z)(W().mark(function a(s,d,Z,k){var w;return W().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:if(k.canvas){X.next=2;break}return X.abrupt("return",{commitToHistory:!1});case 2:return w=(0,Nn.eD)((0,p.Lm)(s),d,!0),X.prev=3,X.next=6,we("clipboard",w.length?w:(0,p.Lm)(s),d,k.files,d);case 6:return X.abrupt("return",{appState:Bn(Bn({},d),{},{toastMessage:(0,u.t)("toast.copyToClipboardAsPng",{exportSelection:w.length?(0,u.t)("toast.selection"):(0,u.t)("toast.canvas"),exportColorScheme:d.exportWithDarkMode?(0,u.t)("buttons.darkMode"):(0,u.t)("buttons.lightMode")})}),commitToHistory:!1});case 9:return X.prev=9,X.t0=X.catch(3),console.error(X.t0),X.abrupt("return",{appState:Bn(Bn({},d),{},{errorMessage:X.t0.message}),commitToHistory:!1});case 13:case"end":return X.stop()}},a,null,[[3,9]])}));return function(a,s,d,Z){return e.apply(this,arguments)}}(),contextItemLabel:"labels.copyAsPng",keyTest:function(e){return e.code===S.aU.C&&e.altKey&&e.shiftKey}}),Ao=(0,O.z)({name:"copyText",trackEvent:{category:"element"},perform:function(e,a){var s=(0,Nn.eD)((0,p.Lm)(e),a,!0).reduce(function(d,Z){return(0,p.iB)(Z)&&d.push(Z.text),d},[]).join(`

`);return(0,pt.dd)(s),{commitToHistory:!1}},contextItemPredicate:function(e,a){return pt.wx&&(0,Nn.eD)(e,a,!0).some(p.iB)},contextItemLabel:"labels.copyText"});function _n(e,a){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);a&&(d=d.filter(function(Z){return Object.getOwnPropertyDescriptor(e,Z).enumerable})),s.push.apply(s,d)}return s}function Tr(e){for(var a=1;a<arguments.length;a++){var s=arguments[a]!=null?arguments[a]:{};a%2?_n(Object(s),!0).forEach(function(d){(0,j.Z)(e,d,s[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):_n(Object(s)).forEach(function(d){Object.defineProperty(e,d,Object.getOwnPropertyDescriptor(s,d))})}return e}var ti=(0,O.z)({name:"gridMode",trackEvent:{category:"canvas",predicate:function(e){return!e.gridSize}},perform:function(e,a){return{appState:Tr(Tr({},a),{},{gridSize:this.checked(a)?null:Q.k}),commitToHistory:!1}},checked:function(e){return e.gridSize!==null},contextItemLabel:"labels.showGrid",keyTest:function(e){return e[S.tW.CTRL_OR_CMD]&&e.code===S.aU.QUOTE}});function ga(e,a){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);a&&(d=d.filter(function(Z){return Object.getOwnPropertyDescriptor(e,Z).enumerable})),s.push.apply(s,d)}return s}function ni(e){for(var a=1;a<arguments.length;a++){var s=arguments[a]!=null?arguments[a]:{};a%2?ga(Object(s),!0).forEach(function(d){(0,j.Z)(e,d,s[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):ga(Object(s)).forEach(function(d){Object.defineProperty(e,d,Object.getOwnPropertyDescriptor(s,d))})}return e}var Ni=(0,O.z)({name:"zenMode",trackEvent:{category:"canvas",predicate:function(e){return!e.zenModeEnabled}},perform:function(e,a){return{appState:ni(ni({},a),{},{zenModeEnabled:!this.checked(a)}),commitToHistory:!1}},checked:function(e){return e.zenModeEnabled},contextItemLabel:"buttons.zenMode",keyTest:function(e){return!e[S.tW.CTRL_OR_CMD]&&e.altKey&&e.code===S.aU.Z}});function Bi(e,a){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);a&&(d=d.filter(function(Z){return Object.getOwnPropertyDescriptor(e,Z).enumerable})),s.push.apply(s,d)}return s}function Do(e){for(var a=1;a<arguments.length;a++){var s=arguments[a]!=null?arguments[a]:{};a%2?Bi(Object(s),!0).forEach(function(d){(0,j.Z)(e,d,s[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Bi(Object(s)).forEach(function(d){Object.defineProperty(e,d,Object.getOwnPropertyDescriptor(s,d))})}return e}var Ur=(0,O.z)({name:"stats",trackEvent:{category:"menu"},perform:function(e,a){return{appState:Do(Do({},a),{},{showStats:!this.checked(a)}),commitToHistory:!1}},checked:function(e){return e.showStats},contextItemLabel:"stats.title",keyTest:function(e){return!e[S.tW.CTRL_OR_CMD]&&e.altKey&&e.code===S.aU.SLASH}});function va(e,a){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);a&&(d=d.filter(function(Z){return Object.getOwnPropertyDescriptor(e,Z).enumerable})),s.push.apply(s,d)}return s}function Hi(e){for(var a=1;a<arguments.length;a++){var s=arguments[a]!=null?arguments[a]:{};a%2?va(Object(s),!0).forEach(function(d){(0,j.Z)(e,d,s[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):va(Object(s)).forEach(function(d){Object.defineProperty(e,d,Object.getOwnPropertyDescriptor(s,d))})}return e}var Wi=(0,O.z)({name:"unbindText",contextItemLabel:"labels.unbindText",trackEvent:{category:"element"},contextItemPredicate:function(e,a){return(0,se.eD)(e,a).some(function(s){return(0,m.Xo)(s)})},perform:function(e,a){return(0,se.eD)((0,p.Lm)(e),a).forEach(function(s){var d=(0,Ce.WJ)(s);if(d){var Z,k=(0,Ce.X1)(d.originalText,(0,c.mO)(d)),w=k.width,X=k.height,q=k.baseline;(0,_.DR)(d,{containerId:null,width:w,height:X,baseline:q,text:d.originalText}),(0,_.DR)(s,{boundElements:(Z=s.boundElements)===null||Z===void 0?void 0:Z.filter(function(Se){return Se.id!==d.id})})}}),{elements:e,appState:a,commitToHistory:!0}}}),ri=(0,O.z)({name:"bindText",contextItemLabel:"labels.bindText",trackEvent:{category:"element"},contextItemPredicate:function(e,a){var s=(0,se.eD)(e,a);if(s.length===2){var d,Z=(0,p.iB)(s[0])||(0,p.iB)(s[1]);if((0,m.mG)(s[0])?d=s[0]:(0,m.mG)(s[1])&&(d=s[1]),Z&&d&&(0,Ce.WJ)(d)===null)return!0}return!1},perform:function(e,a){var s,d,Z=(0,se.eD)((0,p.Lm)(e),a);(0,p.iB)(Z[0])&&(0,m.mG)(Z[1])?(s=Z[0],d=Z[1]):(s=Z[1],d=Z[0]),(0,_.DR)(s,{containerId:d.id,verticalAlign:Q.oX.MIDDLE}),(0,_.DR)(d,{boundElements:(d.boundElements||[]).concat({type:"text",id:s.id})}),(0,Ce.oN)(s,d);var k=e.slice(),w=k.findIndex(function(q){return q.id===s.id});k.splice(w,1);var X=k.findIndex(function(q){return q.id===d.id});return k.splice(X+1,0,s),{elements:k,appState:Hi(Hi({},a),{},{selectedElementIds:(0,j.Z)({},d.id,!0)}),commitToHistory:!0}}}),tr=o(2383),ba=(0,O.z)({name:"toggleLock",trackEvent:{category:"element"},perform:function(e,a){var s=(0,se.eD)(e,a,!0);if(!s.length)return!1;var d=oi(s),Z=(0,c.xn)(s);return{elements:e.map(function(k){return Z.has(k.id)?(0,_.BE)(k,{locked:d==="lock"}):k}),appState:a,commitToHistory:!0}},contextItemLabel:function(e,a){var s=(0,se.eD)(e,a,!1);if(s.length===1)return s[0].locked?"labels.elementLock.unlock":"labels.elementLock.lock";if(s.length>1)return oi(s)==="lock"?"labels.elementLock.lockAll":"labels.elementLock.unlockAll";throw new Error("Unexpected zero elements to lock/unlock. This should never happen.")},keyTest:function(e,a,s){return e.key.toLocaleLowerCase()===S.tW.L&&e[S.tW.CTRL_OR_CMD]&&e.shiftKey&&(0,se.eD)(s,a,!1).length>0}}),oi=function(e){return e.some(function(a){return!a.locked})?"lock":"unlock"};function ii(e,a){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);a&&(d=d.filter(function(Z){return Object.getOwnPropertyDescriptor(e,Z).enumerable})),s.push.apply(s,d)}return s}function Ui(e){for(var a=1;a<arguments.length;a++){var s=arguments[a]!=null?arguments[a]:{};a%2?ii(Object(s),!0).forEach(function(d){(0,j.Z)(e,d,s[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):ii(Object(s)).forEach(function(d){Object.defineProperty(e,d,Object.getOwnPropertyDescriptor(s,d))})}return e}var Xn=function(e,a,s){var d=!1;if(!(a.multiElement||a.resizingElement||a.editingElement||a.draggingElement)){var Z=s();if(Z===null)return{commitToHistory:d};var k=(0,c.xn)(e),w=Z.elements,X=(0,c.xn)(w),q=e.filter(function(ve){return!X.has(ve.id)}),Se=w.map(function(ve){return(0,_.BE)(k.get(ve.id)||ve,ve)}).concat(q.map(function(ve){return(0,_.BE)(ve,{isDeleted:!0})}));return(0,l.$q)(Se,q),{elements:Se,appState:Ui(Ui({},a),Z.appState),commitToHistory:d,syncHistory:!0}}return{commitToHistory:d}},nr=o(7047),ro=function(e,a,s,d,Z,k){if(e.trackEvent)try{(0,x.Z)(e.trackEvent)==="object"&&(!e.trackEvent.predicate||e.trackEvent.predicate(s,d,k))&&(0,nr.L)(e.trackEvent.category,e.trackEvent.action||e.name,"".concat(a," (").concat(Z.device.isMobile?"mobile":"desktop",")"))}catch(w){console.error("error while logging action:",w)}},ya=function(){function e(a,s,d,Z){var k=this;(0,y.Z)(this,e),this.actions={},this.renderAction=function(w,X){var q=k.app.props.UIOptions.canvasActions;if(k.actions[w]&&"PanelComponent"in k.actions[w]&&(!(w in q)||q[w])){var Se=k.actions[w],ve=Se.PanelComponent,Ie=k.getElementsIncludingDeleted(),Ae=k.getAppState();return(0,n.jsx)(ve,{elements:k.getElementsIncludingDeleted(),appState:k.getAppState(),updateData:function(Fe){ro(Se,"ui",Ae,Ie,k.app,Fe),k.updater(Se.perform(k.getElementsIncludingDeleted(),k.getAppState(),Fe,k.app))},appProps:k.app.props,data:X})}return null},this.updater=function(w){if(!w||!("then"in w))return a(w);w.then(function(X){return a(X)})},this.getAppState=s,this.getElementsIncludingDeleted=d,this.app=Z}return(0,V.Z)(e,[{key:"registerAction",value:function(a){this.actions[a.name]=a}},{key:"registerAll",value:function(a){var s=this;a.forEach(function(d){return s.registerAction(d)})}},{key:"handleKeyDown",value:function(a){var s=this,d=this.app.props.UIOptions.canvasActions,Z=Object.values(this.actions).sort(function(q,Se){return(Se.keyPriority||0)-(q.keyPriority||0)}).filter(function(q){return(!(q.name in d)||d[q.name])&&q.keyTest&&q.keyTest(a,s.getAppState(),s.getElementsIncludingDeleted())});if(Z.length!==1)return Z.length>1&&console.warn("Canceling as multiple actions match this shortcut",Z),!1;var k=Z[0];if(this.getAppState().viewModeEnabled&&!Object.values(Q.EH).includes(Z[0].name))return!1;var w=this.getElementsIncludingDeleted(),X=this.getAppState();return ro(k,"keyboard",X,w,this.app,null),a.preventDefault(),a.stopPropagation(),this.updater(Z[0].perform(w,X,null,this.app)),!0}},{key:"executeAction",value:function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"api",d=this.getElementsIncludingDeleted(),Z=this.getAppState(),k=null;ro(a,s,Z,d,this.app,k),this.updater(a.perform(d,Z,k,this.app))}}]),e}(),Fr=o(8897),ai=o(7053),xa=o(679),wa=function(e){var a=Array.from(e.values());return{x:oo(a,function(s){return s.x})/a.length,y:oo(a,function(s){return s.y})/a.length}},ka=function(e){var a=(0,i.Z)(e,2),s=a[0],d=a[1];return Math.hypot(s.x-d.x,s.y-d.y)},oo=function(e,a){return e.reduce(function(s,d){return s+a(d)},0)};function li(e,a){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);a&&(d=d.filter(function(Z){return Object.getOwnPropertyDescriptor(e,Z).enumerable})),s.push.apply(s,d)}return s}function Fi(e){for(var a=1;a<arguments.length;a++){var s=arguments[a]!=null?arguments[a]:{};a%2?li(Object(s),!0).forEach(function(d){(0,j.Z)(e,d,s[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):li(Object(s)).forEach(function(d){Object.defineProperty(e,d,Object.getOwnPropertyDescriptor(s,d))})}return e}var Kr=function(e){return{selectedElementIds:e.selectedElementIds,selectedGroupIds:e.selectedGroupIds,viewBackgroundColor:e.viewBackgroundColor,editingLinearElement:e.editingLinearElement,editingGroupId:e.editingGroupId,name:e.name}},ci=function(){function e(){var a=this;(0,y.Z)(this,e),this.elementCache=new Map,this.recording=!0,this.stateHistory=[],this.redoStack=[],this.lastEntry=null,this.generateEntry=function(s,d){return a.dehydrateHistoryEntry({appState:Kr(s),elements:d.reduce(function(Z,k){if((0,m.bt)(k)&&s.multiElement&&s.multiElement.id===k.id){if(s.multiElement&&s.multiElement.id===k.id&&k.points.length<2)return Z;Z.push(Fi(Fi({},k),{},{points:k.lastCommittedPoint!==k.points[k.points.length-1]?k.points.slice(0,-1):k.points}))}else Z.push(k);return Z},[])})}}return(0,V.Z)(e,[{key:"hydrateHistoryEntry",value:function(a){var s=this,d=a.appState,Z=a.elements;return{appState:JSON.parse(d),elements:Z.map(function(k){var w,X=(w=s.elementCache.get(k.id))===null||w===void 0?void 0:w.get(k.versionNonce);if(!X)throw new Error("Element not found: ".concat(k.id,":").concat(k.versionNonce));return X})}}},{key:"dehydrateHistoryEntry",value:function(a){var s=this,d=a.appState,Z=a.elements;return{appState:JSON.stringify(d),elements:Z.map(function(k){s.elementCache.has(k.id)||s.elementCache.set(k.id,new Map);var w=s.elementCache.get(k.id);return w.has(k.versionNonce)||w.set(k.versionNonce,(0,to.OL)(k)),{id:k.id,versionNonce:k.versionNonce}})}}},{key:"getSnapshotForTest",value:function(){var a=this;return{recording:this.recording,stateHistory:this.stateHistory.map(function(s){return a.hydrateHistoryEntry(s)}),redoStack:this.redoStack.map(function(s){return a.hydrateHistoryEntry(s)})}}},{key:"clear",value:function(){this.stateHistory.length=0,this.redoStack.length=0,this.lastEntry=null,this.elementCache.clear()}},{key:"shouldCreateEntry",value:function(a){var s,d=this.lastEntry;if(!d||a.elements.length!==d.elements.length)return!0;for(var Z=a.elements.length-1;Z>-1;Z--){var k=a.elements[Z],w=d.elements[Z];if(!k||!w||k.id!==w.id||k.versionNonce!==w.versionNonce)return!0}for(s in a.appState){var X,q;if(!(s==="editingLinearElement"&&((X=a.appState[s])===null||X===void 0?void 0:X.elementId)===((q=d.appState[s])===null||q===void 0?void 0:q.elementId))&&s!=="selectedElementIds"&&s!=="selectedGroupIds"&&a.appState[s]!==d.appState[s])return!0}return!1}},{key:"pushEntry",value:function(a,s){var d=this.generateEntry(a,s),Z=this.hydrateHistoryEntry(d);if(Z){if(!this.shouldCreateEntry(Z))return;this.stateHistory.push(d),this.lastEntry=Z,this.clearRedoStack()}}},{key:"clearRedoStack",value:function(){this.redoStack.splice(0,this.redoStack.length)}},{key:"redoOnce",value:function(){if(this.redoStack.length===0)return null;var a=this.redoStack.pop();return a!==void 0?(this.stateHistory.push(a),this.hydrateHistoryEntry(a)):null}},{key:"undoOnce",value:function(){if(this.stateHistory.length===1)return null;var a=this.stateHistory.pop(),s=this.stateHistory[this.stateHistory.length-1];return a!==void 0?(this.redoStack.push(a),this.hydrateHistoryEntry(s)):null}},{key:"setCurrentState",value:function(a,s){this.lastEntry=this.hydrateHistoryEntry(this.generateEntry(a,s))}},{key:"resumeRecording",value:function(){this.recording=!0}},{key:"record",value:function(a,s){this.recording&&(this.pushEntry(a,s),this.recording=!1)}}]),e}(),ml=o(3547),Mr=o(3063),rr=o(746),Ki=[{icon:(0,n.jsx)("svg",{viewBox:"0 0 320 512",className:"",children:(0,n.jsx)("path",{d:"M302.189 329.126H196.105l55.831 135.993c3.889 9.428-.555 19.999-9.444 23.999l-49.165 21.427c-9.165 4-19.443-.571-23.332-9.714l-53.053-129.136-86.664 89.138C18.729 472.71 0 463.554 0 447.977V18.299C0 1.899 19.921-6.096 30.277 5.443l284.412 292.542c11.472 11.179 3.007 31.141-12.5 31.141z"})}),value:"selection",key:S.tW.V},{icon:(0,n.jsx)("svg",{viewBox:"0 0 448 512",children:(0,n.jsx)("path",{d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z"})}),value:"rectangle",key:S.tW.R},{icon:(0,n.jsx)("svg",{viewBox:"0 0 223.646 223.646",children:(0,n.jsx)("path",{d:"M111.823 0L16.622 111.823 111.823 223.646 207.025 111.823z"})}),value:"diamond",key:S.tW.D},{icon:(0,n.jsx)("svg",{viewBox:"0 0 512 512",children:(0,n.jsx)("path",{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8z"})}),value:"ellipse",key:S.tW.O},{icon:(0,n.jsx)("svg",{viewBox:"0 0 448 512",className:"rtl-mirror",children:(0,n.jsx)("path",{d:"M313.941 216H12c-6.627 0-12 5.373-12 12v56c0 6.627 5.373 12 12 12h301.941v46.059c0 21.382 25.851 32.09 40.971 16.971l86.059-86.059c9.373-9.373 9.373-24.569 0-33.941l-86.059-86.059c-15.119-15.119-40.971-4.411-40.971 16.971V216z"})}),value:"arrow",key:S.tW.A},{icon:(0,n.jsx)("svg",{viewBox:"0 0 6 6",children:(0,n.jsx)("line",{x1:"0",y1:"3",x2:"6",y2:"3",stroke:"currentColor",strokeLinecap:"round"})}),value:"line",key:[S.tW.P,S.tW.L]},{icon:(0,n.jsx)("svg",{viewBox:"0 0 512 512",children:(0,n.jsx)("path",{fill:"currentColor",d:"M290.74 93.24l128.02 128.02-277.99 277.99-114.14 12.6C11.35 513.54-1.56 500.62.14 485.34l12.7-114.22 277.9-277.88zm207.2-19.06l-60.11-60.11c-18.75-18.75-49.16-18.75-67.91 0l-56.55 56.55 128.02 128.02 56.55-56.55c18.75-18.76 18.75-49.16 0-67.91z"})}),value:"freedraw",key:[S.tW.X,S.tW.P.toUpperCase()]},{icon:(0,n.jsx)("svg",{viewBox:"0 0 448 512",children:(0,n.jsx)("path",{d:"M432 416h-23.41L277.88 53.69A32 32 0 0 0 247.58 32h-47.16a32 32 0 0 0-30.3 21.69L39.41 416H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16h-19.58l23.3-64h152.56l23.3 64H304a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM176.85 272L224 142.51 271.15 272z"})}),value:"text",key:S.tW.T},{icon:(0,n.jsx)("svg",{viewBox:"0 0 512 512",children:(0,n.jsx)("path",{fill:"currentColor",d:"M464 64H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V112c0-26.51-21.49-48-48-48zm-6 336H54a6 6 0 0 1-6-6V118a6 6 0 0 1 6-6h404a6 6 0 0 1 6 6v276a6 6 0 0 1-6 6zM128 152c-22.091 0-40 17.909-40 40s17.909 40 40 40 40-17.909 40-40-17.909-40-40-40zM96 352h320v-80l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L192 304l-39.515-39.515c-4.686-4.686-12.284-4.686-16.971 0L96 304v48z"})}),value:"image",key:null}],si=o(5156),ui=o(7288),Ye=(o(1292),{cut:[(0,c.uY)("CtrlOrCmd+X")],copy:[(0,c.uY)("CtrlOrCmd+C")],paste:[(0,c.uY)("CtrlOrCmd+V")],copyStyles:[(0,c.uY)("CtrlOrCmd+Alt+C")],pasteStyles:[(0,c.uY)("CtrlOrCmd+Alt+V")],selectAll:[(0,c.uY)("CtrlOrCmd+A")],deleteSelectedElements:[(0,c.uY)("Del")],duplicateSelection:[(0,c.uY)("CtrlOrCmd+D"),(0,c.uY)("Alt+".concat((0,u.t)("helpDialog.drag")))],sendBackward:[(0,c.uY)("CtrlOrCmd+[")],bringForward:[(0,c.uY)("CtrlOrCmd+]")],sendToBack:[S.Um?(0,c.uY)("CtrlOrCmd+Alt+["):(0,c.uY)("CtrlOrCmd+Shift+[")],bringToFront:[S.Um?(0,c.uY)("CtrlOrCmd+Alt+]"):(0,c.uY)("CtrlOrCmd+Shift+]")],copyAsPng:[(0,c.uY)("Shift+Alt+C")],copyAsSvg:[],group:[(0,c.uY)("CtrlOrCmd+G")],ungroup:[(0,c.uY)("CtrlOrCmd+Shift+G")],gridMode:[(0,c.uY)("CtrlOrCmd+'")],zenMode:[(0,c.uY)("Alt+Z")],stats:[(0,c.uY)("Alt+/")],addToLibrary:[],flipHorizontal:[(0,c.uY)("Shift+H")],flipVertical:[(0,c.uY)("Shift+V")],viewMode:[(0,c.uY)("Alt+R")],hyperlink:[(0,c.uY)("CtrlOrCmd+K")],toggleLock:[(0,c.uY)("CtrlOrCmd+Shift+L")]}),lt=function(e){var a=e.options,s=e.onCloseRequest,d=e.top,Z=e.left,k=e.actionManager,w=e.appState,X=e.elements;return(0,n.jsx)(ui.J,{onCloseRequest:s,top:d,left:Z,fitInViewport:!0,offsetLeft:w.offsetLeft,offsetTop:w.offsetTop,viewportWidth:w.width,viewportHeight:w.height,children:(0,n.jsx)("ul",{className:"context-menu",onContextMenu:function(q){return q.preventDefault()},children:a.map(function(q,Se){var ve;if(q==="separator")return(0,n.jsx)("hr",{className:"context-menu-option-separator"},Se);var Ie,Ae,Fe=q.name,Ue="";return q.contextItemLabel&&(Ue=typeof q.contextItemLabel=="function"?(0,u.t)(q.contextItemLabel(X,w)):(0,u.t)(q.contextItemLabel)),(0,n.jsx)("li",{"data-testid":Fe,onClick:s,children:(0,n.jsxs)("button",{className:(0,$.Z)("context-menu-option",{dangerous:Fe==="deleteSelectedElements",checkmark:(ve=q.checked)===null||ve===void 0?void 0:ve.call(q,w)}),onClick:function(){return k.executeAction(q,"contextMenu")},children:[(0,n.jsx)("div",{className:"context-menu-option__label",children:Ue}),(0,n.jsx)("kbd",{className:"context-menu-option__shortcut",children:Fe?(Ie=Fe,Ae=Ye[Ie],Ae&&Ae.length>0?Ae[0]:""):""})]})},Se)})})})},at=new WeakMap,yt=function(e){var a,s,d=Array.of();e.options.forEach(function(Z){Z&&d.push(Z)}),d.length&&(0,si.render)((0,n.jsx)(lt,{top:e.top,left:e.left,options:d,onCloseRequest:function(){return Z=e.container,void((k=at.get(Z))&&((0,si.unmountComponentAtNode)(k),k.remove(),at.delete(Z)));var Z,k},actionManager:e.actionManager,appState:e.appState,elements:e.elements}),(a=e.container,(s=at.get(a))||(s=document.createElement("div"),a.querySelector(".excalidraw-contextMenuContainer").appendChild(s),at.set(a,s),s)))},$t=o(2726),fn=o(8120);function In(e,a){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);a&&(d=d.filter(function(Z){return Object.getOwnPropertyDescriptor(e,Z).enumerable})),s.push.apply(s,d)}return s}function pr(e){for(var a=1;a<arguments.length;a++){var s=arguments[a]!=null?arguments[a]:{};a%2?In(Object(s),!0).forEach(function(d){(0,j.Z)(e,d,s[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):In(Object(s)).forEach(function(d){Object.defineProperty(e,d,Object.getOwnPropertyDescriptor(s,d))})}return e}function En(e,a){var s=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!s){if(Array.isArray(e)||(s=function(q,Se){if(q){if(typeof q=="string")return di(q,Se);var ve=Object.prototype.toString.call(q).slice(8,-1);if(ve==="Object"&&q.constructor&&(ve=q.constructor.name),ve==="Map"||ve==="Set")return Array.from(q);if(ve==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ve))return di(q,Se)}}(e))||a&&e&&typeof e.length=="number"){s&&(e=s);var d=0,Z=function(){};return{s:Z,n:function(){return d>=e.length?{done:!0}:{done:!1,value:e[d++]}},e:function(q){throw q},f:Z}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var k,w=!0,X=!1;return{s:function(){s=s.call(e)},n:function(){var q=s.next();return w=q.done,q},e:function(q){X=!0,k=q},f:function(){try{w||s.return==null||s.return()}finally{if(X)throw k}}}}function di(e,a){(a==null||a>e.length)&&(a=e.length);for(var s=0,d=new Array(a);s<a;s++)d[s]=e[s];return d}var _a=function(e){var a,s=e.appState,d=e.elements,Z=e.renderAction,k=e.activeTool,w=(0,se.Zs)((0,p.Lm)(d),s),X=!1;w.length===2&&((0,m.Xo)(w[0])||(0,m.Xo)(w[1]))&&(X=!0);var q,Se=!!s.editingElement,ve=Fn(),Ie=document.documentElement.getAttribute("dir")==="rtl",Ae=(0,se.$b)(k)||w.some(function(qe){return(0,se.$b)(qe.type)&&!(0,c.Qm)(qe.backgroundColor)}),Fe=(0,se.$b)(k)||w.some(function(qe){return(0,se.$b)(qe.type)}),Ue=w.length===1||X,Ke=((a=w[0])===null||a===void 0?void 0:a.type)||null,tt=En(w);try{for(tt.s();!(q=tt.n()).done;)if(q.value.type!==Ke){Ke=null;break}}catch(qe){tt.e(qe)}finally{tt.f()}return(0,n.jsxs)("div",{className:"panelColumn",children:[((0,fn.PD)(k)&&k!=="image"&&Ke!=="image"||w.some(function(qe){return(0,fn.PD)(qe.type)}))&&Z("changeStrokeColor"),Fe&&Z("changeBackgroundColor"),Ae&&Z("changeFillStyle"),((0,se.Zd)(k)||w.some(function(qe){return(0,se.Zd)(qe.type)}))&&Z("changeStrokeWidth"),(k==="freedraw"||w.some(function(qe){return qe.type==="freedraw"}))&&Z("changeStrokeShape"),((0,se.M9)(k)||w.some(function(qe){return(0,se.M9)(qe.type)}))&&(0,n.jsxs)(n.Fragment,{children:[Z("changeStrokeStyle"),Z("changeSloppiness")]}),((0,se.gP)(k)||w.some(function(qe){return(0,se.gP)(qe.type)}))&&(0,n.jsx)(n.Fragment,{children:Z("changeSharpness")}),((0,se.bZ)(k)||w.some(function(qe){return(0,se.bZ)(qe.type)}))&&(0,n.jsxs)(n.Fragment,{children:[Z("changeFontSize"),Z("changeFontFamily"),Z("changeTextAlign")]}),w.some(function(qe){return(0,m.Xo)(qe)||(0,m.Xh)(qe)})&&Z("changeVerticalAlign"),((0,se.Un)(k)||w.some(function(qe){return(0,se.Un)(qe.type)}))&&(0,n.jsx)(n.Fragment,{children:Z("changeArrowhead")}),Z("changeOpacity"),(0,n.jsxs)("fieldset",{children:[(0,n.jsx)("legend",{children:(0,u.t)("labels.layers")}),(0,n.jsxs)("div",{className:"buttonList",children:[Z("sendToBack"),Z("sendBackward"),Z("bringToFront"),Z("bringForward")]})]}),w.length>1&&!X&&(0,n.jsxs)("fieldset",{children:[(0,n.jsx)("legend",{children:(0,u.t)("labels.align")}),(0,n.jsxs)("div",{className:"buttonList",children:[Ie?(0,n.jsxs)(n.Fragment,{children:[Z("alignRight"),Z("alignHorizontallyCentered"),Z("alignLeft")]}):(0,n.jsxs)(n.Fragment,{children:[Z("alignLeft"),Z("alignHorizontallyCentered"),Z("alignRight")]}),w.length>2&&Z("distributeHorizontally"),(0,n.jsxs)("div",{className:"iconRow",children:[Z("alignTop"),Z("alignVerticallyCentered"),Z("alignBottom"),w.length>2&&Z("distributeVertically")]})]})]}),!Se&&w.length>0&&(0,n.jsxs)("fieldset",{children:[(0,n.jsx)("legend",{children:(0,u.t)("labels.actions")}),(0,n.jsxs)("div",{className:"buttonList",children:[!ve.isMobile&&Z("duplicateSelection"),!ve.isMobile&&Z("deleteSelectedElements"),Z("group"),Z("ungroup"),Ue&&Z("hyperlink")]})]})]})},or=function(e){var a=e.canvas,s=e.activeTool,d=e.setAppState,Z=e.onImageAction,k=e.appState;return(0,n.jsx)(n.Fragment,{children:Ki.map(function(w,X){var q=w.value,Se=w.icon,ve=w.key,Ie=(0,u.t)("toolBar.".concat(q)),Ae=ve&&(typeof ve=="string"?ve:ve[0]),Fe=Ae?"".concat((0,c.Oo)(Ae)," ").concat((0,u.t)("helpDialog.or")," ").concat(X+1):"".concat(X+1);return(0,n.jsx)(F.V,{className:"Shape",type:"radio",icon:Se,checked:s.type===q,name:"editor-current-shape",title:"".concat((0,c.Oo)(Ie)," — ").concat(Fe),keyBindingLabel:"".concat(X+1),"aria-label":(0,c.Oo)(Ie),"aria-keyshortcuts":Fe,"data-testid":q,onPointerDown:function(Ue){var Ke=Ue.pointerType;k.penDetected||Ke!=="pen"||d({penDetected:!0,penMode:!0})},onChange:function(Ue){var Ke=Ue.pointerType;k.activeTool.type!==q&&(0,nr.L)("toolbar",q,"ui");var tt=(0,c.Om)(k,{type:q});d({activeTool:tt,multiElement:null,selectedElementIds:{}}),(0,c.Uk)(a,pr(pr({},k),{},{activeTool:tt})),q==="image"&&Z({pointerType:Ke})}},q)})})},fi=function(e){var a=e.renderAction;return e.zoom,(0,n.jsx)(Re,{gap:1,children:(0,n.jsxs)(it,{gap:1,align:"center",children:[a("zoomOut"),a("zoomIn"),a("resetZoom")]})})},Ea=function(e){e.appState,e.setAppState;var a=e.actionManager,s=e.showThemeBtn;return(0,n.jsxs)("div",{style:{display:"flex"},children:[a.renderAction("changeViewBackgroundColor"),s&&a.renderAction("toggleTheme")]})},io=(o(778),function(e){var a=e.isCollaborating,s=e.collaboratorCount,d=e.onClick;return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(F.V,{className:(0,$.Z)("CollabButton",{"is-collaborating":a}),onClick:d,icon:h.rC,type:"button",title:(0,u.t)("labels.liveCollaboration"),"aria-label":(0,u.t)("labels.liveCollaboration"),showAriaLabel:Fn().isMobile,children:a&&(0,n.jsx)("div",{className:"CollabButton-collaborators",children:s})})})}),wr=o(2939),pi=function(e){var a=e.message,s=e.onClose,d=(0,re.useState)(!!a),Z=(0,i.Z)(d,2),k=Z[0],w=Z[1],X=Uo().container,q=ne().useCallback(function(){w(!1),s&&s(),X==null||X.focus()},[s,X]);return(0,n.jsx)(n.Fragment,{children:k&&(0,n.jsx)(wr.V,{small:!0,onCloseRequest:q,title:(0,u.t)("errorDialog.title"),children:(0,n.jsx)("div",{style:{whiteSpace:"pre-wrap"},children:a})})})},vn=o(6797),cr=(o(2205),o(5284)),Sa="filter"in document.createElement("canvas").getContext("2d"),hi=function(){return(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{children:(0,u.t)("canvasError.cannotShowPreview")}),(0,n.jsx)("p",{children:(0,n.jsx)("span",{children:(0,u.t)("canvasError.canvasTooBig")})}),(0,n.jsxs)("em",{children:["(",(0,u.t)("canvasError.canvasTooBigTip"),")"]})]})},Ca=function(e,a){(0,si.unmountComponentAtNode)(a),a.innerHTML="",e instanceof HTMLCanvasElement?a.appendChild(e):(0,si.render)((0,n.jsx)(hi,{}),a)},Vi=function(e){var a,s=e.children,d=e.title,Z=e.onClick,k=e.color,w=e.shade,X=w===void 0?6:w;return(0,n.jsx)("button",{className:"ExportDialog-imageExportButton",style:(a={},(0,j.Z)(a,"--button-color",cr[k][X]),(0,j.Z)(a,"--button-color-darker",cr[k][X+1]),(0,j.Z)(a,"--button-color-darkest",cr[k][X+2]),a),title:d,"aria-label":d,onClick:Z,children:s})},gl=function(e){var a=e.elements,s=e.appState,d=e.files,Z=e.exportPadding,k=Z===void 0?Q.qy:Z,w=e.actionManager,X=e.onExportToPng,q=e.onExportToSvg,Se=e.onExportToClipboard,ve=(0,se.N)(a,s),Ie=(0,re.useState)(ve),Ae=(0,i.Z)(Ie,2),Fe=Ae[0],Ue=Ae[1],Ke=(0,re.useRef)(null),tt=s.exportBackground,qe=s.viewBackgroundColor,Qe=Fe?(0,se.eD)(a,s,!0):a;return(0,re.useEffect)(function(){Ue(ve)},[ve]),(0,re.useEffect)(function(){var $e=Ke.current;$e&&(0,et.NL)(Qe,s,d,{exportBackground:tt,viewBackgroundColor:qe,exportPadding:k}).then(function(rt){return(0,he._c)(rt).then(function(){Ca(rt,$e)})}).catch(function(rt){console.error(rt),Ca(new vn.l,$e)})},[s,d,Qe,tt,k,qe]),(0,n.jsxs)("div",{className:"ExportDialog",children:[(0,n.jsx)("div",{className:"ExportDialog__preview",ref:Ke}),Sa&&w.renderAction("exportWithDarkMode"),(0,n.jsx)("div",{style:{display:"grid",gridTemplateColumns:"1fr"},children:(0,n.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(190px, 1fr))",overflow:"hidden"},children:[w.renderAction("changeExportBackground"),ve&&(0,n.jsx)(Be,{checked:Fe,onChange:function($e){return Ue($e)},children:(0,u.t)("labels.onlySelected")}),w.renderAction("changeExportEmbedScene")]})}),(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",marginTop:".6em"},children:[(0,n.jsx)(it,{gap:2,children:w.renderAction("changeExportScale")}),(0,n.jsx)("p",{style:{marginLeft:"1em",userSelect:"none"},children:"Scale"})]}),(0,n.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",margin:".6em 0"},children:!de.kr&&w.renderAction("changeProjectName")}),(0,n.jsxs)(it,{gap:2,justifyContent:"center",style:{margin:"2em 0"},children:[(0,n.jsx)(Vi,{color:"indigo",title:(0,u.t)("buttons.exportToPng"),"aria-label":(0,u.t)("buttons.exportToPng"),onClick:function(){return X(Qe)},children:"PNG"}),(0,n.jsx)(Vi,{color:"red",title:(0,u.t)("buttons.exportToSvg"),"aria-label":(0,u.t)("buttons.exportToSvg"),onClick:function(){return q(Qe)},children:"SVG"}),pt.vt&&(0,n.jsx)(Vi,{title:(0,u.t)("buttons.copyPngToClipboard"),onClick:function(){return Se(Qe)},color:"gray",shade:7,children:h.BR})]})]})},mi=function(e){var a=e.elements,s=e.appState,d=e.files,Z=e.exportPadding,k=Z===void 0?Q.qy:Z,w=e.actionManager,X=e.onExportToPng,q=e.onExportToSvg,Se=e.onExportToClipboard,ve=(0,re.useState)(!1),Ie=(0,i.Z)(ve,2),Ae=Ie[0],Fe=Ie[1],Ue=ne().useCallback(function(){Fe(!1)},[]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(F.V,{onClick:function(){Fe(!0)},"data-testid":"image-export-button",icon:h.Rb,type:"button","aria-label":(0,u.t)("buttons.exportImage"),showAriaLabel:Fn().isMobile,title:(0,u.t)("buttons.exportImage")}),Ae&&(0,n.jsx)(wr.V,{onCloseRequest:Ue,title:(0,u.t)("buttons.exportImage"),children:(0,n.jsx)(gl,{elements:a,appState:s,files:d,exportPadding:k,actionManager:w,onExportToPng:X,onExportToSvg:q,onExportToClipboard:Se,onCloseRequest:Ue})})]})},Lr=(o(1310),function(e){var a=e.children,s=e.side,d=e.className;return(0,n.jsx)("div",{className:(0,$.Z)("FixedSideContainer","FixedSideContainer_side_".concat(s),d),children:a})}),zo=(o(7096),function(e){var a=function(s){var d=s.appState,Z=s.elements,k=s.isMobile,w=d.activeTool,X=d.isResizing,q=d.isRotating,Se=d.lastPointerDownWith,ve=d.multiElement!==null;if(d.isLibraryOpen)return null;if((0,Fr.EN)(d))return(0,u.t)("hints.eraserRevert");if(w.type==="arrow"||w.type==="line")return ve?(0,u.t)("hints.linearElementMulti"):(0,u.t)("hints.linearElement");if(w.type==="freedraw")return(0,u.t)("hints.freeDraw");if(w.type==="text")return(0,u.t)("hints.text");if(d.activeTool.type==="image"&&d.pendingImageElementId)return(0,u.t)("hints.placeImage");var Ie=(0,se.eD)(Z,d);if(X&&Se==="mouse"&&Ie.length===1){var Ae=Ie[0];return(0,m.bt)(Ae)&&Ae.points.length===2?(0,u.t)("hints.lockAngle"):(0,m.pC)(Ae)?(0,u.t)("hints.resizeImage"):(0,u.t)("hints.resize")}if(q&&Se==="mouse")return(0,u.t)("hints.rotate");if(Ie.length===1&&(0,m.iB)(Ie[0]))return(0,u.t)("hints.text_selected");if(d.editingElement&&(0,m.iB)(d.editingElement))return(0,u.t)("hints.text_editing");if(w.type==="selection"){var Fe;if(((Fe=d.draggingElement)===null||Fe===void 0?void 0:Fe.type)==="selection"&&!d.editingElement&&!d.editingLinearElement)return(0,u.t)("hints.deepBoxSelect");if(!Ie.length&&!k)return(0,u.t)("hints.canvasPanning")}if(Ie.length===1){if((0,m.bt)(Ie[0]))return d.editingLinearElement?d.editingLinearElement.selectedPointsIndices?(0,u.t)("hints.lineEditor_pointSelected"):(0,u.t)("hints.lineEditor_nothingSelected"):(0,u.t)("hints.lineEditor_info");if((0,m.mG)(Ie[0]))return(0,u.t)("hints.bindTextToElement")}return null}({appState:e.appState,elements:e.elements,isMobile:e.isMobile});return a?(a=(0,c.uY)(a),(0,n.jsx)("div",{className:"HintViewer",children:(0,n.jsx)("span",{children:a})})):null}),kr=o(1226),gi=o(5440),Yi={CHECKED:(0,n.jsx)("svg",{width:"1792",height:"1792",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{d:"M640 768h512v-192q0-106-75-181t-181-75-181 75-75 181v192zm832 96v576q0 40-28 68t-68 28h-960q-40 0-68-28t-28-68v-576q0-40 28-68t68-28h32v-192q0-184 132-316t316-132 316 132 132 316v192h32q40 0 68 28t28 68z"})}),UNCHECKED:(0,n.jsx)("svg",{width:"1792",height:"1792",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg",className:"unlocked-icon rtl-mirror",children:(0,n.jsx)("path",{d:"M1728 576v256q0 26-19 45t-45 19h-64q-26 0-45-19t-19-45v-256q0-106-75-181t-181-75-181 75-75 181v192h96q40 0 68 28t28 68v576q0 40-28 68t-68 28h-960q-40 0-68-28t-28-68v-576q0-40 28-68t68-28h672v-192q0-185 131.5-316.5t316.5-131.5 316.5 131.5 131.5 316.5z"})})},Gi=function(e){return(0,n.jsxs)("label",{className:(0,$.Z)("ToolIcon ToolIcon__lock ToolIcon_type_floating","ToolIcon_size_".concat("medium"),{"is-mobile":e.isMobile}),title:"".concat(e.title," — Q"),children:[(0,n.jsx)("input",{className:"ToolIcon_type_checkbox",type:"checkbox",name:e.name,onChange:e.onChange,checked:e.checked,"aria-label":e.title}),(0,n.jsx)("div",{className:"ToolIcon__icon",children:e.checked?Yi.CHECKED:Yi.UNCHECKED})]})},vi=["heading","children"];function Xi(e,a){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);a&&(d=d.filter(function(Z){return Object.getOwnPropertyDescriptor(e,Z).enumerable})),s.push.apply(s,d)}return s}function _o(e){for(var a=1;a<arguments.length;a++){var s=arguments[a]!=null?arguments[a]:{};a%2?Xi(Object(s),!0).forEach(function(d){(0,j.Z)(e,d,s[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Xi(Object(s)).forEach(function(d){Object.defineProperty(e,d,Object.getOwnPropertyDescriptor(s,d))})}return e}var qn=function(e){var a=e.heading,s=e.children,d=(0,$t.Z)(e,vi),Z=Uo().id,k=(0,n.jsx)("h2",{className:"visually-hidden",id:"".concat(Z,"-").concat(a,"-title"),children:(0,u.t)("headings.".concat(a))});return(0,n.jsx)("section",_o(_o({},d),{},{"aria-labelledby":"".concat(Z,"-").concat(a,"-title"),children:typeof s=="function"?s(k):(0,n.jsxs)(n.Fragment,{children:[k,s]})}))},Pr=o(756),Oa=(o(580),function(e){var a=e.className,s=e.mobile,d=e.collaborators,Z=e.actionManager,k=new Map;d.forEach(function(X,q){k.set(X.id||q,X)});var w=k.size>0&&Array.from(k).filter(function(X){var q=(0,i.Z)(X,2),Se=(q[0],q[1]);return Object.keys(Se).length!==0}).map(function(X){var q=(0,i.Z)(X,2),Se=q[0],ve=q[1],Ie=Z.renderAction("goToCollaborator",[Se,ve]);return s?(0,n.jsx)(nt.u,{label:ve.username||"Unknown user",children:Ie},Se):(0,n.jsx)(ne().Fragment,{children:Ie},Se)});return(0,n.jsx)("div",{className:(0,$.Z)("UserList",a,{UserList_mobile:s}),children:w})}),vl=(0,n.jsx)("svg",{viewBox:"0 0 576 512",children:(0,n.jsx)("path",{fill:"currentColor",d:"M542.22 32.05c-54.8 3.11-163.72 14.43-230.96 55.59-4.64 2.84-7.27 7.89-7.27 13.17v363.87c0 11.55 12.63 18.85 23.28 13.49 69.18-34.82 169.23-44.32 218.7-46.92 16.89-.89 30.02-14.43 30.02-30.66V62.75c.01-17.71-15.35-31.74-33.77-30.7zM264.73 87.64C197.5 46.48 88.58 35.17 33.78 32.05 15.36 31.01 0 45.04 0 62.75V400.6c0 16.24 13.13 29.78 30.02 30.66 49.49 2.6 149.59 12.11 218.77 46.95 10.62 5.35 23.21-1.94 23.21-13.46V100.63c0-5.29-2.62-10.14-7.27-12.99z"})}),ja=function(e){var a=e.appState,s=e.setAppState,d=e.isMobile,Z=Fn();return(0,n.jsxs)("label",{className:(0,$.Z)("ToolIcon ToolIcon_type_floating ToolIcon__library","ToolIcon_size_medium",{"is-mobile":d}),title:"".concat((0,c.Oo)((0,u.t)("toolBar.library"))," — 0"),children:[(0,n.jsx)("input",{className:"ToolIcon_type_checkbox",type:"checkbox",name:"editor-library",onChange:function(k){var w;(w=document.querySelector(".layer-ui__wrapper"))===null||w===void 0||w.classList.remove("animate");var X=k.target.checked;s({isLibraryOpen:X}),X&&(0,nr.L)("library","toggleLibrary (open)","toolbar (".concat(Z.isMobile?"mobile":"desktop",")"))},checked:a.isLibraryOpen,"aria-label":(0,c.Oo)((0,u.t)("toolBar.library")),"aria-keyshortcuts":"0"}),(0,n.jsx)("div",{className:"ToolIcon__icon",children:vl})]})},Ro="medium",Zo={CHECKED:(0,n.jsxs)("svg",{width:"205",height:"205",viewBox:"0 0 205 205",xmlns:"http://www.w3.org/2000/svg",children:[(0,n.jsx)("path",{d:"m35 195-25-29.17V50h50v115l-25 30"}),(0,n.jsx)("path",{d:"M10 40V10h50v30H10"}),(0,n.jsx)("path",{d:"M125 145h70v50h-70"}),(0,n.jsx)("path",{d:"M190 145v-30l-10-20h-40l-10 20v30h15v-30l5-5h20l5 5v30h15"})]}),UNCHECKED:(0,n.jsxs)("svg",{width:"205",height:"205",viewBox:"0 0 205 205",xmlns:"http://www.w3.org/2000/svg",className:"unlocked-icon rtl-mirror",children:[(0,n.jsx)("path",{d:"m35 195-25-29.17V50h50v115l-25 30"}),(0,n.jsx)("path",{d:"M10 40V10h50v30H10"}),(0,n.jsx)("path",{d:"M125 145h70v50h-70"}),(0,n.jsx)("path",{d:"M145 145v-30l-10-20H95l-10 20v30h15v-30l5-5h20l5 5v30h15"})]})},bi=function(e){return e.penDetected?(0,n.jsxs)("label",{className:(0,$.Z)("ToolIcon ToolIcon__penMode ToolIcon_type_floating","ToolIcon_size_".concat(Ro),{"is-mobile":e.isMobile}),title:"".concat(e.title),children:[(0,n.jsx)("input",{className:"ToolIcon_type_checkbox",type:"checkbox",name:e.name,onChange:e.onChange,checked:e.checked,"aria-label":e.title}),(0,n.jsx)("div",{className:"ToolIcon__icon",children:e.checked?Zo.CHECKED:Zo.UNCHECKED})]}):e.isMobile?null:(0,n.jsx)("label",{className:(0,$.Z)("ToolIcon ToolIcon__penMode ToolIcon_type_floating","ToolIcon_size_".concat(Ro),{"is-mobile":e.isMobile}),children:(0,n.jsx)("div",{className:"ToolIcon__icon ToolIcon__hidden"})})};function Ia(e,a){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);a&&(d=d.filter(function(Z){return Object.getOwnPropertyDescriptor(e,Z).enumerable})),s.push.apply(s,d)}return s}var Ta=function(e){var a,s=e.appState,d=e.elements,Z=e.libraryMenu,k=e.actionManager,w=e.renderJSONExportDialog,X=e.renderImageExportDialog,q=e.setAppState,Se=e.onCollabButtonClick,ve=e.onLockToggle,Ie=e.onPenModeToggle,Ae=e.canvas,Fe=e.isCollaborating,Ue=e.renderCustomFooter,Ke=e.viewModeEnabled,tt=e.showThemeBtn,qe=e.onImageAction,Qe=e.renderTopRightUI,$e=e.renderStats;return(0,n.jsxs)(n.Fragment,{children:[!Ke&&(0,n.jsxs)(Lr,{side:"top",className:"App-top-bar",children:[(0,n.jsx)(qn,{heading:"shapes",children:function(rt){return(0,n.jsxs)(Re,{gap:4,align:"center",children:[(0,n.jsxs)(it,{gap:1,className:"App-toolbar-container",children:[(0,n.jsxs)(kr.W,{padding:1,className:"App-toolbar",children:[rt,(0,n.jsx)(it,{gap:1,children:(0,n.jsx)(or,{appState:s,canvas:Ae,activeTool:s.activeTool,setAppState:q,onImageAction:function(jt){var At=jt.pointerType;qe({insertOnCanvasDirectly:At!=="mouse"})}})})]}),Qe&&Qe(!0,s),(0,n.jsx)(Gi,{checked:s.activeTool.locked,onChange:ve,title:(0,u.t)("toolBar.lock"),isMobile:!0}),(0,n.jsx)(ja,{appState:s,setAppState:q,isMobile:!0}),(0,n.jsx)(bi,{checked:s.penMode,onChange:Ie,title:(0,u.t)("toolBar.penMode"),isMobile:!0,penDetected:s.penDetected})]}),Z]})}}),(0,n.jsx)(zo,{appState:s,elements:d,isMobile:!0})]}),$e(),(0,n.jsx)("div",{className:"App-bottom-bar",style:{marginBottom:Pr.nn+2*Pr.WM,marginLeft:Pr.nn+2*Pr.WM,marginRight:Pr.nn+2*Pr.WM},children:(0,n.jsxs)(kr.W,{padding:0,children:[s.openMenu==="canvas"?(0,n.jsx)(qn,{className:"App-mobile-menu",heading:"canvasActions",children:(0,n.jsx)("div",{className:"panelColumn",children:(0,n.jsxs)(Re,{gap:4,children:[Ke?(0,n.jsxs)(n.Fragment,{children:[w(),X()]}):(0,n.jsxs)(n.Fragment,{children:[k.renderAction("clearCanvas"),k.renderAction("loadScene"),w(),X(),Se&&(0,n.jsx)(io,{isCollaborating:Fe,collaboratorCount:s.collaborators.size,onClick:Se}),(0,n.jsx)(Ea,{actionManager:k,appState:s,setAppState:q,showThemeBtn:tt})]}),Ue==null?void 0:Ue(!0,s),s.collaborators.size>0&&(0,n.jsxs)("fieldset",{children:[(0,n.jsx)("legend",{children:(0,u.t)("labels.collaborators")}),(0,n.jsx)(Oa,{mobile:!0,collaborators:s.collaborators,actionManager:k})]})]})})}):s.openMenu==="shape"&&!Ke&&(0,p.RT)(s,d)?(0,n.jsx)(qn,{className:"App-mobile-menu",heading:"selectedShapeActions",children:(0,n.jsx)(_a,{appState:s,elements:d,renderAction:k.renderAction,activeTool:s.activeTool.type})}):null,(0,n.jsxs)("footer",{className:"App-toolbar",children:[(a=!s.viewModeEnabled&&!s.editingElement&&(0,se.eD)(d,s).length===0,Ke?(0,n.jsx)("div",{className:"App-toolbar-content",children:k.renderAction("toggleCanvasMenu")}):(0,n.jsxs)("div",{className:"App-toolbar-content",children:[k.renderAction("toggleCanvasMenu"),k.renderAction("toggleEditMenu"),k.renderAction("undo"),k.renderAction("redo"),a&&k.renderAction("eraser"),k.renderAction(s.multiElement?"finalize":"duplicateSelection"),k.renderAction("deleteSelectedElements")]})),s.scrolledOutside&&!s.openMenu&&(0,n.jsx)("button",{className:"scroll-back-to-content",onClick:function(){q(function(rt){for(var jt=1;jt<arguments.length;jt++){var At=arguments[jt]!=null?arguments[jt]:{};jt%2?Ia(Object(At),!0).forEach(function(St){(0,j.Z)(rt,St,At[St])}):Object.getOwnPropertyDescriptors?Object.defineProperties(rt,Object.getOwnPropertyDescriptors(At)):Ia(Object(At)).forEach(function(St){Object.defineProperty(rt,St,Object.getOwnPropertyDescriptor(At,St))})}return rt}({},(0,se.W)(d,s,Ae)))},children:(0,u.t)("buttons.scrollBackToContent")})]})]})})]})},bl=o(5674),Ma=(o(8051),function(e){var a=(0,re.useRef)(null),s=(0,re.useState)(null),d=(0,i.Z)(s,2),Z=d[0],k=d[1];return(0,re.useLayoutEffect)(function(){if(e.spreadsheet){var w,X=(0,bl.ps)(e.chartType,e.spreadsheet,0,0);k(X);var q=a.current;return(0,g.Z)(W().mark(function Se(){return W().wrap(function(ve){for(;;)switch(ve.prev=ve.next){case 0:return ve.next=2,(0,et.$D)(X,{exportBackground:!1,viewBackgroundColor:cr.white},null);case 2:w=ve.sent,q.appendChild(w),e.selected&&q.parentNode.focus();case 5:case"end":return ve.stop()}},Se)}))(),function(){q.removeChild(w)}}},[e.spreadsheet,e.chartType,e.selected]),(0,n.jsx)("button",{className:"ChartPreview",onClick:function(){Z&&e.onClick(e.chartType,Z)},children:(0,n.jsx)("div",{ref:a})})}),Ln=function(e){var a=e.setAppState,s=e.appState,d=e.onClose,Z=e.onInsertChart,k=ne().useCallback(function(){d&&d()},[d]),w=function(X,q){Z(q),(0,nr.L)("magic","chart",X),a({currentChartType:X,pasteDialog:{shown:!1,data:null}})};return(0,n.jsx)(wr.V,{small:!0,onCloseRequest:k,title:(0,u.t)("labels.pasteCharts"),className:"PasteChartDialog",autofocus:!1,children:(0,n.jsxs)("div",{className:"container",children:[(0,n.jsx)(Ma,{chartType:"bar",spreadsheet:s.pasteDialog.data,selected:s.currentChartType==="bar",onClick:w}),(0,n.jsx)(Ma,{chartType:"line",spreadsheet:s.pasteDialog.data,selected:s.currentChartType==="line",onClick:w})]})})};o(3922);function Hn(e,a){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);a&&(d=d.filter(function(Z){return Object.getOwnPropertyDescriptor(e,Z).enumerable})),s.push.apply(s,d)}return s}var yl=function(){return(0,n.jsxs)("div",{className:"HelpDialog--header",children:[(0,n.jsx)("a",{className:"HelpDialog--btn",href:"https://github.com/excalidraw/excalidraw#documentation",target:"_blank",rel:"noopener noreferrer",children:(0,u.t)("helpDialog.documentation")}),(0,n.jsx)("a",{className:"HelpDialog--btn",href:"https://blog.excalidraw.com",target:"_blank",rel:"noopener noreferrer",children:(0,u.t)("helpDialog.blog")}),(0,n.jsx)("a",{className:"HelpDialog--btn",href:"https://github.com/excalidraw/excalidraw/issues",target:"_blank",rel:"noopener noreferrer",children:(0,u.t)("helpDialog.github")})]})},xl=function(e){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("h3",{children:e.title}),e.children]})},La=function(e){return(0,n.jsx)("div",{style:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between"},children:e.children})},Pa=function(e){return(0,n.jsx)("div",{style:{width:"49%"},children:e.children})},No=function(e){return(0,n.jsxs)("div",{className:"HelpDialog--island",children:[(0,n.jsx)("h3",{className:"HelpDialog--island-title",children:e.caption}),e.children]})},Ct=function(e){return(0,n.jsx)("div",{className:"HelpDialog--shortcut",children:(0,n.jsxs)("div",{style:{display:"flex",margin:"0",padding:"4px 8px",alignItems:"center"},children:[(0,n.jsx)("div",{style:{lineHeight:1.4},children:e.label}),(0,n.jsx)("div",{style:{display:"flex",flex:"0 0 auto",justifyContent:"flex-end",marginInlineStart:"auto",minWidth:"30%"},children:e.shortcuts.map(function(a,s){return(0,n.jsxs)(ne().Fragment,{children:[(0,n.jsx)(qi,{children:a}),e.isOr&&s!==e.shortcuts.length-1&&(0,u.t)("helpDialog.or")]},s)})})]})})};Ct.defaultProps={isOr:!0};var qi=function(e){return(0,n.jsx)("kbd",function(a){for(var s=1;s<arguments.length;s++){var d=arguments[s]!=null?arguments[s]:{};s%2?Hn(Object(d),!0).forEach(function(Z){(0,j.Z)(a,Z,d[Z])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(d)):Hn(Object(d)).forEach(function(Z){Object.defineProperty(a,Z,Object.getOwnPropertyDescriptor(d,Z))})}return a}({className:"HelpDialog--key"},e))},Eo=function(e){var a=e.onClose,s=ne().useCallback(function(){a&&a()},[a]);return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(wr.V,{onCloseRequest:s,title:(0,u.t)("helpDialog.title"),className:"HelpDialog",children:[(0,n.jsx)(yl,{}),(0,n.jsx)(xl,{title:(0,u.t)("helpDialog.shortcuts"),children:(0,n.jsxs)(La,{children:[(0,n.jsxs)(Pa,{children:[(0,n.jsxs)(No,{caption:(0,u.t)("helpDialog.tools"),children:[(0,n.jsx)(Ct,{label:(0,u.t)("toolBar.selection"),shortcuts:["V","1"]}),(0,n.jsx)(Ct,{label:(0,u.t)("toolBar.rectangle"),shortcuts:["R","2"]}),(0,n.jsx)(Ct,{label:(0,u.t)("toolBar.diamond"),shortcuts:["D","3"]}),(0,n.jsx)(Ct,{label:(0,u.t)("toolBar.ellipse"),shortcuts:["O","4"]}),(0,n.jsx)(Ct,{label:(0,u.t)("toolBar.arrow"),shortcuts:["A","5"]}),(0,n.jsx)(Ct,{label:(0,u.t)("toolBar.line"),shortcuts:["P","6"]}),(0,n.jsx)(Ct,{label:(0,u.t)("toolBar.freedraw"),shortcuts:["Shift + P","X","7"]}),(0,n.jsx)(Ct,{label:(0,u.t)("toolBar.text"),shortcuts:["T","8"]}),(0,n.jsx)(Ct,{label:(0,u.t)("toolBar.image"),shortcuts:["9"]}),(0,n.jsx)(Ct,{label:(0,u.t)("toolBar.library"),shortcuts:["0"]}),(0,n.jsx)(Ct,{label:(0,u.t)("toolBar.eraser"),shortcuts:[(0,c.uY)("E")]}),(0,n.jsx)(Ct,{label:(0,u.t)("helpDialog.editSelectedShape"),shortcuts:[(0,c.uY)("Enter"),(0,u.t)("helpDialog.doubleClick")]}),(0,n.jsx)(Ct,{label:(0,u.t)("helpDialog.textNewLine"),shortcuts:[(0,c.uY)("Enter"),(0,c.uY)("Shift+Enter")]}),(0,n.jsx)(Ct,{label:(0,u.t)("helpDialog.textFinish"),shortcuts:[(0,c.uY)("Esc"),(0,c.uY)("CtrlOrCmd+Enter")]}),(0,n.jsx)(Ct,{label:(0,u.t)("helpDialog.curvedArrow"),shortcuts:["A",(0,u.t)("helpDialog.click"),(0,u.t)("helpDialog.click"),(0,u.t)("helpDialog.click")],isOr:!1}),(0,n.jsx)(Ct,{label:(0,u.t)("helpDialog.curvedLine"),shortcuts:["L",(0,u.t)("helpDialog.click"),(0,u.t)("helpDialog.click"),(0,u.t)("helpDialog.click")],isOr:!1}),(0,n.jsx)(Ct,{label:(0,u.t)("toolBar.lock"),shortcuts:["Q"]}),(0,n.jsx)(Ct,{label:(0,u.t)("helpDialog.preventBinding"),shortcuts:[(0,c.uY)("CtrlOrCmd")]}),(0,n.jsx)(Ct,{label:(0,u.t)("toolBar.link"),shortcuts:[(0,c.uY)("CtrlOrCmd+K")]})]}),(0,n.jsxs)(No,{caption:(0,u.t)("helpDialog.view"),children:[(0,n.jsx)(Ct,{label:(0,u.t)("buttons.zoomIn"),shortcuts:[(0,c.uY)("CtrlOrCmd++")]}),(0,n.jsx)(Ct,{label:(0,u.t)("buttons.zoomOut"),shortcuts:[(0,c.uY)("CtrlOrCmd+-")]}),(0,n.jsx)(Ct,{label:(0,u.t)("buttons.resetZoom"),shortcuts:[(0,c.uY)("CtrlOrCmd+0")]}),(0,n.jsx)(Ct,{label:(0,u.t)("helpDialog.zoomToFit"),shortcuts:["Shift+1"]}),(0,n.jsx)(Ct,{label:(0,u.t)("helpDialog.zoomToSelection"),shortcuts:["Shift+2"]}),(0,n.jsx)(Ct,{label:(0,u.t)("buttons.fullScreen"),shortcuts:["F"]}),(0,n.jsx)(Ct,{label:(0,u.t)("buttons.zenMode"),shortcuts:[(0,c.uY)("Alt+Z")]}),(0,n.jsx)(Ct,{label:(0,u.t)("labels.showGrid"),shortcuts:[(0,c.uY)("CtrlOrCmd+'")]}),(0,n.jsx)(Ct,{label:(0,u.t)("labels.viewMode"),shortcuts:[(0,c.uY)("Alt+R")]}),(0,n.jsx)(Ct,{label:(0,u.t)("labels.toggleTheme"),shortcuts:[(0,c.uY)("Alt+Shift+D")]}),(0,n.jsx)(Ct,{label:(0,u.t)("stats.title"),shortcuts:[(0,c.uY)("Alt+/")]})]})]}),(0,n.jsx)(Pa,{children:(0,n.jsxs)(No,{caption:(0,u.t)("helpDialog.editor"),children:[(0,n.jsx)(Ct,{label:(0,u.t)("labels.selectAll"),shortcuts:[(0,c.uY)("CtrlOrCmd+A")]}),(0,n.jsx)(Ct,{label:(0,u.t)("labels.multiSelect"),shortcuts:[(0,c.uY)("Shift+".concat((0,u.t)("helpDialog.click")))]}),(0,n.jsx)(Ct,{label:(0,u.t)("helpDialog.deepSelect"),shortcuts:[(0,c.uY)("CtrlOrCmd+".concat((0,u.t)("helpDialog.click")))]}),(0,n.jsx)(Ct,{label:(0,u.t)("helpDialog.deepBoxSelect"),shortcuts:[(0,c.uY)("CtrlOrCmd+".concat((0,u.t)("helpDialog.drag")))]}),(0,n.jsx)(Ct,{label:(0,u.t)("labels.moveCanvas"),shortcuts:[(0,c.uY)("Space+".concat((0,u.t)("helpDialog.drag"))),(0,c.uY)("Wheel+".concat((0,u.t)("helpDialog.drag")))],isOr:!0}),(0,n.jsx)(Ct,{label:(0,u.t)("labels.cut"),shortcuts:[(0,c.uY)("CtrlOrCmd+X")]}),(0,n.jsx)(Ct,{label:(0,u.t)("labels.copy"),shortcuts:[(0,c.uY)("CtrlOrCmd+C")]}),(0,n.jsx)(Ct,{label:(0,u.t)("labels.paste"),shortcuts:[(0,c.uY)("CtrlOrCmd+V")]}),(0,n.jsx)(Ct,{label:(0,u.t)("labels.copyAsPng"),shortcuts:[(0,c.uY)("Shift+Alt+C")]}),(0,n.jsx)(Ct,{label:(0,u.t)("labels.copyStyles"),shortcuts:[(0,c.uY)("CtrlOrCmd+Alt+C")]}),(0,n.jsx)(Ct,{label:(0,u.t)("labels.pasteStyles"),shortcuts:[(0,c.uY)("CtrlOrCmd+Alt+V")]}),(0,n.jsx)(Ct,{label:(0,u.t)("labels.delete"),shortcuts:[(0,c.uY)("Del")]}),(0,n.jsx)(Ct,{label:(0,u.t)("labels.sendToBack"),shortcuts:[S.Um?(0,c.uY)("CtrlOrCmd+Alt+["):(0,c.uY)("CtrlOrCmd+Shift+[")]}),(0,n.jsx)(Ct,{label:(0,u.t)("labels.bringToFront"),shortcuts:[S.Um?(0,c.uY)("CtrlOrCmd+Alt+]"):(0,c.uY)("CtrlOrCmd+Shift+]")]}),(0,n.jsx)(Ct,{label:(0,u.t)("labels.sendBackward"),shortcuts:[(0,c.uY)("CtrlOrCmd+[")]}),(0,n.jsx)(Ct,{label:(0,u.t)("labels.bringForward"),shortcuts:[(0,c.uY)("CtrlOrCmd+]")]}),(0,n.jsx)(Ct,{label:(0,u.t)("labels.alignTop"),shortcuts:[(0,c.uY)("CtrlOrCmd+Shift+Up")]}),(0,n.jsx)(Ct,{label:(0,u.t)("labels.alignBottom"),shortcuts:[(0,c.uY)("CtrlOrCmd+Shift+Down")]}),(0,n.jsx)(Ct,{label:(0,u.t)("labels.alignLeft"),shortcuts:[(0,c.uY)("CtrlOrCmd+Shift+Left")]}),(0,n.jsx)(Ct,{label:(0,u.t)("labels.alignRight"),shortcuts:[(0,c.uY)("CtrlOrCmd+Shift+Right")]}),(0,n.jsx)(Ct,{label:(0,u.t)("labels.duplicateSelection"),shortcuts:[(0,c.uY)("CtrlOrCmd+D"),(0,c.uY)("Alt+".concat((0,u.t)("helpDialog.drag")))]}),(0,n.jsx)(Ct,{label:(0,u.t)("helpDialog.toggleElementLock"),shortcuts:[(0,c.uY)("CtrlOrCmd+Shift+L")]}),(0,n.jsx)(Ct,{label:(0,u.t)("buttons.undo"),shortcuts:[(0,c.uY)("CtrlOrCmd+Z")]}),(0,n.jsx)(Ct,{label:(0,u.t)("buttons.redo"),shortcuts:S.ED?[(0,c.uY)("CtrlOrCmd+Y"),(0,c.uY)("CtrlOrCmd+Shift+Z")]:[(0,c.uY)("CtrlOrCmd+Shift+Z")]}),(0,n.jsx)(Ct,{label:(0,u.t)("labels.group"),shortcuts:[(0,c.uY)("CtrlOrCmd+G")]}),(0,n.jsx)(Ct,{label:(0,u.t)("labels.ungroup"),shortcuts:[(0,c.uY)("CtrlOrCmd+Shift+G")]}),(0,n.jsx)(Ct,{label:(0,u.t)("labels.flipHorizontal"),shortcuts:[(0,c.uY)("Shift+H")]}),(0,n.jsx)(Ct,{label:(0,u.t)("labels.flipVertical"),shortcuts:[(0,c.uY)("Shift+V")]}),(0,n.jsx)(Ct,{label:(0,u.t)("labels.showStroke"),shortcuts:[(0,c.uY)("S")]}),(0,n.jsx)(Ct,{label:(0,u.t)("labels.showBackground"),shortcuts:[(0,c.uY)("G")]}),(0,n.jsx)(Ct,{label:(0,u.t)("labels.decreaseFontSize"),shortcuts:[(0,c.uY)("CtrlOrCmd+Shift+<")]}),(0,n.jsx)(Ct,{label:(0,u.t)("labels.increaseFontSize"),shortcuts:[(0,c.uY)("CtrlOrCmd+Shift+>")]})]})})]})})]})})},So=(o(5080),function(e){var a,s=e.children,d=e.color;return(0,n.jsx)("div",{className:"Card",style:(a={},(0,j.Z)(a,"--card-color",d==="primary"?"var(--color-primary)":cr[d][7]),(0,j.Z)(a,"--card-color-darker",d==="primary"?"var(--color-primary-darker)":cr[d][8]),(0,j.Z)(a,"--card-color-darkest",d==="primary"?"var(--color-primary-darkest)":cr[d][9]),a),children:s})}),Bo=function(e){var a=e.elements,s=e.appState,d=e.files,Z=e.actionManager,k=e.exportOpts,w=e.canvas,X=k.onExportToBackend;return(0,n.jsx)("div",{className:"ExportDialog ExportDialog--json",children:(0,n.jsxs)("div",{className:"ExportDialog-cards",children:[k.saveFileToDisk&&(0,n.jsxs)(So,{color:"lime",children:[(0,n.jsx)("div",{className:"Card-icon",children:h.TP}),(0,n.jsx)("h2",{children:(0,u.t)("exportDialog.disk_title")}),(0,n.jsxs)("div",{className:"Card-details",children:[(0,u.t)("exportDialog.disk_details"),!de.kr&&Z.renderAction("changeProjectName")]}),(0,n.jsx)(F.V,{className:"Card-button",type:"button",title:(0,u.t)("exportDialog.disk_button"),"aria-label":(0,u.t)("exportDialog.disk_button"),showAriaLabel:!0,onClick:function(){Z.executeAction(It,"ui")}})]}),X&&(0,n.jsxs)(So,{color:"pink",children:[(0,n.jsx)("div",{className:"Card-icon",children:h.p4}),(0,n.jsx)("h2",{children:(0,u.t)("exportDialog.link_title")}),(0,n.jsx)("div",{className:"Card-details",children:(0,u.t)("exportDialog.link_details")}),(0,n.jsx)(F.V,{className:"Card-button",type:"button",title:(0,u.t)("exportDialog.link_button"),"aria-label":(0,u.t)("exportDialog.link_button"),showAriaLabel:!0,onClick:function(){X(a,s,d,w),(0,nr.L)("export","link","ui (".concat((0,c.$h)(),")"))}})]}),k.renderCustomUI&&k.renderCustomUI(a,s,d,w)]})})},yi=function(e){var a=e.elements,s=e.appState,d=e.files,Z=e.actionManager,k=e.exportOpts,w=e.canvas,X=(0,re.useState)(!1),q=(0,i.Z)(X,2),Se=q[0],ve=q[1],Ie=ne().useCallback(function(){ve(!1)},[]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(F.V,{onClick:function(){ve(!0)},"data-testid":"json-export-button",icon:h.WD,type:"button","aria-label":(0,u.t)("buttons.export"),showAriaLabel:Fn().isMobile,title:(0,u.t)("buttons.export")}),Se&&(0,n.jsx)(wr.V,{onCloseRequest:Ie,title:(0,u.t)("buttons.export"),children:(0,n.jsx)(Bo,{elements:a,appState:s,files:d,actionManager:Z,onCloseRequest:Ie,exportOpts:k,canvas:w})})]})},ao=o(3024);o(9295),o(9781);function Aa(e,a){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);a&&(d=d.filter(function(Z){return Object.getOwnPropertyDescriptor(e,Z).enumerable})),s.push.apply(s,d)}return s}function Da(e){for(var a=1;a<arguments.length;a++){var s=arguments[a]!=null?arguments[a]:{};a%2?Aa(Object(s),!0).forEach(function(d){(0,j.Z)(e,d,s[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Aa(Object(s)).forEach(function(d){Object.defineProperty(e,d,Object.getOwnPropertyDescriptor(s,d))})}return e}var wl=function(e){var a=e.libItem,s=e.appState,d=e.index,Z=e.onChange,k=e.onRemove,w=(0,re.useRef)(null),X=(0,re.useRef)(null);return(0,re.useEffect)(function(){var q=w.current;q&&(0,g.Z)(W().mark(function Se(){var ve;return W().wrap(function(Ie){for(;;)switch(Ie.prev=Ie.next){case 0:return Ie.next=2,(0,ao.$D)({elements:a.elements,appState:Da(Da({},s),{},{viewBackgroundColor:cr.white,exportBackground:!0}),files:null});case 2:ve=Ie.sent,q.innerHTML=ve.outerHTML;case 4:case"end":return Ie.stop()}},Se)}))()},[a.elements,s]),(0,n.jsxs)("div",{className:"single-library-item",children:[a.status==="published"&&(0,n.jsx)("span",{className:"single-library-item-status",children:(0,u.t)("labels.statusPublished")}),(0,n.jsx)("div",{ref:w,className:"single-library-item__svg"}),(0,n.jsx)(F.V,{"aria-label":(0,u.t)("buttons.remove"),type:"button",icon:h.xv,className:"single-library-item--remove",onClick:k.bind(null,a.id),title:(0,u.t)("buttons.remove")}),(0,n.jsxs)("div",{style:{display:"flex",margin:"0.8rem 0.3rem",width:"100%",fontSize:"14px",fontWeight:500,flexDirection:"column"},children:[(0,n.jsxs)("label",{style:{display:"flex",justifyContent:"space-between",flexDirection:"column"},children:[(0,n.jsxs)("div",{style:{padding:"0.5em 0"},children:[(0,n.jsx)("span",{style:{fontWeight:500,color:cr.gray[6]},children:(0,u.t)("publishDialog.itemName")}),(0,n.jsx)("span",{"aria-hidden":"true",className:"required",children:"*"})]}),(0,n.jsx)("input",{type:"text",ref:X,style:{width:"80%",padding:"0.2rem"},defaultValue:a.name,placeholder:"Item name",onChange:function(q){Z(q.target.value,d)}})]}),(0,n.jsx)("span",{className:"error",children:a.error})]})]})};function za(e,a){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);a&&(d=d.filter(function(Z){return Object.getOwnPropertyDescriptor(e,Z).enumerable})),s.push.apply(s,d)}return s}function xi(e){for(var a=1;a<arguments.length;a++){var s=arguments[a]!=null?arguments[a]:{};a%2?za(Object(s),!0).forEach(function(d){(0,j.Z)(e,d,s[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):za(Object(s)).forEach(function(d){Object.defineProperty(e,d,Object.getOwnPropertyDescriptor(s,d))})}return e}function wi(e,a){var s=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!s){if(Array.isArray(e)||(s=function(q,Se){if(q){if(typeof q=="string")return Co(q,Se);var ve=Object.prototype.toString.call(q).slice(8,-1);if(ve==="Object"&&q.constructor&&(ve=q.constructor.name),ve==="Map"||ve==="Set")return Array.from(q);if(ve==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ve))return Co(q,Se)}}(e))||a&&e&&typeof e.length=="number"){s&&(e=s);var d=0,Z=function(){};return{s:Z,n:function(){return d>=e.length?{done:!0}:{done:!1,value:e[d++]}},e:function(q){throw q},f:Z}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var k,w=!0,X=!1;return{s:function(){s=s.call(e)},n:function(){var q=s.next();return w=q.done,q},e:function(q){X=!0,k=q},f:function(){try{w||s.return==null||s.return()}finally{if(X)throw k}}}}function Co(e,a){(a==null||a>e.length)&&(a=e.length);for(var s=0,d=new Array(a);s<a;s++)d[s]=e[s];return d}var ki="publish-library-data",Ee=function(){var e=(0,g.Z)(W().mark(function a(s){var d,Z,k,w,X,q,Se,ve,Ie,Ae,Fe,Ue,Ke,tt,qe,Qe,$e;return W().wrap(function(rt){for(;;)switch(rt.prev=rt.next){case 0:d=6,Z=128,k=Math.round(Z/16),w=Math.max(Math.round(Z/64),2),X=(0,c.yo)(s,d),(q=document.createElement("canvas")).width=X[0].length*Z+(X[0].length+1)*(2*k)-2*k,q.height=X.length*Z+(X.length+1)*(2*k)-2*k,(Se=q.getContext("2d")).fillStyle=cr.white,Se.fillRect(0,0,q.width,q.height),ve=wi(s.entries()),rt.prev=12,ve.s();case 14:if((Ie=ve.n()).done){rt.next=28;break}return Ae=(0,i.Z)(Ie.value,2),Fe=Ae[0],Ue=Ae[1],rt.next=18,(0,ao.NL)({elements:Ue.elements,files:null,maxWidthOrHeight:Z});case 18:Ke=rt.sent,tt=Ke.width,qe=Ke.height,Qe=Math.floor(Fe/d)*(Z+2*k),$e=Fe%d*(Z+2*k),Se.drawImage(Ke,$e+(Z-tt)/2+k,Qe+(Z-qe)/2+k),Se.lineWidth=w,Se.strokeStyle=cr.gray[4],Se.strokeRect($e+k/2,Qe+k/2,Z+k,Z+k);case 26:rt.next=14;break;case 28:rt.next=33;break;case 30:rt.prev=30,rt.t0=rt.catch(12),ve.e(rt.t0);case 33:return rt.prev=33,ve.f(),rt.finish(33);case 36:return rt.t1=he.Tu,rt.t2=File,rt.next=40,(0,he._c)(q);case 40:return rt.t3=rt.sent,rt.t4=[rt.t3],rt.t5={type:Q.LO.png},rt.t6=new rt.t2(rt.t4,"preview",rt.t5),rt.t7={outputType:Q.LO.jpg,maxWidthOrHeight:5e3},rt.next=47,(0,rt.t1)(rt.t6,rt.t7);case 47:return rt.abrupt("return",rt.sent);case 48:case"end":return rt.stop()}},a,null,[[12,30,33,36]])}));return function(a){return e.apply(this,arguments)}}(),Oo=function(e){var a=e.onClose,s=e.libraryItems,d=e.appState,Z=e.onSuccess,k=e.onError,w=e.updateItemsInStorage,X=e.onRemove,q=(0,re.useState)({authorName:"",githubHandle:"",name:"",description:"",twitterHandle:"",website:""}),Se=(0,i.Z)(q,2),ve=Se[0],Ie=Se[1],Ae=(0,re.useState)(!1),Fe=(0,i.Z)(Ae,2),Ue=Fe[0],Ke=Fe[1];(0,re.useEffect)(function(){var bt=function(){try{var en=localStorage.getItem(ki);if(en)return JSON.parse(en)}catch(Et){console.error(Et)}return null}();bt&&Ie(bt)},[]);var tt=(0,re.useState)(s.slice()),qe=(0,i.Z)(tt,2),Qe=qe[0],$e=qe[1];(0,re.useEffect)(function(){$e(s.slice())},[s]);var rt,jt=function(bt){Ie(xi(xi({},ve),{},(0,j.Z)({},bt.target.name,bt.target.value)))},At=function(){var bt=(0,g.Z)(W().mark(function en(Et){var cn,yn,Vn,$n,Rn,an,Yt;return W().wrap(function(tn){for(;;)switch(tn.prev=tn.next){case 0:if(Et.preventDefault(),Ke(!0),cn=[],yn=!1,Qe.forEach(function(Kt){var dn="";Kt.name||(dn=(0,u.t)("publishDialog.errors.required"),yn=!0),cn.push(xi(xi({},Kt),{},{error:dn}))}),!yn){tn.next=9;break}return $e(cn),Ke(!1),tn.abrupt("return");case 9:return tn.next=11,Ee(Qe);case 11:Vn=tn.sent,$n={type:Q.r8.excalidrawLibrary,version:Q.Kr.excalidrawLibrary,source:Q.pb,libraryItems:Qe},Rn=JSON.stringify($n,null,2),an=new Blob([Rn],{type:"application/json"}),(Yt=new FormData).append("excalidrawLib",an),Yt.append("previewImage",Vn),Yt.append("previewImageType",Vn.type),Yt.append("title",ve.name),Yt.append("authorName",ve.authorName),Yt.append("githubHandle",ve.githubHandle),Yt.append("name",ve.name),Yt.append("description",ve.description),Yt.append("twitterHandle",ve.twitterHandle),Yt.append("website",ve.website),fetch("".concat("https://us-central1-excalidraw-room-persistence.cloudfunctions.net/libraries","/submit"),{method:"post",body:Yt}).then(function(Kt){return Kt.ok?Kt.json().then(function(dn){var Dt=dn.url;localStorage.removeItem(ki),Z({url:Dt,authorName:ve.authorName,items:Qe})}):Kt.json().catch(function(){throw new Error(Kt.statusText||"something went wrong")}).then(function(dn){throw new Error(dn.message||Kt.statusText||"something went wrong")})},function(Kt){console.error(Kt),k(Kt),Ke(!1)}).catch(function(Kt){console.error(Kt),k(Kt),Ke(!1)});case 27:case"end":return tn.stop()}},en)}));return function(en){return bt.apply(this,arguments)}}(),St=(0,re.useCallback)(function(){w(Qe),function(bt){try{localStorage.setItem(ki,JSON.stringify(bt))}catch(en){console.error(en)}}(ve),a()},[Qe,a,w,ve]),wt=!!s.length,_t=s.some(function(bt){return bt.status==="published"});return(0,n.jsx)(wr.V,{onCloseRequest:St,title:(0,u.t)("publishDialog.title"),className:"publish-library",children:wt?(0,n.jsxs)("form",{onSubmit:At,children:[(0,n.jsxs)("div",{className:"publish-library-note",children:[(0,u.t)("publishDialog.noteDescription.pre"),(0,n.jsx)("a",{href:"https://libraries.excalidraw.com",target:"_blank",rel:"noopener noreferrer",children:(0,u.t)("publishDialog.noteDescription.link")})," ",(0,u.t)("publishDialog.noteDescription.post")]}),(0,n.jsxs)("span",{className:"publish-library-note",children:[(0,u.t)("publishDialog.noteGuidelines.pre"),(0,n.jsx)("a",{href:"https://github.com/excalidraw/excalidraw-libraries#guidelines",target:"_blank",rel:"noopener noreferrer",children:(0,u.t)("publishDialog.noteGuidelines.link")}),(0,u.t)("publishDialog.noteGuidelines.post")]}),(0,n.jsx)("div",{className:"publish-library-note",children:(0,u.t)("publishDialog.noteItems")}),_t&&(0,n.jsx)("span",{className:"publish-library-note publish-library-warning",children:(0,u.t)("publishDialog.republishWarning")}),(rt=[],Qe.forEach(function(bt,en){rt.push((0,n.jsx)("div",{className:"single-library-item-wrapper",children:(0,n.jsx)(wl,{libItem:bt,appState:d,index:en,onChange:function(Et,cn){var yn=Qe.slice();yn[cn].name=Et,$e(yn)},onRemove:X})},en))}),(0,n.jsx)("div",{className:"selected-library-items",children:rt})),(0,n.jsxs)("div",{className:"publish-library__fields",children:[(0,n.jsxs)("label",{children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{children:(0,u.t)("publishDialog.libraryName")}),(0,n.jsx)("span",{"aria-hidden":"true",className:"required",children:"*"})]}),(0,n.jsx)("input",{type:"text",name:"name",required:!0,value:ve.name,onChange:jt,placeholder:(0,u.t)("publishDialog.placeholder.libraryName")})]}),(0,n.jsxs)("label",{style:{alignItems:"flex-start"},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{children:(0,u.t)("publishDialog.libraryDesc")}),(0,n.jsx)("span",{"aria-hidden":"true",className:"required",children:"*"})]}),(0,n.jsx)("textarea",{name:"description",rows:4,required:!0,value:ve.description,onChange:jt,placeholder:(0,u.t)("publishDialog.placeholder.libraryDesc")})]}),(0,n.jsxs)("label",{children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{children:(0,u.t)("publishDialog.authorName")}),(0,n.jsx)("span",{"aria-hidden":"true",className:"required",children:"*"})]}),(0,n.jsx)("input",{type:"text",name:"authorName",required:!0,value:ve.authorName,onChange:jt,placeholder:(0,u.t)("publishDialog.placeholder.authorName")})]}),(0,n.jsxs)("label",{children:[(0,n.jsx)("span",{children:(0,u.t)("publishDialog.githubUsername")}),(0,n.jsx)("input",{type:"text",name:"githubHandle",value:ve.githubHandle,onChange:jt,placeholder:(0,u.t)("publishDialog.placeholder.githubHandle")})]}),(0,n.jsxs)("label",{children:[(0,n.jsx)("span",{children:(0,u.t)("publishDialog.twitterUsername")}),(0,n.jsx)("input",{type:"text",name:"twitterHandle",value:ve.twitterHandle,onChange:jt,placeholder:(0,u.t)("publishDialog.placeholder.twitterHandle")})]}),(0,n.jsxs)("label",{children:[(0,n.jsx)("span",{children:(0,u.t)("publishDialog.website")}),(0,n.jsx)("input",{type:"text",name:"website",pattern:"https?://.+",title:(0,u.t)("publishDialog.errors.website"),value:ve.website,onChange:jt,placeholder:(0,u.t)("publishDialog.placeholder.website")})]}),(0,n.jsxs)("span",{className:"publish-library-note",children:[(0,u.t)("publishDialog.noteLicense.pre"),(0,n.jsx)("a",{href:"https://github.com/excalidraw/excalidraw-libraries/blob/main/LICENSE",target:"_blank",rel:"noopener noreferrer",children:(0,u.t)("publishDialog.noteLicense.link")}),(0,u.t)("publishDialog.noteLicense.post")]})]}),(0,n.jsxs)("div",{className:"publish-library__buttons",children:[(0,n.jsx)(F.V,{type:"button",title:(0,u.t)("buttons.cancel"),"aria-label":(0,u.t)("buttons.cancel"),label:(0,u.t)("buttons.cancel"),onClick:St,"data-testid":"cancel-clear-canvas-button",className:"publish-library__buttons--cancel"}),(0,n.jsx)(F.V,{type:"submit",title:(0,u.t)("buttons.submit"),"aria-label":(0,u.t)("buttons.submit"),label:(0,u.t)("buttons.submit"),className:"publish-library__buttons--confirm",isLoading:Ue})]})]}):(0,n.jsx)("p",{style:{padding:"1em",textAlign:"center",fontWeight:500},children:(0,u.t)("publishDialog.atleastOneLibItem")})})},_i=(o(4406),o(2891)),sr=o(4981),un=(o(694),(0,n.jsx)("svg",{viewBox:"0 0 1792 1792",children:(0,n.jsx)("path",{d:"M1600 736v192c0 26.667-9.33 49.333-28 68-18.67 18.67-41.33 28-68 28h-416v416c0 26.67-9.33 49.33-28 68s-41.33 28-68 28H800c-26.667 0-49.333-9.33-68-28s-28-41.33-28-68v-416H288c-26.667 0-49.333-9.33-68-28-18.667-18.667-28-41.333-28-68V736c0-26.667 9.333-49.333 28-68s41.333-28 68-28h416V224c0-26.667 9.333-49.333 28-68s41.333-28 68-28h192c26.67 0 49.33 9.333 68 28s28 41.333 28 68v416h416c26.67 0 49.33 9.333 68 28s28 41.333 28 68Z",style:{stroke:"#fff",strokeWidth:140},transform:"translate(0 64)"})})),lo=function(e){var a=e.id,s=e.elements,d=e.files,Z=e.isPending,k=e.onClick,w=e.selected,X=e.onToggle,q=e.onDrag,Se=(0,re.useRef)(null);(0,re.useEffect)(function(){var tt=Se.current;if(tt)return(0,g.Z)(W().mark(function qe(){var Qe;return W().wrap(function($e){for(;;)switch($e.prev=$e.next){case 0:if(s){$e.next=2;break}return $e.abrupt("return");case 2:return $e.next=4,(0,et.$D)(s,{exportBackground:!1,viewBackgroundColor:cr.white},d);case 4:Qe=$e.sent,tt.innerHTML=Qe.outerHTML;case 6:case"end":return $e.stop()}},qe)}))(),function(){tt.innerHTML=""}},[s,d]);var ve=(0,re.useState)(!1),Ie=(0,i.Z)(ve,2),Ae=Ie[0],Fe=Ie[1],Ue=Fn().isMobile,Ke=Z&&(0,n.jsx)("div",{className:"library-unit__adder",children:un});return(0,n.jsxs)("div",{className:(0,$.Z)("library-unit",{"library-unit__active":s,"library-unit--hover":s&&Ae,"library-unit--selected":w}),onMouseEnter:function(){return Fe(!0)},onMouseLeave:function(){return Fe(!1)},children:[(0,n.jsx)("div",{className:(0,$.Z)("library-unit__dragger",{"library-unit__pulse":!!Z}),ref:Se,draggable:!!s,onClick:s||Z?function(tt){a&&tt.shiftKey?X(a,tt):k()}:void 0,onDragStart:function(tt){a?(Fe(!1),q(a,tt)):tt.preventDefault()}}),Ke,a&&s&&(Ae||Ue||w)&&(0,n.jsx)(Be,{checked:w,onChange:function(tt,qe){return X(a,qe)},className:"library-unit__checkbox"})]})},_r=(o(6043),o(9101)),Ar=(o(47),(0,n.jsx)("svg",{viewBox:"0 0 24 24",fill:"#ffffff",children:(0,n.jsx)("path",{d:"M19 22H5a3 3 0 01-3-3V5a3 3 0 013-3h14a3 3 0 013 3v14a3 3 0 01-3 3zm0-18h-9v16h9a1.01 1.01 0 001-1V5a1.01 1.01 0 00-1-1z"})})),co=function(e){return(0,n.jsxs)(nt.u,{label:(0,u.t)("labels.sidebarLock"),children:[(0,n.jsxs)("label",{className:(0,$.Z)("ToolIcon ToolIcon__lock ToolIcon_type_floating","ToolIcon_size_".concat("medium")),children:[(0,n.jsx)("input",{className:"ToolIcon_type_checkbox",type:"checkbox",onChange:e.onChange,checked:e.checked,"aria-label":(0,u.t)("labels.sidebarLock")})," ",(0,n.jsx)("div",{className:"ToolIcon__icon side_lock_icon",tabIndex:0,children:Ar})," "]})," "]})},hr=function(e){var a,s,d,Z=e.isLoading,k=e.libraryItems,w=e.onRemoveFromLibrary,X=e.onAddToLibrary,q=e.onInsertLibraryItems,Se=e.pendingElements,ve=e.theme,Ie=e.setAppState,Ae=e.appState,Fe=e.libraryReturnUrl,Ue=e.library,Ke=e.files,tt=e.id,qe=e.selectedItems,Qe=e.onSelectItems,$e=e.onPublish,rt=e.resetLibrary,jt=(0,re.useCallback)(function(){var Dt=qe.length?(0,u.t)("alerts.removeItemsFromsLibrary",{count:qe.length}):(0,u.t)("alerts.resetLibrary"),nn=qe.length?(0,u.t)("confirmDialog.removeItemsFromLib"):(0,u.t)("confirmDialog.resetLibrary");return(0,n.jsx)(sr.Z,{onConfirm:function(){qe.length?w():rt(),_t(!1)},onCancel:function(){_t(!1)},title:nn,children:(0,n.jsx)("p",{children:Dt})})},[qe,w,rt]),At=(0,re.useState)(!1),St=(0,i.Z)(At,2),wt=St[0],_t=St[1],bt=Fn(),en=bt.isMobile&&!bt.isSmScreen?6:4,Et=Fe||window.location.origin+window.location.pathname,cn=(0,re.useState)(null),yn=(0,i.Z)(cn,2),Vn=yn[0],$n=yn[1],Rn=function(Dt,nn){var bn=!qe.includes(Dt),Jt=[].concat((0,v.Z)(Kt),(0,v.Z)(dn));if(bn){if(nn.shiftKey&&Vn){var gn=Jt.findIndex(function(gr){return gr.id===Vn}),Tn=Jt.findIndex(function(gr){return gr.id===Dt});if(gn===-1||Tn===-1)return void Qe([].concat((0,v.Z)(qe),[Dt]));var Sr=(0,c.xn)(qe),Jn=Jt.reduce(function(gr,Nr,Xr){return(Xr>=gn&&Xr<=Tn||Sr.has(Nr.id))&&gr.push(Nr.id),gr},[]);Qe(Jn)}else Qe([].concat((0,v.Z)(qe),[Dt]));$n(Dt)}else $n(null),Qe(qe.filter(function(gr){return gr!==Dt}))},an=function(Dt){return qe.includes(Dt)?k.filter(function(nn){return qe.includes(nn.id)}):k.filter(function(nn){return nn.id===Dt})},Yt=function(Dt){var nn,bn,Jt,gn,Tn;return(0,n.jsx)(Re,{children:(0,n.jsx)(lo,{elements:(nn=Dt.item)===null||nn===void 0?void 0:nn.elements,files:Ke,isPending:!((bn=Dt.item)!==null&&bn!==void 0&&bn.id||(Jt=Dt.item)===null||Jt===void 0||!Jt.elements),onClick:Dt.onClick||function(){},id:((gn=Dt.item)===null||gn===void 0?void 0:gn.id)||null,selected:!((Tn=Dt.item)===null||Tn===void 0||!Tn.id)&&qe.includes(Dt.item.id),onToggle:Rn,onDrag:function(Sr,Jn){Jn.dataTransfer.setData(Q.LO.excalidrawlib,(0,_e.NI)(an(Sr)))}})},Dt.key)},tn=function(Dt){var nn=Dt.map(function(Jt){return Jt.id?Yt({item:Jt,onClick:function(){return q(an(Jt.id))},key:Jt.id}):Yt({key:"__pending__item__",item:Jt,onClick:function(){return X(Se)}})}),bn=(0,_i.chunk)(nn,en);return bn.length||(bn=[[]]),bn.map(function(Jt,gn,Tn){return gn===Tn.length-1&&(Jt=Jt.concat(new Array(en-Jt.length).fill(null).map(function(Sr,Jn){return Yt({key:"empty_".concat(Jn),item:null})}))),(0,n.jsx)(it,{align:"center",gap:1,children:Jt},gn)})},Kt=k.filter(function(Dt){return Dt.status!=="published"}),dn=k.filter(function(Dt){return Dt.status==="published"});return(0,n.jsxs)("div",{className:"library-menu-items-container",style:bt.isMobile?{minHeight:"200px",maxHeight:"70vh"}:void 0,children:[wt&&jt(),(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"layer-ui__library-header",children:[(a=!!qe.length,s=a?k.filter(function(Dt){return qe.includes(Dt.id)}):k,d=a?(0,u.t)("buttons.remove"):(0,u.t)("buttons.resetLibrary"),(0,n.jsxs)("div",{className:"library-actions",children:[!a&&(0,n.jsx)(F.V,{type:"button",title:(0,u.t)("buttons.load"),"aria-label":(0,u.t)("buttons.load"),icon:h.zD,onClick:(0,g.Z)(W().mark(function Dt(){return W().wrap(function(nn){for(;;)switch(nn.prev=nn.next){case 0:return nn.prev=0,nn.next=3,Ue.updateLibrary({libraryItems:(0,de.I$)({description:"Excalidraw library files"}),merge:!0,openLibraryMenu:!0});case 3:nn.next=11;break;case 5:if(nn.prev=5,nn.t0=nn.catch(0),(nn.t0===null||nn.t0===void 0?void 0:nn.t0.name)!=="AbortError"){nn.next=10;break}return console.warn(nn.t0),nn.abrupt("return");case 10:Ie({errorMessage:(0,u.t)("errors.importLibraryError")});case 11:case"end":return nn.stop()}},Dt,null,[[0,5]])})),className:"library-actions--load"},"import"),!!s.length&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(F.V,{type:"button",title:(0,u.t)("buttons.export"),"aria-label":(0,u.t)("buttons.export"),icon:h.TP,onClick:(0,g.Z)(W().mark(function Dt(){var nn;return W().wrap(function(bn){for(;;)switch(bn.prev=bn.next){case 0:if(!a){bn.next=4;break}bn.t0=s,bn.next=7;break;case 4:return bn.next=6,Ue.getLatestLibrary();case 6:bn.t0=bn.sent;case 7:nn=bn.t0,(0,_e.t1)(nn).catch(c.FG).catch(function(Jt){Ie({errorMessage:Jt.message})});case 9:case"end":return bn.stop()}},Dt)})),className:"library-actions--export",children:qe.length>0&&(0,n.jsx)("span",{className:"library-actions-counter",children:qe.length})},"export"),(0,n.jsx)(F.V,{type:"button",title:d,"aria-label":d,icon:h._I,onClick:function(){return _t(!0)},className:"library-actions--remove",children:qe.length>0&&(0,n.jsx)("span",{className:"library-actions-counter",children:qe.length})},"reset")]}),a&&(0,n.jsx)(nt.u,{label:(0,u.t)("hints.publishLibrary"),children:(0,n.jsxs)(F.V,{type:"button","aria-label":(0,u.t)("buttons.publishLibrary"),label:(0,u.t)("buttons.publishLibrary"),icon:h.Nw,className:"library-actions--publish",onClick:$e,children:[!bt.isMobile&&(0,n.jsx)("label",{children:(0,u.t)("buttons.publishLibrary")}),qe.length>0&&(0,n.jsx)("span",{className:"library-actions-counter",children:qe.length})]})}),bt.isMobile&&(0,n.jsx)("div",{className:"library-menu-browse-button--mobile",children:(0,n.jsx)("a",{href:"".concat("https://libraries.excalidraw.com","?target=").concat(window.name||"_blank","&referrer=").concat(Et,"&useHash=true&token=").concat(tt,"&theme=").concat(ve,"&version=").concat(Q.Kr.excalidrawLibrary),target:"_excalidraw_libraries",children:(0,u.t)("labels.libraries")})})]})),bt.canDeviceFitSidebar&&(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{className:"layer-ui__sidebar-lock-button",children:(0,n.jsx)(co,{checked:Ae.isLibraryMenuDocked,onChange:function(){var Dt;(Dt=document.querySelector(".layer-ui__wrapper"))===null||Dt===void 0||Dt.classList.add("animate");var nn=!Ae.isLibraryMenuDocked;Ie({isLibraryMenuDocked:nn}),(0,nr.L)("library","toggleLibraryDock (".concat(nn?"dock":"undock",")"),"sidebar (".concat(bt.isMobile?"mobile":"desktop",")"))}})})}),!bt.isMobile&&(0,n.jsx)("div",{className:"ToolIcon__icon__close",children:(0,n.jsx)("button",{className:"Modal__close",onClick:function(){return Ie({isLibraryOpen:!1})},"aria-label":(0,u.t)("buttons.close"),children:h.xv})})]},"library-header")}),(0,n.jsxs)(Re,{className:"library-menu-items-container__items",align:"start",gap:1,style:{flex:dn.length>0?1:"0 1 auto",marginBottom:0},children:[(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"separator",children:[(Se.length>0||Kt.length>0||dn.length>0)&&(0,n.jsx)("div",{children:(0,u.t)("labels.personalLib")}),Z&&(0,n.jsx)("div",{style:{marginLeft:"auto",marginRight:"1rem",display:"flex",alignItems:"center",fontWeight:"normal"},children:(0,n.jsx)("div",{style:{transform:"translateY(2px)"},children:(0,n.jsx)(_r.Z,{})})})]}),Se.length||Kt.length?tn([].concat((0,v.Z)(Se.length?[{id:null,elements:Se}]:[]),(0,v.Z)(Kt))):(0,n.jsxs)("div",{style:{height:65,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%",fontSize:".9rem"},children:[(0,u.t)("library.noItems"),(0,n.jsx)("div",{style:{margin:".6rem 0",fontSize:".8em",width:"70%",textAlign:"center"},children:dn.length>0?(0,u.t)("library.hint_emptyPrivateLibrary"):(0,u.t)("library.hint_emptyLibrary")})]})]}),(0,n.jsxs)(n.Fragment,{children:[(dn.length>0||!bt.isMobile&&(Se.length>0||Kt.length>0))&&(0,n.jsx)("div",{className:"separator",children:(0,u.t)("labels.excalidrawLib")}),dn.length>0?tn(dn):Kt.length>0?(0,n.jsx)("div",{style:{margin:"1rem 0",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%",fontSize:".9rem"},children:(0,u.t)("library.noItems")}):null]})]}),!bt.isMobile&&(0,n.jsx)("a",{className:"library-menu-browse-button",href:"".concat("https://libraries.excalidraw.com","?target=").concat(window.name||"_blank","&referrer=").concat(Et,"&useHash=true&token=").concat(tt,"&theme=").concat(ve,"&version=").concat(Q.Kr.excalidrawLibrary),target:"_excalidraw_libraries",children:(0,u.t)("labels.libraries")})]})},Ra=o(4739),Za=o(9487),kl=function(e,a){return e.filter(function(s){return a.includes(s.id)})},Na=(0,re.forwardRef)(function(e,a){var s=e.children;return(0,n.jsx)(kr.W,{padding:1,ref:a,className:"layer-ui__library",children:s})}),$i=function(e){var a=e.onClose,s=e.onInsertLibraryItems,d=e.pendingElements,Z=e.onAddToLibrary,k=e.theme,w=e.setAppState,X=e.files,q=e.libraryReturnUrl,Se=e.focusContainer,ve=e.library,Ie=e.id,Ae=e.appState,Fe=(0,re.useRef)(null),Ue=Fn();(function(an,Yt){(0,re.useEffect)(function(){var tn=function(Kt){an.current&&(Kt.target instanceof Element&&(an.current.contains(Kt.target)||!document.body.contains(Kt.target))||Yt(Kt))};return document.addEventListener("pointerdown",tn,!1),function(){document.removeEventListener("pointerdown",tn)}},[an,Yt])})(Fe,(0,re.useCallback)(function(an){an.target.closest(".ToolIcon__library")||Ae.isLibraryMenuDocked&&Ue.canDeviceFitSidebar||a()},[a,Ae.isLibraryMenuDocked,Ue.canDeviceFitSidebar])),(0,re.useEffect)(function(){var an=function(Yt){Yt.key!==S.tW.ESCAPE||Ae.isLibraryMenuDocked&&Ue.canDeviceFitSidebar||a()};return document.addEventListener(Q.Ks.KEYDOWN,an),function(){document.removeEventListener(Q.Ks.KEYDOWN,an)}},[a,Ae.isLibraryMenuDocked,Ue.canDeviceFitSidebar]);var Ke=(0,re.useState)([]),tt=(0,i.Z)(Ke,2),qe=tt[0],Qe=tt[1],$e=(0,re.useState)(!1),rt=(0,i.Z)($e,2),jt=rt[0],At=rt[1],St=(0,re.useState)(null),wt=(0,i.Z)(St,2),_t=wt[0],bt=wt[1],en=(0,Ra.KO)(ai.rF,Za.yE),Et=(0,i.Z)(en,1)[0],cn=(0,re.useCallback)(function(){var an=(0,g.Z)(W().mark(function Yt(tn){var Kt;return W().wrap(function(dn){for(;;)switch(dn.prev=dn.next){case 0:Kt=tn.filter(function(Dt){return!qe.includes(Dt.id)}),ve.setLibrary(Kt).catch(function(){w({errorMessage:(0,u.t)("alerts.errorRemovingFromLibrary")})}),Qe([]);case 3:case"end":return dn.stop()}},Yt)}));return function(Yt){return an.apply(this,arguments)}}(),[ve,w,qe,Qe]),yn=(0,re.useCallback)(function(){ve.resetLibrary(),Se()},[ve,Se]),Vn=(0,re.useCallback)(function(){var an=(0,g.Z)(W().mark(function Yt(tn,Kt){var dn;return W().wrap(function(Dt){for(;;)switch(Dt.prev=Dt.next){case 0:if((0,nr.L)("element","addToLibrary","ui"),!tn.some(function(nn){return nn.type==="image"})){Dt.next=3;break}return Dt.abrupt("return",w({errorMessage:"Support for adding images to the library coming soon!"}));case 3:dn=[{status:"unpublished",elements:tn,id:(0,sn.kb)(),created:Date.now()}].concat((0,v.Z)(Kt)),Z(),ve.setLibrary(dn).catch(function(){w({errorMessage:(0,u.t)("alerts.errorAddingToLibrary")})});case 6:case"end":return Dt.stop()}},Yt)}));return function(Yt,tn){return an.apply(this,arguments)}}(),[Z,ve,w]),$n=(0,re.useCallback)(function(){return(0,n.jsxs)(wr.V,{onCloseRequest:function(){return bt(null)},title:(0,u.t)("publishSuccessDialog.title"),className:"publish-library-success",small:!0,children:[(0,n.jsxs)("p",{children:[(0,u.t)("publishSuccessDialog.content",{authorName:_t.authorName})," ",(0,n.jsx)("a",{href:_t==null?void 0:_t.url,target:"_blank",rel:"noopener noreferrer",children:(0,u.t)("publishSuccessDialog.link")})]}),(0,n.jsx)(F.V,{type:"button",title:(0,u.t)("buttons.close"),"aria-label":(0,u.t)("buttons.close"),label:(0,u.t)("buttons.close"),onClick:function(){return bt(null)},"data-testid":"publish-library-success-close",className:"publish-library-success-close"})]})},[bt,_t]),Rn=(0,re.useCallback)(function(an,Yt){At(!1),bt({url:an.url,authorName:an.authorName});var tn=Yt.slice();tn.forEach(function(Kt){qe.includes(Kt.id)&&(Kt.status="published")}),ve.setLibrary(tn)},[At,bt,qe,ve]);return Et.status!=="loading"||Et.isInitialized?(0,n.jsxs)(Na,{ref:Fe,children:[jt&&(0,n.jsx)(Oo,{onClose:function(){return At(!1)},libraryItems:kl(Et.libraryItems,qe),appState:Ae,onSuccess:function(an){return Rn(an,Et.libraryItems)},onError:function(an){return window.alert(an)},updateItemsInStorage:function(){return ve.setLibrary(Et.libraryItems)},onRemove:function(an){return Qe(qe.filter(function(Yt){return Yt!==an}))}}),_t&&$n(),(0,n.jsx)(hr,{isLoading:Et.status==="loading",libraryItems:Et.libraryItems,onRemoveFromLibrary:function(){return cn(Et.libraryItems)},onAddToLibrary:function(an){return Vn(an,Et.libraryItems)},onInsertLibraryItems:s,pendingElements:d,setAppState:w,appState:Ae,libraryReturnUrl:q,library:ve,theme:k,files:X,id:Ie,selectedItems:qe,onSelectItems:function(an){return Qe(an)},onPublish:function(){return At(!0)},resetLibrary:yn})]}):(0,n.jsx)(Na,{ref:Fe,children:(0,n.jsxs)("div",{className:"layer-ui__library-message",children:[(0,n.jsx)(_r.Z,{size:"2em"}),(0,n.jsx)("span",{children:(0,u.t)("labels.libraryLoadingMessage")})]})})},Ho=(o(3336),o(276),o(1528),function(e){var a,s=Fn(),d=(0,mn.KP)(e.elements),Z=(0,se.Zs)(e.elements,e.appState),k=(0,mn.KP)(Z);return s.isMobile&&e.appState.openMenu?null:(0,n.jsx)("div",{className:"Stats",children:(0,n.jsxs)(kr.W,{padding:2,children:[(0,n.jsx)("div",{className:"close",onClick:e.onClose,children:h.xv}),(0,n.jsx)("h3",{children:(0,u.t)("stats.title")}),(0,n.jsx)("table",{children:(0,n.jsxs)("tbody",{children:[(0,n.jsx)("tr",{children:(0,n.jsx)("th",{colSpan:2,children:(0,u.t)("stats.scene")})}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:(0,u.t)("stats.elements")}),(0,n.jsx)("td",{children:e.elements.length})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:(0,u.t)("stats.width")}),(0,n.jsx)("td",{children:Math.round(d[2])-Math.round(d[0])})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:(0,u.t)("stats.height")}),(0,n.jsx)("td",{children:Math.round(d[3])-Math.round(d[1])})]}),Z.length===1&&(0,n.jsx)("tr",{children:(0,n.jsx)("th",{colSpan:2,children:(0,u.t)("stats.element")})}),Z.length>1&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("tr",{children:(0,n.jsx)("th",{colSpan:2,children:(0,u.t)("stats.selected")})}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:(0,u.t)("stats.elements")}),(0,n.jsx)("td",{children:Z.length})]})]}),Z.length>0&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:"x"}),(0,n.jsx)("td",{children:Math.round(k[0])})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:"y"}),(0,n.jsx)("td",{children:Math.round(k[1])})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:(0,u.t)("stats.width")}),(0,n.jsx)("td",{children:Math.round(k[2]-k[0])})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:(0,u.t)("stats.height")}),(0,n.jsx)("td",{children:Math.round(k[3]-k[1])})]})]}),Z.length===1&&(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:(0,u.t)("stats.angle")}),(0,n.jsx)("td",{children:"".concat(Math.round(180*Z[0].angle/Math.PI),"°")})]}),(a=e.renderCustomStats)===null||a===void 0?void 0:a.call(e,e.elements,e.appState)]})})]})})}),Ei=["suggestedBindings","startBoundElement"];function Ba(e,a){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);a&&(d=d.filter(function(Z){return Object.getOwnPropertyDescriptor(e,Z).enumerable})),s.push.apply(s,d)}return s}var Ha=function(e){var a,s=e.actionManager,d=e.appState,Z=e.files,k=e.setAppState,w=e.canvas,X=e.elements,q=e.onCollabButtonClick,Se=e.onLockToggle,ve=e.onPenModeToggle,Ie=e.onInsertElements,Ae=e.zenModeEnabled,Fe=e.showExitZenModeBtn,Ue=e.showThemeBtn,Ke=e.toggleZenMode,tt=e.isCollaborating,qe=e.renderTopRightUI,Qe=e.renderCustomFooter,$e=e.renderCustomStats,rt=e.viewModeEnabled,jt=e.libraryReturnUrl,At=e.UIOptions,St=e.focusContainer,wt=e.library,_t=e.id,bt=e.onImageAction,en=Fn(),Et=function(){return At.canvasActions.export?(0,n.jsx)(yi,{elements:X,appState:d,files:Z,actionManager:s,exportOpts:At.canvasActions.export,canvas:w}):null},cn=function(){if(!At.canvasActions.saveAsImage)return null;var tn=function(Kt){return function(){var dn=(0,g.Z)(W().mark(function Dt(nn){var bn;return W().wrap(function(Jt){for(;;)switch(Jt.prev=Jt.next){case 0:return(0,nr.L)("export",Kt,"ui"),Jt.next=3,we(Kt,nn,d,Z,{exportBackground:d.exportBackground,name:d.name,viewBackgroundColor:d.viewBackgroundColor}).catch(c.FG).catch(function(gn){console.error(gn),k({errorMessage:gn.message})});case 3:bn=Jt.sent,d.exportEmbedScene&&bn&&(0,he.g8)(bn)&&k({fileHandle:bn});case 5:case"end":return Jt.stop()}},Dt)}));return function(Dt){return dn.apply(this,arguments)}}()};return(0,n.jsx)(mi,{elements:X,appState:d,files:Z,actionManager:s,onExportToPng:tn("png"),onExportToSvg:tn("svg"),onExportToClipboard:tn("clipboard")})},yn=function(){return(0,n.jsx)("div",{style:{width:".625em"}})},Vn=(0,re.useCallback)(function(){document.querySelector(".Dialog")||k({isLibraryOpen:!1})},[k]),$n=(0,re.useCallback)(function(){k({selectedElementIds:{},selectedGroupIds:{}})},[k]),Rn=d.isLibraryOpen?(0,n.jsx)($i,{pendingElements:(0,se.eD)(X,d,!0),onClose:Vn,onInsertLibraryItems:function(tn){Ie((0,ai.WV)(tn))},onAddToLibrary:$n,setAppState:k,libraryReturnUrl:jt,focusContainer:St,library:wt,theme:d.theme,files:Z,id:_t,appState:d}):null,an=(0,n.jsxs)(n.Fragment,{children:[d.isLoading&&(0,n.jsx)(gi.z,{delay:250}),d.errorMessage&&(0,n.jsx)(pi,{message:d.errorMessage,onClose:function(){return k({errorMessage:null})}}),d.showHelpDialog&&(0,n.jsx)(Eo,{onClose:function(){k({showHelpDialog:!1})}}),d.pasteDialog.shown&&(0,n.jsx)(Ln,{setAppState:k,appState:d,onInsertChart:Ie,onClose:function(){return k({pasteDialog:{shown:!1,data:null}})}})]}),Yt=function(){return d.showStats?(0,n.jsx)(Ho,{appState:d,setAppState:k,elements:X,onClose:function(){s.executeAction(Ur)},renderCustomStats:$e}):null};return en.isMobile?(0,n.jsxs)(n.Fragment,{children:[an,(0,n.jsx)(Ta,{appState:d,elements:X,actionManager:s,libraryMenu:Rn,renderJSONExportDialog:Et,renderImageExportDialog:cn,setAppState:k,onCollabButtonClick:q,onLockToggle:function(){return Se()},onPenModeToggle:ve,canvas:w,isCollaborating:tt,renderCustomFooter:Qe,viewModeEnabled:rt,showThemeBtn:Ue,onImageAction:bt,renderTopRightUI:qe,renderStats:Yt})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:(0,$.Z)("layer-ui__wrapper",{"disable-pointerEvents":d.draggingElement||d.resizingElement||d.editingElement&&!(0,p.iB)(d.editingElement)}),style:d.isLibraryOpen&&d.isLibraryMenuDocked&&en.canDeviceFitSidebar?{width:"calc(100% - ".concat(Q.EE,"px)")}:{},children:[an,(a=(0,p.RT)(d,X),(0,n.jsx)(Lr,{side:"top",children:(0,n.jsxs)("div",{className:"App-menu App-menu_top",children:[(0,n.jsxs)(Re,{gap:4,className:(0,$.Z)({"disable-pointerEvents":Ae}),children:[rt?(0,n.jsx)(qn,{heading:"canvasActions",className:(0,$.Z)("zen-mode-transition",{"transition-left":Ae}),children:(0,n.jsx)(kr.W,{padding:2,style:{zIndex:1},children:(0,n.jsx)(Re,{gap:4,children:(0,n.jsxs)(it,{gap:1,justifyContent:"space-between",children:[Et(),cn()]})})})}):(0,n.jsx)(qn,{heading:"canvasActions",className:(0,$.Z)("zen-mode-transition",{"transition-left":Ae}),children:(0,n.jsx)(kr.W,{padding:2,style:{zIndex:1},children:(0,n.jsxs)(Re,{gap:4,children:[(0,n.jsxs)(it,{gap:1,justifyContent:"space-between",children:[s.renderAction("clearCanvas"),(0,n.jsx)(yn,{}),s.renderAction("loadScene"),Et(),cn(),(0,n.jsx)(yn,{}),q&&(0,n.jsx)(io,{isCollaborating:tt,collaboratorCount:d.collaborators.size,onClick:q})]}),(0,n.jsx)(Ea,{actionManager:s,appState:d,setAppState:k,showThemeBtn:Ue}),d.fileHandle&&(0,n.jsx)(n.Fragment,{children:s.renderAction("saveToActiveFile")})]})})}),a&&(0,n.jsx)(qn,{heading:"selectedShapeActions",className:(0,$.Z)("zen-mode-transition",{"transition-left":Ae}),children:(0,n.jsx)(kr.W,{className:Q.$C.SHAPE_ACTIONS_MENU,padding:2,style:{maxHeight:"".concat(d.height-(d.fileHandle?248:200),"px")},children:(0,n.jsx)(_a,{appState:d,elements:X,renderAction:s.renderAction,activeTool:d.activeTool.type})})})]}),!rt&&(0,n.jsx)(qn,{heading:"shapes",children:function(tn){return(0,n.jsx)(Re,{gap:4,align:"start",children:(0,n.jsxs)(it,{gap:1,className:(0,$.Z)("App-toolbar-container",{"zen-mode":Ae}),children:[(0,n.jsx)(bi,{zenModeEnabled:Ae,checked:d.penMode,onChange:ve,title:(0,u.t)("toolBar.penMode"),penDetected:d.penDetected}),(0,n.jsx)(Gi,{zenModeEnabled:Ae,checked:d.activeTool.locked,onChange:function(){return Se()},title:(0,u.t)("toolBar.lock")}),(0,n.jsxs)(kr.W,{padding:1,className:(0,$.Z)("App-toolbar",{"zen-mode":Ae}),children:[(0,n.jsx)(zo,{appState:d,elements:X,isMobile:en.isMobile}),tn,(0,n.jsx)(it,{gap:1,children:(0,n.jsx)(or,{appState:d,canvas:w,activeTool:d.activeTool,setAppState:k,onImageAction:function(Kt){var dn=Kt.pointerType;bt({insertOnCanvasDirectly:dn!=="mouse"})}})})]}),(0,n.jsx)(ja,{appState:d,setAppState:k})]})})}}),(0,n.jsxs)("div",{className:(0,$.Z)("layer-ui__wrapper__top-right zen-mode-transition",{"transition-right":Ae}),children:[(0,n.jsx)(Oa,{collaborators:d.collaborators,actionManager:s}),qe==null?void 0:qe(en.isMobile,d)]})]})})),(0,n.jsxs)("footer",{role:"contentinfo",className:"layer-ui__wrapper__footer App-menu App-menu_bottom",children:[(0,n.jsx)("div",{className:(0,$.Z)("layer-ui__wrapper__footer-left zen-mode-transition",{"layer-ui__wrapper__footer-left--transition-left":Ae}),children:(0,n.jsx)(Re,{gap:2,children:(0,n.jsxs)(qn,{heading:"canvasActions",children:[(0,n.jsx)(kr.W,{padding:1,children:(0,n.jsx)(fi,{renderAction:s.renderAction,zoom:d.zoom})}),!rt&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:(0,$.Z)("undo-redo-buttons zen-mode-transition",{"layer-ui__wrapper__footer-left--transition-bottom":Ae}),children:[s.renderAction("undo",{size:"small"}),s.renderAction("redo",{size:"small"})]}),(0,n.jsx)("div",{className:(0,$.Z)("eraser-buttons zen-mode-transition",{"layer-ui__wrapper__footer-left--transition-left":Ae}),children:s.renderAction("eraser",{size:"small"})})]}),!rt&&d.multiElement&&en.isTouchScreen&&(0,n.jsx)("div",{className:(0,$.Z)("finalize-button zen-mode-transition",{"layer-ui__wrapper__footer-left--transition-left":Ae}),children:s.renderAction("finalize",{size:"small"})})]})})}),(0,n.jsx)("div",{className:(0,$.Z)("layer-ui__wrapper__footer-center zen-mode-transition",{"layer-ui__wrapper__footer-left--transition-bottom":Ae}),children:Qe==null?void 0:Qe(!1,d)}),(0,n.jsx)("div",{className:(0,$.Z)("layer-ui__wrapper__footer-right zen-mode-transition",{"transition-right disable-pointerEvents":Ae}),children:s.renderAction("toggleShortcuts")}),(0,n.jsx)("button",{className:(0,$.Z)("disable-zen-mode",{"disable-zen-mode--visible":Fe}),onClick:Ke,children:(0,u.t)("buttons.exitZenMode")})]}),Yt(),d.scrolledOutside&&(0,n.jsx)("button",{className:"scroll-back-to-content",onClick:function(){k(function(tn){for(var Kt=1;Kt<arguments.length;Kt++){var dn=arguments[Kt]!=null?arguments[Kt]:{};Kt%2?Ba(Object(dn),!0).forEach(function(Dt){(0,j.Z)(tn,Dt,dn[Dt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tn,Object.getOwnPropertyDescriptors(dn)):Ba(Object(dn)).forEach(function(Dt){Object.defineProperty(tn,Dt,Object.getOwnPropertyDescriptor(dn,Dt))})}return tn}({},(0,se.W)(X,d,w)))},children:(0,u.t)("buttons.scrollBackToContent")})]}),d.isLibraryOpen&&(0,n.jsx)("div",{className:"layer-ui__sidebar",children:Rn})]})},Dr=function(e,a){var s=function(w){return w.suggestedBindings,w.startBoundElement,(0,$t.Z)(w,Ei)},d=s(e.appState),Z=s(a.appState),k=Object.keys(d);return e.renderCustomFooter===a.renderCustomFooter&&e.langCode===a.langCode&&e.elements===a.elements&&e.files===a.files&&k.every(function(w){return d[w]===Z[w]})},Ji=ne().memo(Ha,Dr),so=(o(9757),function(e){var a=e.message,s=e.clearToast,d=e.closable,Z=d!==void 0&&d,k=e.duration,w=k===void 0?5e3:k,X=(0,re.useRef)(0),q=w!==1/0,Se=(0,re.useCallback)(function(){q&&(X.current=window.setTimeout(function(){return s()},w))},[s,w,q]);(0,re.useEffect)(function(){if(q)return Se(),function(){return clearTimeout(X.current)}},[Se,a,w,q]);var ve=q?function(){return clearTimeout(X==null?void 0:X.current)}:void 0,Ie=q?Se:void 0;return(0,n.jsxs)("div",{className:"Toast",onMouseEnter:ve,onMouseLeave:Ie,children:[(0,n.jsx)("p",{className:"Toast__message",children:a}),Z&&(0,n.jsx)(F.V,{icon:h.xv,"aria-label":"close",type:"icon",onClick:s,className:"close"})]})});function ir(e,a){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);a&&(d=d.filter(function(Z){return Object.getOwnPropertyDescriptor(e,Z).enumerable})),s.push.apply(s,d)}return s}function Qi(e){for(var a=1;a<arguments.length;a++){var s=arguments[a]!=null?arguments[a]:{};a%2?ir(Object(s),!0).forEach(function(d){(0,j.Z)(e,d,s[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):ir(Object(s)).forEach(function(d){Object.defineProperty(e,d,Object.getOwnPropertyDescriptor(s,d))})}return e}var ea=(0,O.z)({name:"viewMode",trackEvent:{category:"canvas",predicate:function(e){return!e.viewModeEnabled}},perform:function(e,a){return{appState:Qi(Qi({},a),{},{viewModeEnabled:!this.checked(a)}),commitToHistory:!1}},checked:function(e){return e.viewModeEnabled},contextItemLabel:"labels.viewMode",keyTest:function(e){return!e[S.tW.CTRL_OR_CMD]&&e.altKey&&e.code===S.aU.R}}),Vr=o(5637),Yr=o(200),Wa=o.n(Yr),Ua=o(2325);function Wo(e,a){var s=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!s){if(Array.isArray(e)||(s=function(q,Se){if(q){if(typeof q=="string")return ta(q,Se);var ve=Object.prototype.toString.call(q).slice(8,-1);if(ve==="Object"&&q.constructor&&(ve=q.constructor.name),ve==="Map"||ve==="Set")return Array.from(q);if(ve==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ve))return ta(q,Se)}}(e))||a&&e&&typeof e.length=="number"){s&&(e=s);var d=0,Z=function(){};return{s:Z,n:function(){return d>=e.length?{done:!0}:{done:!1,value:e[d++]}},e:function(q){throw q},f:Z}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var k,w=!0,X=!1;return{s:function(){s=s.call(e)},n:function(){var q=s.next();return w=q.done,q},e:function(q){X=!0,k=q},f:function(){try{w||s.return==null||s.return()}finally{if(X)throw k}}}}function ta(e,a){(a==null||a>e.length)&&(a=e.length);for(var s=0,d=new Array(a);s<a;s++)d[s]=e[s];return d}function zn(e,a){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);a&&(d=d.filter(function(Z){return Object.getOwnPropertyDescriptor(e,Z).enumerable})),s.push.apply(s,d)}return s}function ht(e){for(var a=1;a<arguments.length;a++){var s=arguments[a]!=null?arguments[a]:{};a%2?zn(Object(s),!0).forEach(function(d){(0,j.Z)(e,d,s[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):zn(Object(s)).forEach(function(d){Object.defineProperty(e,d,Object.getOwnPropertyDescriptor(s,d))})}return e}function Fa(e){var a=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var s,d=(0,pe.Z)(e);if(a){var Z=(0,pe.Z)(this).constructor;s=Reflect.construct(d,arguments,Z)}else s=d.apply(this,arguments);return(0,te.Z)(this,s)}}var mr={isSmScreen:!1,isMobile:!1,isTouchScreen:!1,canDeviceFitSidebar:!1},Si=ne().createContext(mr),Fn=function(){return(0,re.useContext)(Si)},Gr=ne().createContext({container:null,id:null}),Uo=function(){return(0,re.useContext)(Gr)},Pn=!1,Fo=0,uo=0,fo=0,zr=!1,Rr=!1,Ci=!1,po={horizontal:null,vertical:null},Er=0,jo=!1,Zr=null,hn={pointers:new Map,lastCenter:null,initialDistance:null,initialScale:null},na=function(e){(0,I.Z)(Z,e);var a,s,d=Fa(Z);function Z(k){var w;(0,y.Z)(this,Z),w=d.call(this,k),ra.call((0,ie.Z)(w));var X,q=(0,Fr.im)(),Se=k.excalidrawRef,ve=k.viewModeEnabled,Ie=ve!==void 0&&ve,Ae=k.zenModeEnabled,Fe=Ae!==void 0&&Ae,Ue=k.gridModeEnabled,Ke=Ue!==void 0&&Ue,tt=k.theme,qe=tt===void 0?q.theme:tt,Qe=k.name,$e=Qe===void 0?q.name:Qe;if(w.state=ht(ht(ht({},q),{},{theme:qe,isLoading:!0},w.getCanvasOffsets()),{},{viewModeEnabled:Ie,zenModeEnabled:Fe,gridSize:Ke?Q.k:null,name:$e,width:window.innerWidth,height:window.innerHeight,showHyperlinkPopup:!1,isLibraryMenuDocked:!1}),w.id=(0,ge.x0)(),w.library=new ai.ZP((0,ie.Z)(w)),Se){var rt,jt="current"in Se&&((rt=Se.current)===null||rt===void 0?void 0:rt.readyPromise)||(0,c.PI)(),At={ready:!0,readyPromise:jt,updateScene:w.updateScene,updateLibrary:w.library.updateLibrary,addFiles:w.addFiles,resetScene:w.resetScene,getSceneElementsIncludingDeleted:w.getSceneElementsIncludingDeleted,history:{clear:w.resetHistory},scrollToContent:w.scrollToContent,getSceneElements:w.getSceneElements,getAppState:function(){return w.state},getFiles:function(){return w.files},refresh:w.refresh,setToastMessage:w.setToastMessage,id:w.id,setActiveTool:w.setActiveTool,setCursor:w.setCursor,resetCursor:w.resetCursor};typeof Se=="function"?Se(At):Se.current=At,jt.resolve(At)}return w.excalidrawContainerValue={container:w.excalidrawContainerRef.current,id:w.id},w.scene=new R.Z,w.history=new ci,w.actionManager=new ya(w.syncActionResult,function(){return w.state},function(){return w.scene.getElementsIncludingDeleted()},(0,ie.Z)(w)),w.actionManager.registerAll(O.N),w.actionManager.registerAction((X=w.history,{name:"undo",trackEvent:{category:"history"},perform:function(St,wt){return Xn(St,wt,function(){return X.undoOnce()})},keyTest:function(St){return St[S.tW.CTRL_OR_CMD]&&St.key.toLowerCase()===S.tW.Z&&!St.shiftKey},PanelComponent:function(St){var wt=St.updateData,_t=St.data;return(0,n.jsx)(F.V,{type:"button",icon:h.Yw,"aria-label":(0,u.t)("buttons.undo"),onClick:wt,size:(_t==null?void 0:_t.size)||"medium"})},commitToHistory:function(){return!1}})),w.actionManager.registerAction(function(St){return{name:"redo",trackEvent:{category:"history"},perform:function(wt,_t){return Xn(wt,_t,function(){return St.redoOnce()})},keyTest:function(wt){return wt[S.tW.CTRL_OR_CMD]&&wt.shiftKey&&wt.key.toLowerCase()===S.tW.Z||S.ED&&wt.ctrlKey&&!wt.shiftKey&&wt.key===S.tW.Y},PanelComponent:function(wt){var _t=wt.updateData,bt=wt.data;return(0,n.jsx)(F.V,{type:"button",icon:h.KX,"aria-label":(0,u.t)("buttons.redo"),onClick:_t,size:(bt==null?void 0:bt.size)||"medium"})},commitToHistory:function(){return!1}}}(w.history)),w}return(0,V.Z)(Z,[{key:"renderCanvas",value:function(){var k=window.devicePixelRatio,w=this.state,X=w.width,q=w.height,Se=X*k,ve=q*k;return w.viewModeEnabled?(0,n.jsx)("canvas",{className:"excalidraw__canvas",style:{width:X,height:q,cursor:Q.oc.GRAB},width:Se,height:ve,ref:this.handleCanvasRef,onContextMenu:this.handleCanvasContextMenu,onPointerMove:this.handleCanvasPointerMove,onPointerUp:this.handleCanvasPointerUp,onPointerCancel:this.removePointer,onTouchMove:this.handleTouchMove,onPointerDown:this.handleCanvasPointerDown,children:(0,u.t)("labels.drawingCanvas")}):(0,n.jsx)("canvas",{className:"excalidraw__canvas",style:{width:X,height:q},width:Se,height:ve,ref:this.handleCanvasRef,onContextMenu:this.handleCanvasContextMenu,onPointerDown:this.handleCanvasPointerDown,onDoubleClick:this.handleCanvasDoubleClick,onPointerMove:this.handleCanvasPointerMove,onPointerUp:this.handleCanvasPointerUp,onPointerCancel:this.removePointer,onTouchMove:this.handleTouchMove,children:(0,u.t)("labels.drawingCanvas")})}},{key:"render",value:function(){var k,w,X=this,q=this.state,Se=q.zenModeEnabled,ve=q.viewModeEnabled,Ie=(0,se.eD)(this.scene.getNonDeletedElements(),this.state),Ae=this.props,Fe=Ae.onCollabButtonClick,Ue=Ae.renderTopRightUI,Ke=Ae.renderFooter,tt=Ae.renderCustomStats;return(0,n.jsx)("div",{className:(0,$.Z)("excalidraw excalidraw-container",{"excalidraw--view-mode":ve,"excalidraw--mobile":this.device.isMobile}),ref:this.excalidrawContainerRef,onDrop:this.handleAppOnDrop,tabIndex:0,onKeyDown:this.props.handleKeyboardGlobally?void 0:this.onKeyDown,children:(0,n.jsx)(Gr.Provider,{value:this.excalidrawContainerValue,children:(0,n.jsxs)(Si.Provider,{value:this.device,children:[(0,n.jsx)(Ji,{canvas:this.canvas,appState:this.state,files:this.files,setAppState:this.setAppState,actionManager:this.actionManager,elements:this.scene.getNonDeletedElements(),onCollabButtonClick:Fe,onLockToggle:this.toggleLock,onPenModeToggle:this.togglePenMode,onInsertElements:function(qe){return X.addElementsFromPasteOrLibrary({elements:qe,position:"center",files:null})},zenModeEnabled:Se,toggleZenMode:this.toggleZenMode,langCode:(0,u.G3)().code,isCollaborating:this.props.isCollaborating,renderTopRightUI:Ue,renderCustomFooter:Ke,renderCustomStats:tt,viewModeEnabled:ve,showExitZenModeBtn:((k=this.props)===null||k===void 0?void 0:k.zenModeEnabled)===void 0&&Se,showThemeBtn:((w=this.props)===null||w===void 0?void 0:w.theme)===void 0&&this.props.UIOptions.canvasActions.theme,libraryReturnUrl:this.props.libraryReturnUrl,UIOptions:this.props.UIOptions,focusContainer:this.focusContainer,library:this.library,id:this.id,onImageAction:this.onImageAction}),(0,n.jsx)("div",{className:"excalidraw-textEditorContainer"}),(0,n.jsx)("div",{className:"excalidraw-contextMenuContainer"}),Ie.length===1&&this.state.showHyperlinkPopup&&(0,n.jsx)(tr.nW,{element:Ie[0],appState:this.state,setAppState:this.setAppState,onLinkOpen:this.props.onLinkOpen},Ie[0].id),this.state.toastMessage!==null&&(0,n.jsx)(so,{message:this.state.toastMessage,clearToast:this.clearToast}),(0,n.jsx)("main",{children:this.renderCanvas()})]})})})}},{key:"componentDidMount",value:(s=(0,g.Z)(W().mark(function k(){var w,X,q,Se,ve,Ie,Ae=this;return W().wrap(function(Fe){for(;;)switch(Fe.prev=Fe.next){case 0:this.unmounted=!1,this.excalidrawContainerValue.container=this.excalidrawContainerRef.current,Q.Vi.TEST!=="production"&&Q.Vi.DEVELOPMENT!=="production"||(this.setState.bind(this),Object.defineProperties(window.h,{state:{configurable:!0,get:function(){return Ae.state}},setState:{configurable:!0,value:function(){return Ae.setState.apply(Ae,arguments)}},app:{configurable:!0,value:this},history:{configurable:!0,value:this.history}})),this.scene.addCallback(this.onSceneUpdated),this.addEventListeners(),this.excalidrawContainerRef.current&&this.focusContainer(),this.excalidrawContainerRef.current&&this.refreshDeviceState(this.excalidrawContainerRef.current),"ResizeObserver"in window&&(w=this.excalidrawContainerRef)!==null&&w!==void 0&&w.current?(this.resizeObserver=new ResizeObserver(function(){Ae.refreshDeviceState(Ae.excalidrawContainerRef.current),Ae.updateDOMRect()}),(X=this.resizeObserver)===null||X===void 0||X.observe(this.excalidrawContainerRef.current)):window.matchMedia&&(q=window.matchMedia("(max-width: ".concat(Q.kV,"px), (max-height: ").concat(Q.Yx,"px) and (max-width: ").concat(Q.sS,"px)")),Se=window.matchMedia("(max-width: ".concat(Q.eF,"px)")),ve=window.matchMedia("(min-width: ".concat(this.props.UIOptions.dockedSidebarBreakpoint!=null?this.props.UIOptions.dockedSidebarBreakpoint:Q.sk,"px)")),Ie=function(){Ae.excalidrawContainerRef.current.getBoundingClientRect(),Ae.device=(0,c.v4)(Ae.device,{isSmScreen:Se.matches,isMobile:q.matches,canDeviceFitSidebar:ve.matches})},q.addListener(Ie),this.detachIsMobileMqHandler=function(){return q.removeListener(Ie)}),new URLSearchParams(window.location.search.slice(1)).has("web-share-target")?this.restoreFileFromShare():this.updateDOMRect(this.initializeScene);case 10:case"end":return Fe.stop()}},k,this)})),function(){return s.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){var k;this.files={},this.imageCache.clear(),(k=this.resizeObserver)===null||k===void 0||k.disconnect(),this.unmounted=!0,this.removeEventListeners(),this.scene.destroy(),clearTimeout(Er),Er=0}},{key:"removeEventListeners",value:function(){var k,w,X,q;document.removeEventListener(Q.Ks.POINTER_UP,this.removePointer),document.removeEventListener(Q.Ks.COPY,this.onCopy),document.removeEventListener(Q.Ks.PASTE,this.pasteFromClipboard),document.removeEventListener(Q.Ks.CUT,this.onCut),(k=this.nearestScrollableContainer)===null||k===void 0||k.removeEventListener(Q.Ks.SCROLL,this.onScroll),document.removeEventListener(Q.Ks.KEYDOWN,this.onKeyDown,!1),document.removeEventListener(Q.Ks.MOUSE_MOVE,this.updateCurrentCursorPosition,!1),document.removeEventListener(Q.Ks.KEYUP,this.onKeyUp),window.removeEventListener(Q.Ks.RESIZE,this.onResize,!1),window.removeEventListener(Q.Ks.UNLOAD,this.onUnload,!1),window.removeEventListener(Q.Ks.BLUR,this.onBlur,!1),(w=this.excalidrawContainerRef.current)===null||w===void 0||w.removeEventListener(Q.Ks.DRAG_OVER,this.disableEvent,!1),(X=this.excalidrawContainerRef.current)===null||X===void 0||X.removeEventListener(Q.Ks.DROP,this.disableEvent,!1),document.removeEventListener(Q.Ks.GESTURE_START,this.onGestureStart,!1),document.removeEventListener(Q.Ks.GESTURE_CHANGE,this.onGestureChange,!1),document.removeEventListener(Q.Ks.GESTURE_END,this.onGestureEnd,!1),(q=this.detachIsMobileMqHandler)===null||q===void 0||q.call(this)}},{key:"addEventListeners",value:function(){var k,w,X,q;this.removeEventListeners(),document.addEventListener(Q.Ks.POINTER_UP,this.removePointer),document.addEventListener(Q.Ks.COPY,this.onCopy),this.props.handleKeyboardGlobally&&document.addEventListener(Q.Ks.KEYDOWN,this.onKeyDown,!1),document.addEventListener(Q.Ks.KEYUP,this.onKeyUp,{passive:!0}),document.addEventListener(Q.Ks.MOUSE_MOVE,this.updateCurrentCursorPosition),(k=document.fonts)===null||k===void 0||(w=k.addEventListener)===null||w===void 0||w.call(k,"loadingdone",this.onFontLoaded),document.addEventListener(Q.Ks.GESTURE_START,this.onGestureStart,!1),document.addEventListener(Q.Ks.GESTURE_CHANGE,this.onGestureChange,!1),document.addEventListener(Q.Ks.GESTURE_END,this.onGestureEnd,!1),this.state.viewModeEnabled||(document.addEventListener(Q.Ks.PASTE,this.pasteFromClipboard),document.addEventListener(Q.Ks.CUT,this.onCut),this.props.detectScroll&&(this.nearestScrollableContainer=(0,c.Ip)(this.excalidrawContainerRef.current),this.nearestScrollableContainer.addEventListener(Q.Ks.SCROLL,this.onScroll)),window.addEventListener(Q.Ks.RESIZE,this.onResize,!1),window.addEventListener(Q.Ks.UNLOAD,this.onUnload,!1),window.addEventListener(Q.Ks.BLUR,this.onBlur,!1),(X=this.excalidrawContainerRef.current)===null||X===void 0||X.addEventListener(Q.Ks.DRAG_OVER,this.disableEvent,!1),(q=this.excalidrawContainerRef.current)===null||q===void 0||q.addEventListener(Q.Ks.DROP,this.disableEvent,!1))}},{key:"componentDidUpdate",value:function(k,w){var X,q,Se,ve=this;this.excalidrawContainerRef.current&&k.UIOptions.dockedSidebarBreakpoint!==this.props.UIOptions.dockedSidebarBreakpoint&&this.refreshDeviceState(this.excalidrawContainerRef.current),(w.scrollX!==this.state.scrollX||w.scrollY!==this.state.scrollY)&&((q=this.props)===null||q===void 0||(Se=q.onScrollChange)===null||Se===void 0||Se.call(q,this.state.scrollX,this.state.scrollY)),Object.keys(this.state.selectedElementIds).length&&(0,Fr.EN)(this.state)&&this.setState({activeTool:(0,c.Om)(this.state,{type:"selection"})}),this.state.activeTool.type==="eraser"&&w.theme!==this.state.theme&&(0,c.OF)(this.canvas,this.state.theme),w.activeTool.type==="selection"&&this.state.activeTool.type!=="selection"&&this.state.showHyperlinkPopup&&this.setState({showHyperlinkPopup:!1}),k.langCode!==this.props.langCode&&this.updateLanguage(),k.viewModeEnabled!==this.props.viewModeEnabled&&this.setState({viewModeEnabled:!!this.props.viewModeEnabled}),w.viewModeEnabled!==this.state.viewModeEnabled&&(this.addEventListeners(),this.deselectElements()),k.zenModeEnabled!==this.props.zenModeEnabled&&this.setState({zenModeEnabled:!!this.props.zenModeEnabled}),k.theme!==this.props.theme&&this.props.theme&&this.setState({theme:this.props.theme}),k.gridModeEnabled!==this.props.gridModeEnabled&&this.setState({gridSize:this.props.gridModeEnabled?Q.k:null}),this.props.name&&k.name!==this.props.name&&this.setState({name:this.props.name}),(X=this.excalidrawContainerRef.current)===null||X===void 0||X.classList.toggle("theme--dark",this.state.theme==="dark"),this.state.editingLinearElement&&!this.state.selectedElementIds[this.state.editingLinearElement.elementId]&&setTimeout(function(){ve.actionManager.executeAction(Ze)});var Ie=w.multiElement;w.activeTool!==this.state.activeTool&&Ie!=null&&(0,l.N1)(this.state)&&(0,m.Mn)(Ie,!1)&&(0,l.R)(Ie,this.state,this.scene,(0,c.AK)(T._.getPointAtIndexGlobalCoordinates(Ie,-1)));var Ae={},Fe={},Ue={},Ke={},tt={};this.state.collaborators.forEach(function(rt,jt){if(rt.selectedElementIds)for(var At=0,St=Object.keys(rt.selectedElementIds);At<St.length;At++){var wt=St[At];wt in Ue||(Ue[wt]=[]),Ue[wt].push(jt)}rt.pointer&&(rt.username&&(Ke[jt]=rt.username),rt.userState&&(tt[jt]=rt.userState),Fe[jt]=(0,c._i)({sceneX:rt.pointer.x,sceneY:rt.pointer.y},ve.state),Ae[jt]=rt.button)});var qe,Qe,$e=this.scene.getNonDeletedElements().filter(function(rt){return(!(0,m.pC)(rt)||ve.state.pendingImageElementId!==rt.id)&&(!ve.state.editingElement||ve.state.editingElement.type!=="text"||rt.id!==ve.state.editingElement.id)});(0,ml.OO)($e,this.state,this.state.selectionElement,window.devicePixelRatio,this.rc,this.canvas,{scrollX:this.state.scrollX,scrollY:this.state.scrollY,viewBackgroundColor:this.state.viewBackgroundColor,zoom:this.state.zoom,remotePointerViewportCoords:Fe,remotePointerButton:Ae,remoteSelectedElementIds:Ue,remotePointerUsernames:Ke,remotePointerUserStates:tt,shouldCacheIgnoreZoom:this.state.shouldCacheIgnoreZoom,theme:this.state.theme,imageCache:this.imageCache,isExporting:!1,renderScrollbars:!this.device.isMobile},function(rt){var jt=rt.atLeastOneVisibleElement,At=rt.scrollBars;At&&(po=At);var St=!(0,p.iB)(ve.state.editingElement)&&!jt&&$e.length>0;ve.state.scrolledOutside!==St&&ve.setState({scrolledOutside:St}),ve.scheduleImageRefresh()}),this.history.record(this.state,this.scene.getElementsIncludingDeleted()),this.state.isLoading||(qe=(Qe=this.props).onChange)===null||qe===void 0||qe.call(Qe,this.scene.getElementsIncludingDeleted(),this.state,this.files)}},{key:"addTextFromPaste",value:function(k){var w=(0,c.dE)({clientX:uo,clientY:fo},this.state),X=w.x,q=w.y,Se=(0,p.VL)({x:X,y:q,strokeColor:this.state.currentItemStrokeColor,backgroundColor:this.state.currentItemBackgroundColor,fillStyle:this.state.currentItemFillStyle,strokeWidth:this.state.currentItemStrokeWidth,strokeStyle:this.state.currentItemStrokeStyle,roughness:this.state.currentItemRoughness,opacity:this.state.currentItemOpacity,strokeSharpness:this.state.currentItemStrokeSharpness,text:k,fontSize:this.state.currentItemFontSize,fontFamily:this.state.currentItemFontFamily,textAlign:this.state.currentItemTextAlign,verticalAlign:Q.hs,locked:!1});this.scene.replaceAllElements([].concat((0,v.Z)(this.scene.getElementsIncludingDeleted()),[Se])),this.setState({selectedElementIds:(0,j.Z)({},Se.id,!0)}),this.history.resumeRecording()}},{key:"handleTextWysiwyg",value:function(k,w){var X=this,q=w.isExistingElement,Se=q!==void 0&&q,ve=function(Ie,Ae,Fe){X.scene.replaceAllElements((0,v.Z)(X.scene.getElementsIncludingDeleted().map(function(Ue){return Ue.id===k.id&&(0,p.iB)(Ue)?(0,p.N_)(Ue,{text:Ie,isDeleted:Fe,originalText:Ae}):Ue})))};(0,p.b_)({id:k.id,canvas:this.canvas,getViewportCoords:function(Ie,Ae){var Fe=(0,c._i)({sceneX:Ie,sceneY:Ae},X.state),Ue=Fe.x,Ke=Fe.y;return[Ue-X.state.offsetLeft,Ke-X.state.offsetTop]},onChange:(0,c.tH)(function(Ie){ve(Ie,Ie,!1),(0,p.qP)(k)&&(0,l.Ww)(k)}),onSubmit:(0,c.tH)(function(Ie){var Ae=Ie.text,Fe=Ie.viaKeyboard,Ue=Ie.originalText,Ke=!Ae.trim();if(ve(Ae,Ue,Ke),!Ke&&Fe){var tt=k.containerId?k.containerId:k.id;X.setState(function(qe){return{selectedElementIds:ht(ht({},qe.selectedElementIds),{},(0,j.Z)({},tt,!0))}})}Ke&&(0,l.$q)(X.scene.getNonDeletedElements(),[k]),Ke&&!Se||X.history.resumeRecording(),X.setState({draggingElement:null,editingElement:null}),X.state.activeTool.locked&&(0,c.Uk)(X.canvas,X.state),X.focusContainer()}),element:k,excalidrawContainer:this.excalidrawContainerRef.current,app:this}),this.deselectElements(),ve(k.text,k.originalText,!1)}},{key:"deselectElements",value:function(){this.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})}},{key:"getTextElementAtPosition",value:function(k,w){var X=this.getElementAtPosition(k,w,{includeBoundTextElement:!0});return X&&(0,p.iB)(X)&&!X.isDeleted?X:null}},{key:"getElementAtPosition",value:function(k,w,X){var q=this.getElementsAtPosition(k,w,X==null?void 0:X.includeBoundTextElement,X==null?void 0:X.includeLockedElements);if(q.length>1){if(X!=null&&X.preferSelected){for(var Se=q.length-1;Se>-1;Se--)if(this.state.selectedElementIds[q[Se].id])return q[Se]}var ve=q[q.length-1];return(0,p.wB)(ve,this.state,k,w)?q[q.length-2]:ve}return q.length===1?q[0]:null}},{key:"getElementsAtPosition",value:function(k,w){var X=this,q=arguments.length>2&&arguments[2]!==void 0&&arguments[2],Se=arguments.length>3&&arguments[3]!==void 0&&arguments[3],ve=q&&Se?this.scene.getNonDeletedElements():this.scene.getNonDeletedElements().filter(function(Ie){return(Se||!Ie.locked)&&(q||!((0,p.iB)(Ie)&&Ie.containerId))});return(0,se.CJ)(ve,function(Ie){return(0,p.wX)(Ie,X.state,k,w)})}},{key:"maybeCleanupAfterMissingPointerUp",value:function(k){Zr!==null&&Zr(k)}},{key:"updateGestureOnPointerDown",value:function(k){hn.pointers.set(k.pointerId,{x:k.clientX,y:k.clientY}),hn.pointers.size===2&&(hn.lastCenter=wa(hn.pointers),hn.initialScale=this.state.zoom.value,hn.initialDistance=ka(Array.from(hn.pointers.values())))}},{key:"initialPointerDownState",value:function(k){var w=(0,c.dE)(k,this.state),X=(0,se.eD)(this.scene.getNonDeletedElements(),this.state),q=(0,p.KP)(X),Se=(0,i.Z)(q,4),ve=Se[0],Ie=Se[1],Ae=Se[2],Fe=Se[3];return{origin:w,withCmdOrCtrl:k[S.tW.CTRL_OR_CMD],originInGrid:(0,c.AK)((0,ye.wC)(w.x,w.y,this.state.gridSize)),scrollbars:(0,se._4)(po,k.clientX-this.state.offsetLeft,k.clientY-this.state.offsetTop),lastCoords:ht({},w),originalElements:this.scene.getNonDeletedElements().reduce(function(Ue,Ke){return Ue.set(Ke.id,(0,to.OL)(Ke)),Ue},new Map),resize:{handleType:!1,isResizing:!1,offset:{x:0,y:0},arrowDirection:"origin",center:{x:(Ae+ve)/2,y:(Fe+Ie)/2}},hit:{element:null,allHitElements:[],wasAddedToSelection:!1,hasBeenDuplicated:!1,hasHitCommonBoundingBoxOfSelectedElements:this.isHittingCommonBoundingBoxOfSelectedElements(w,X),hasHitElementInside:!1},drag:{hasOccurred:!1,offset:null},eventListeners:{onMove:null,onUp:null,onKeyUp:null,onKeyDown:null},boxSelection:{hasOccurred:!1},elementIdsToErase:{}}}},{key:"handleDraggingScrollBar",value:function(k,w){var X=this;if(!w.scrollbars.isOverEither||this.state.multiElement)return!1;Ci=!0,w.lastCoords.x=k.clientX,w.lastCoords.y=k.clientY;var q=(0,c.$9)(function(ve){ve.target instanceof HTMLElement&&X.handlePointerMoveOverScrollbars(ve,w)}),Se=(0,c.tH)(function(){Ci=!1,(0,c.Uk)(X.canvas,X.state),Zr=null,X.setState({cursorButton:"up"}),X.savePointer(k.clientX,k.clientY,"up"),window.removeEventListener(Q.Ks.POINTER_MOVE,q),window.removeEventListener(Q.Ks.POINTER_UP,Se),q.flush()});return Zr=Se,window.addEventListener(Q.Ks.POINTER_MOVE,q),window.addEventListener(Q.Ks.POINTER_UP,Se),!0}},{key:"isASelectedElement",value:function(k){return k!=null&&this.state.selectedElementIds[k.id]}},{key:"isHittingCommonBoundingBoxOfSelectedElements",value:function(k,w){if(w.length<2)return!1;var X=10/this.state.zoom.value,q=(0,p.KP)(w),Se=(0,i.Z)(q,4),ve=Se[0],Ie=Se[1],Ae=Se[2],Fe=Se[3];return k.x>ve-X&&k.x<Ae+X&&k.y>Ie-X&&k.y<Fe+X}},{key:"onKeyDownFromPointerDownHandler",value:function(k){var w=this;return(0,c.tH)(function(X){w.maybeHandleResize(k,X)||w.maybeDragNewGenericElement(k,X)})}},{key:"onKeyUpFromPointerDownHandler",value:function(k){var w=this;return(0,c.tH)(function(X){X.key===S.tW.ALT&&X.preventDefault(),w.maybeHandleResize(k,X)||w.maybeDragNewGenericElement(k,X)})}},{key:"onPointerMoveFromPointerDownHandler",value:function(k){var w=this;return(0,c.$9)(function(X){var q,Se;if(k.drag.offset===null&&(k.drag.offset=(0,c.AK)((0,p.$V)((0,se.eD)(w.scene.getNonDeletedElements(),w.state),k.origin.x,k.origin.y))),X.target instanceof HTMLElement&&!w.handlePointerMoveOverScrollbars(X,k)){var ve=(0,c.dE)(X,w.state);if((0,Fr.EN)(w.state))w.handleEraser(X,k,ve);else{var Ie=(0,ye.wC)(ve.x,ve.y,w.state.gridSize),Ae=(0,i.Z)(Ie,2),Fe=Ae[0],Ue=Ae[1];if(k.drag.hasOccurred||w.state.activeTool.type!=="arrow"&&w.state.activeTool.type!=="line"||!((0,ye.LW)(ve.x,ve.y,k.origin.x,k.origin.y)<Q.f)){if(k.resize.isResizing&&(k.lastCoords.x=ve.x,k.lastCoords.y=ve.y,w.maybeHandleResize(k,X)))return!0;if(w.state.editingLinearElement){var Ke=T._.handlePointDragging(w.state,function(An){return w.setState(An)},ve.x,ve.y,function(An,Vo){w.maybeSuggestBindingsForLinearElementAtCoords(An,Vo)});if(Ke)return k.lastCoords.x=ve.x,void(k.lastCoords.y=ve.y)}var tt=k.hit.allHitElements.some(function(An){return w.isASelectedElement(An)});if((tt||k.hit.hasHitCommonBoundingBoxOfSelectedElements)&&(!w.state.editingLinearElement||!X.shiftKey)&&(!w.state.editingLinearElement||((q=w.state.editingLinearElement)===null||q===void 0?void 0:q.elementId)!==((Se=k.hit.element)===null||Se===void 0?void 0:Se.id)||k.hit.hasHitElementInside)){var qe=(0,se.eD)(w.scene.getNonDeletedElements(),w.state);if(qe.every(function(An){return An.locked}))return;if(k.drag.hasOccurred=!0,qe.length>0&&!k.withCmdOrCtrl){var Qe=(0,ye.wC)(ve.x-k.drag.offset.x,ve.y-k.drag.offset.y,w.state.gridSize),$e=(0,i.Z)(Qe,2),rt=$e[0],jt=$e[1],At=[Math.abs(ve.x-k.origin.x),Math.abs(ve.y-k.origin.y)],St=At[0],wt=At[1],_t=X.shiftKey;if((0,p.o8)(k,qe,rt,jt,_t,St,wt,w.state),w.maybeSuggestBindingForAll(qe),X.altKey&&!k.hit.hasBeenDuplicated){k.hit.hasBeenDuplicated=!0;var bt,en=[],Et=[],cn=new Map,yn=new Map,Vn=k.hit.element,$n=w.scene.getElementsIncludingDeleted(),Rn=(0,se.eD)($n,w.state,!0).map(function(An){return An.id}),an=Wo($n);try{for(an.s();!(bt=an.n()).done;){var Yt=bt.value;if(Rn.includes(Yt.id)||Yt.id===(Vn==null?void 0:Vn.id)&&k.hit.wasAddedToSelection){var tn=(0,p.Sy)(w.state.editingGroupId,cn,Yt),Kt=(0,ye.wC)(k.origin.x-k.drag.offset.x,k.origin.y-k.drag.offset.y,w.state.gridSize),dn=(0,i.Z)(Kt,2),Dt=dn[0],nn=dn[1];(0,_.DR)(tn,{x:tn.x+(Dt-rt),y:tn.y+(nn-jt)}),en.push(tn),Et.push(Yt),yn.set(Yt.id,tn.id)}else en.push(Yt)}}catch(An){an.e(An)}finally{an.f()}var bn=[].concat(en,Et);(0,Ce.P7)(en,Et,yn),(0,l.ek)(bn,Et,yn,"duplicatesServeAsOld"),w.scene.replaceAllElements(bn)}return}}var Jt=w.state.draggingElement;if(Jt){if(Jt.type==="freedraw"){var gn=Jt.points,Tn=ve.x-Jt.x,Sr=ve.y-Jt.y,Jn=gn.length>0&&gn[gn.length-1];if(!(Jn&&Jn[0]===Tn&&Jn[1]===Sr)){var gr=Jt.simulatePressure?Jt.pressures:[].concat((0,v.Z)(Jt.pressures),[X.pressure]);(0,_.DR)(Jt,{points:[].concat((0,v.Z)(gn),[[Tn,Sr]]),pressures:gr})}}else if((0,m.bt)(Jt)){k.drag.hasOccurred=!0;var Nr=Jt.points,Xr=Fe-Jt.x,Br=Ue-Jt.y;if((0,S.Ge)(X)&&Nr.length===2){var Io=(0,p.uK)(w.state.activeTool.type,Xr,Br);Xr=Io.width,Br=Io.height}Nr.length===1?(0,_.DR)(Jt,{points:[].concat((0,v.Z)(Nr),[[Xr,Br]])}):Nr.length>1&&(0,_.DR)(Jt,{points:[].concat((0,v.Z)(Nr.slice(0,-1)),[[Xr,Br]])}),(0,m.Mn)(Jt,!1)&&w.maybeSuggestBindingsForLinearElementAtCoords(Jt,[ve],w.state.startBoundElement)}else k.lastCoords.x=ve.x,k.lastCoords.y=ve.y,w.maybeDragNewGenericElement(k,X);if(w.state.activeTool.type==="selection"){k.boxSelection.hasOccurred=!0;var oa=w.scene.getNonDeletedElements();if(X.shiftKey||w.state.editingLinearElement||!(0,se.N)(oa,w.state)||(k.withCmdOrCtrl&&k.hit.element?w.setState(function(An){return(0,E.bO)(ht(ht({},An),{},{selectedElementIds:(0,j.Z)({},k.hit.element.id,!0)}),w.scene.getNonDeletedElements())}):w.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})),w.state.editingLinearElement)T._.handleBoxSelection(X,w.state,w.setState.bind(w));else{var Ko=(0,se.Yp)(oa,Jt);w.setState(function(An){return(0,E.bO)(ht(ht({},An),{},{selectedElementIds:ht(ht(ht({},An.selectedElementIds),Ko.reduce(function(Vo,Oi){return Vo[Oi.id]=!0,Vo},{})),k.hit.element?(0,j.Z)({},k.hit.element.id,!Ko.length):null),showHyperlinkPopup:!(Ko.length!==1||!Ko[0].link)&&"info"}),w.scene.getNonDeletedElements())})}}}}}}})}},{key:"handlePointerMoveOverScrollbars",value:function(k,w){if(w.scrollbars.isOverHorizontal){var X=k.clientX,q=X-w.lastCoords.x;return this.setState({scrollX:this.state.scrollX-q/this.state.zoom.value}),w.lastCoords.x=X,!0}if(w.scrollbars.isOverVertical){var Se=k.clientY,ve=Se-w.lastCoords.y;return this.setState({scrollY:this.state.scrollY-ve/this.state.zoom.value}),w.lastCoords.y=Se,!0}return!1}},{key:"onPointerUpFromPointerDownHandler",value:function(k){var w=this;return(0,c.tH)(function(X){var q,Se,ve=w.state,Ie=ve.draggingElement,Ae=ve.resizingElement,Fe=ve.multiElement,Ue=ve.activeTool,Ke=ve.isResizing,tt=ve.isRotating;if(w.setState({isResizing:!1,isRotating:!1,resizingElement:null,selectionElement:null,cursorButton:"up",editingElement:Fe||(0,p.iB)(w.state.editingElement)?w.state.editingElement:null}),w.savePointer(X.clientX,X.clientY,"up"),w.state.editingLinearElement)if(k.boxSelection.hasOccurred||((q=k.hit)===null||q===void 0||(Se=q.element)===null||Se===void 0?void 0:Se.id)===w.state.editingLinearElement.elementId&&k.hit.hasHitElementInside){var qe=T._.handlePointerUp(X,w.state.editingLinearElement,w.state);qe!==w.state.editingLinearElement&&w.setState({editingLinearElement:qe,suggestedBindings:[]})}else w.actionManager.executeAction(Ze);if(Zr=null,k.eventListeners.onMove&&k.eventListeners.onMove.flush(),window.removeEventListener(Q.Ks.POINTER_MOVE,k.eventListeners.onMove),window.removeEventListener(Q.Ks.POINTER_UP,k.eventListeners.onUp),window.removeEventListener(Q.Ks.KEYDOWN,k.eventListeners.onKeyDown),window.removeEventListener(Q.Ks.KEYUP,k.eventListeners.onKeyUp),w.state.pendingImageElementId&&w.setState({pendingImageElementId:null}),(Ie==null?void 0:Ie.type)==="freedraw"){var Qe=(0,c.dE)(X,w.state),$e=Ie.points,rt=Qe.x-Ie.x,jt=Qe.y-Ie.y;rt===$e[0][0]&&jt===$e[0][1]&&(jt+=1e-4,rt+=1e-4);var At=Ie.simulatePressure?[]:[].concat((0,v.Z)(Ie.pressures),[X.pressure]);return(0,_.DR)(Ie,{points:[].concat((0,v.Z)($e),[[rt,jt]]),pressures:At,lastCommittedPoint:[rt,jt]}),void w.actionManager.executeAction(Ze)}if((0,m.pC)(Ie)){var St=Ie;try{w.initializeImageDimensions(St),w.setState({selectedElementIds:(0,j.Z)({},St.id,!0)},function(){w.actionManager.executeAction(Ze)})}catch(Et){console.error(Et),w.scene.replaceAllElements(w.scene.getElementsIncludingDeleted().filter(function(cn){return cn.id!==St.id})),w.actionManager.executeAction(Ze)}}else if((0,m.bt)(Ie)){Ie.points.length>1&&w.history.resumeRecording();var wt=(0,c.dE)(X,w.state);k.drag.hasOccurred||!Ie||Fe?k.drag.hasOccurred&&!Fe&&((0,l.N1)(w.state)&&(0,m.Mn)(Ie,!1)&&(0,l.R)(Ie,w.state,w.scene,wt),w.setState({suggestedBindings:[],startBoundElement:null}),Ue.locked?w.setState(function(Et){return{draggingElement:null,selectedElementIds:ht(ht({},Et.selectedElementIds),{},(0,j.Z)({},Ie.id,!0))}}):((0,c.z8)(w.canvas),w.setState(function(Et){return{draggingElement:null,activeTool:(0,c.Om)(w.state,{type:"selection"}),selectedElementIds:ht(ht({},Et.selectedElementIds),{},(0,j.Z)({},Ie.id,!0))}}))):((0,_.DR)(Ie,{points:[].concat((0,v.Z)(Ie.points),[[wt.x-Ie.x,wt.y-Ie.y]])}),w.setState({multiElement:Ie,editingElement:w.state.draggingElement}))}else{if(Ue.type!=="selection"&&Ie&&(0,p.QD)(Ie))return w.scene.replaceAllElements(w.scene.getElementsIncludingDeleted().slice(0,-1)),void w.setState({draggingElement:null});Ie&&(0,_.DR)(Ie,(0,p.Qp)(Ie)),Ae&&w.history.resumeRecording(),Ae&&(0,p.QD)(Ae)&&w.scene.replaceAllElements(w.scene.getElementsIncludingDeleted().filter(function(Et){return Et.id!==Ae.id}));var _t=k.hit.element;if((0,Fr.EN)(w.state)){if((0,ye.LW)(w.lastPointerDown.clientX,w.lastPointerDown.clientY,w.lastPointerUp.clientX,w.lastPointerUp.clientY)===0){var bt=(0,c.dE)({clientX:w.lastPointerUp.clientX,clientY:w.lastPointerUp.clientY},w.state);w.getElementsAtPosition(bt.x,bt.y).forEach(function(Et){return k.elementIdsToErase[Et.id]={erase:!0,opacity:Et.opacity}})}w.eraseElements(k)}else{if(Object.keys(k.elementIdsToErase).length&&w.restoreReadyToEraseElements(k),_t&&!k.drag.hasOccurred&&!k.hit.wasAddedToSelection&&(!w.state.editingLinearElement||!k.boxSelection.hasOccurred))if(X.shiftKey&&!w.state.editingLinearElement)if(w.state.selectedElementIds[_t.id])if((0,E.zq)(w.state,_t)){var en=_t.groupIds.flatMap(function(Et){return(0,E.Fb)(w.scene.getNonDeletedElements(),Et)}).map(function(Et){return(0,j.Z)({},Et.id,!1)}).reduce(function(Et,cn){return ht(ht({},Et),cn)},{});w.setState(function(Et){return{selectedGroupIds:ht(ht({},Et.selectedElementIds),_t.groupIds.map(function(cn){return(0,j.Z)({},cn,!1)}).reduce(function(cn,yn){return ht(ht({},cn),yn)},{})),selectedElementIds:ht(ht({},Et.selectedElementIds),en)}})}else w.setState(function(Et){return(0,E.bO)(ht(ht({},Et),{},{selectedElementIds:ht(ht({},Et.selectedElementIds),{},(0,j.Z)({},_t.id,!1))}),w.scene.getNonDeletedElements())});else w.setState(function(Et){return{selectedElementIds:ht(ht({},Et.selectedElementIds),{},(0,j.Z)({},_t.id,!0))}});else w.setState(function(Et){return ht({},(0,E.bO)(ht(ht({},Et),{},{selectedElementIds:(0,j.Z)({},_t.id,!0)}),w.scene.getNonDeletedElements()))});w.state.editingLinearElement||k.drag.hasOccurred||w.state.isResizing||!(_t&&(0,p.wB)(_t,w.state,k.origin.x,k.origin.y)||!_t&&k.hit.hasHitCommonBoundingBoxOfSelectedElements)?(!Ue.locked&&Ue.type!=="freedraw"&&Ie&&w.setState(function(Et){return{selectedElementIds:ht(ht({},Et.selectedElementIds),{},(0,j.Z)({},Ie.id,!0))}}),(Ue.type!=="selection"||(0,se.N)(w.scene.getNonDeletedElements(),w.state))&&w.history.resumeRecording(),(k.drag.hasOccurred||Ke||tt)&&((0,l.N1)(w.state)?l.el:l.H)((0,se.eD)(w.scene.getNonDeletedElements(),w.state)),Ue.locked||Ue.type==="freedraw"?w.setState({draggingElement:null,suggestedBindings:[]}):((0,c.z8)(w.canvas),w.setState({draggingElement:null,suggestedBindings:[],activeTool:(0,c.Om)(w.state,{type:"selection"})}))):w.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})}}})}},{key:"maybeSuggestBindingForAll",value:function(k){var w=(0,l.ZB)(k);this.setState({suggestedBindings:w})}},{key:"clearSelection",value:function(k){this.setState(function(w){return{selectedElementIds:{},selectedGroupIds:{},editingGroupId:w.editingGroupId&&k!=null&&(0,E.Nd)(k,w.editingGroupId)?w.editingGroupId:null}}),this.setState({selectedElementIds:{},previousSelectedElementIds:this.state.selectedElementIds})}},{key:"getTextWysiwygSnappedToCenterPosition",value:function(k,w,X,q,Se){var ve=(0,se.OW)(this.scene.getElementsIncludingDeleted().filter(function(Ue){return!(0,p.iB)(Ue)}),k,w);if(ve){var Ie=ve.x+ve.width/2,Ae=ve.y+ve.height/2;if(Math.hypot(k-Ie,w-Ae)<Q.wZ){var Fe=(0,c._i)({sceneX:Ie,sceneY:Ae},X);return{viewportX:Fe.x,viewportY:Fe.y,elementCenterX:Ie,elementCenterY:Ae}}}}},{key:"getCanvasOffsets",value:function(){var k;if((k=this.excalidrawContainerRef)!==null&&k!==void 0&&k.current){var w=this.excalidrawContainerRef.current.getBoundingClientRect();return{offsetLeft:w.left,offsetTop:w.top}}return{offsetLeft:0,offsetTop:0}}},{key:"updateLanguage",value:(a=(0,g.Z)(W().mark(function k(){var w,X=this;return W().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:return w=u.Mj.find(function(Se){return Se.code===X.props.langCode})||u.Fp,q.next=3,(0,u.m0)(w);case 3:this.setAppState({});case 4:case"end":return q.stop()}},k,this)})),function(){return a.apply(this,arguments)})}],[{key:"resetTapTwice",value:function(){Pn=!1}}]),Z}(ne().Component);na.defaultProps={UIOptions:Q.cW};var ra=function(){var e=this;this.canvas=null,this.rc=null,this.unmounted=!1,this.device=mr,this.excalidrawContainerRef=ne().createRef(),this.files={},this.imageCache=new Map,this.lastPointerDown=null,this.lastPointerUp=null,this.contextMenuOpen=!1,this.lastScenePointer=null,this.focusContainer=function(){var a;e.props.autoFocus&&((a=e.excalidrawContainerRef.current)===null||a===void 0||a.focus())},this.getSceneElementsIncludingDeleted=function(){return e.scene.getElementsIncludingDeleted()},this.getSceneElements=function(){return e.scene.getNonDeletedElements()},this.syncActionResult=(0,c.tH)(function(a){if(e.contextMenuOpen=!1,!e.unmounted&&a!==!1){var s=null;if(a.elements&&(a.elements.forEach(function(Ue){var Ke;((Ke=e.state.editingElement)===null||Ke===void 0?void 0:Ke.id)===Ue.id&&e.state.editingElement!==Ue&&(0,p.qP)(Ue)&&(s=Ue)}),e.scene.replaceAllElements(a.elements),a.commitToHistory&&e.history.resumeRecording()),a.files&&(e.files=a.replaceFiles?a.files:ht(ht({},e.files),a.files),e.addNewImagesToImageCache()),a.appState||s){var d,Z,k,w,X,q;a.commitToHistory&&e.history.resumeRecording();var Se=(a==null||(d=a.appState)===null||d===void 0?void 0:d.viewModeEnabled)||!1,ve=(a==null||(Z=a.appState)===null||Z===void 0?void 0:Z.zenModeEnabled)||!1,Ie=(a==null||(k=a.appState)===null||k===void 0?void 0:k.gridSize)||null,Ae=(a==null||(w=a.appState)===null||w===void 0?void 0:w.theme)||Q.C6.LIGHT,Fe=(X=a==null||(q=a.appState)===null||q===void 0?void 0:q.name)!==null&&X!==void 0?X:e.state.name;e.props.viewModeEnabled!==void 0&&(Se=e.props.viewModeEnabled),e.props.zenModeEnabled!==void 0&&(ve=e.props.zenModeEnabled),e.props.gridModeEnabled!==void 0&&(Ie=e.props.gridModeEnabled?Q.k:null),e.props.theme!==void 0&&(Ae=e.props.theme),e.props.name!==void 0&&(Fe=e.props.name),e.setState(function(Ue){var Ke;return Object.assign(a.appState||{},{editingElement:s||((Ke=a.appState)===null||Ke===void 0?void 0:Ke.editingElement)||null,viewModeEnabled:Se,zenModeEnabled:ve,gridSize:Ie,theme:Ae,name:Fe})},function(){a.syncHistory&&e.history.setCurrentState(e.state,e.scene.getElementsIncludingDeleted())})}}}),this.onBlur=(0,c.tH)(function(){zr=!1,e.setState({isBindingEnabled:!0})}),this.onUnload=function(){e.onBlur()},this.disableEvent=function(a){a.preventDefault()},this.onFontLoaded=function(){e.scene.getElementsIncludingDeleted().forEach(function(a){(0,p.iB)(a)&&(0,Mr.bI)(a)}),e.onSceneUpdated()},this.resetHistory=function(){e.history.clear()},this.resetScene=(0,c.tH)(function(a){e.scene.replaceAllElements([]),e.setState(function(s){return ht(ht({},(0,Fr.im)()),{},{isLoading:(a==null||!a.resetLoadingState)&&s.isLoading,theme:e.state.theme})}),e.resetHistory()}),this.initializeScene=(0,g.Z)(W().mark(function a(){var s,d,Z,k,w,X;return W().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:return"launchQueue"in window&&"LaunchParams"in window&&window.launchQueue.setConsumer(function(){var Se=(0,g.Z)(W().mark(function ve(Ie){var Ae,Fe;return W().wrap(function(Ue){for(;;)switch(Ue.prev=Ue.next){case 0:if(Ie.files.length){Ue.next=2;break}return Ue.abrupt("return");case 2:return Ae=Ie.files[0],Ue.next=5,Ae.getFile();case 5:Fe=Ue.sent,e.loadFileToCanvas(new File([Fe],Fe.name||"",{type:Fe.type}),Ae);case 7:case"end":return Ue.stop()}},ve)}));return function(ve){return Se.apply(this,arguments)}}()),e.state.isLoading||e.setState({isLoading:!0}),k=null,q.prev=3,q.next=6,e.props.initialData;case 6:if(q.t0=q.sent,q.t0){q.next=9;break}q.t0=null;case 9:k=q.t0,(w=k)!==null&&w!==void 0&&w.libraryItems&&e.library.updateLibrary({libraryItems:k.libraryItems,merge:!0}).catch(function(Se){console.error(Se)}),q.next=17;break;case 13:q.prev=13,q.t1=q.catch(3),console.error(q.t1),k={appState:{errorMessage:q.t1.message||"Encountered an error during importing or restoring scene data"}};case 17:(X=(0,xa.nu)(k,null,null)).appState=ht(ht({},X.appState),{},{isLibraryOpen:((s=k)===null||s===void 0||(d=s.appState)===null||d===void 0?void 0:d.isLibraryOpen)||e.state.isLibraryOpen,activeTool:X.appState.activeTool.type==="image"?ht(ht({},X.appState.activeTool),{},{type:"selection"}):X.appState.activeTool,isLoading:!1}),(Z=k)!==null&&Z!==void 0&&Z.scrollToContent&&(X.appState=ht(ht({},X.appState),(0,se.W)(X.elements,ht(ht({},X.appState),{},{width:e.state.width,height:e.state.height,offsetTop:e.state.offsetTop,offsetLeft:e.state.offsetLeft}),null))),e.resetHistory(),e.syncActionResult(ht(ht({},X),{},{commitToHistory:!0}));case 22:case"end":return q.stop()}},a,null,[[3,13]])})),this.refreshDeviceState=function(a){var s=a.getBoundingClientRect(),d=s.width,Z=s.height,k=e.props.UIOptions.dockedSidebarBreakpoint!=null?e.props.UIOptions.dockedSidebarBreakpoint:Q.sk;e.device=(0,c.v4)(e.device,{isSmScreen:d<Q.eF,isMobile:d<Q.kV||Z<Q.Yx&&d<Q.sS,canDeviceFitSidebar:d>k})},this.onResize=(0,c.tH)(function(){e.scene.getElementsIncludingDeleted().forEach(function(a){return(0,Mr.bI)(a)}),e.setState({})}),this.onScroll=(0,c.Ds)(function(){var a=e.getCanvasOffsets(),s=a.offsetTop,d=a.offsetLeft;e.setState(function(Z){return Z.offsetLeft===d&&Z.offsetTop===s?null:{offsetTop:s,offsetLeft:d}})},Q.HM),this.onCut=(0,c.tH)(function(a){var s;!((s=e.excalidrawContainerRef.current)===null||s===void 0)&&s.contains(document.activeElement)&&!(0,c.s)(a.target)&&(e.cutAll(),a.preventDefault(),a.stopPropagation())}),this.onCopy=(0,c.tH)(function(a){var s;!((s=e.excalidrawContainerRef.current)===null||s===void 0)&&s.contains(document.activeElement)&&!(0,c.s)(a.target)&&(e.copyAll(),a.preventDefault(),a.stopPropagation())}),this.cutAll=function(){e.actionManager.executeAction(Zi,"keyboard")},this.copyAll=function(){e.actionManager.executeAction(ei,"keyboard")},this.onTapStart=function(a){if(S.Dt||a.preventDefault(),!Pn)return Pn=!0,clearTimeout(Fo),void(Fo=window.setTimeout(na.resetTapTwice,Q.Gj));if(Pn&&a.touches.length===1){var s=(0,i.Z)(a.touches,1)[0];e.handleCanvasDoubleClick({clientX:s.clientX,clientY:s.clientY}),Pn=!1,clearTimeout(Fo)}S.Dt&&a.preventDefault(),a.touches.length===2&&e.setState({selectedElementIds:{}})},this.onTapEnd=function(a){e.resetContextMenuTimer(),a.touches.length>0?e.setState({previousSelectedElementIds:{},selectedElementIds:e.state.previousSelectedElementIds}):hn.pointers.clear()},this.pasteFromClipboard=(0,c.tH)(function(){var a=(0,g.Z)(W().mark(function s(d){var Z,k,w,X,q,Se,ve,Ie,Ae,Fe,Ue;return W().wrap(function(Ke){for(;;)switch(Ke.prev=Ke.next){case 0:if(w=document.activeElement,(Z=e.excalidrawContainerRef.current)===null||Z===void 0?void 0:Z.contains(w)){Ke.next=4;break}return Ke.abrupt("return");case 4:if(X=document.elementFromPoint(uo,fo),!d||X instanceof HTMLCanvasElement&&!(0,c.s)(w)){Ke.next=7;break}return Ke.abrupt("return");case 7:return q=d==null||(k=d.clipboardData)===null||k===void 0?void 0:k.files[0],Ke.next=10,(0,pt.mQ)(d);case 10:if(Se=Ke.sent,!q&&Se.text&&(ve=Se.text.trim()).startsWith("<svg")&&ve.endsWith("</svg>")&&(q=(0,he.Pn)(ve)),!(0,he.Wr)(q)||Se.spreadsheet){Ke.next=19;break}return Ie=(0,c.dE)({clientX:uo,clientY:fo},e.state),Ae=Ie.x,Fe=Ie.y,Ue=e.createImageElement({sceneX:Ae,sceneY:Fe}),e.insertImageElement(Ue,q),e.initializeImageDimensions(Ue),e.setState({selectedElementIds:(0,j.Z)({},Ue.id,!0)}),Ke.abrupt("return");case 19:if(!e.props.onPaste){Ke.next=31;break}return Ke.prev=20,Ke.next=23,e.props.onPaste(Se,d);case 23:if(Ke.t0=Ke.sent,Ke.t0!==!1){Ke.next=26;break}return Ke.abrupt("return");case 26:Ke.next=31;break;case 28:Ke.prev=28,Ke.t1=Ke.catch(20),console.error(Ke.t1);case 31:Se.errorMessage?e.setState({errorMessage:Se.errorMessage}):Se.spreadsheet?e.setState({pasteDialog:{data:Se.spreadsheet,shown:!0}}):Se.elements?e.addElementsFromPasteOrLibrary({elements:Se.elements,files:Se.files||null,position:"cursor"}):Se.text&&e.addTextFromPaste(Se.text),e.setActiveTool({type:"selection"}),d==null||d.preventDefault();case 34:case"end":return Ke.stop()}},s,null,[[20,28]])}));return function(s){return a.apply(this,arguments)}}()),this.addElementsFromPasteOrLibrary=function(a){var s=(0,xa.ET)(a.elements,null),d=(0,p.KP)(s),Z=(0,i.Z)(d,4),k=Z[0],w=Z[1],X=Z[2],q=Z[3],Se=(0,c.TE)(k,X)/2,ve=(0,c.TE)(w,q)/2,Ie=(0,x.Z)(a.position)==="object"?a.position.clientX:a.position==="cursor"?uo:e.state.width/2+e.state.offsetLeft,Ae=(0,x.Z)(a.position)==="object"?a.position.clientY:a.position==="cursor"?fo:e.state.height/2+e.state.offsetTop,Fe=(0,c.dE)({clientX:Ie,clientY:Ae},e.state),Ue=Fe.x-Se,Ke=Fe.y-ve,tt=new Map,qe=(0,ye.wC)(Ue,Ke,e.state.gridSize),Qe=(0,i.Z)(qe,2),$e=Qe[0],rt=Qe[1],jt=new Map,At=s.map(function(wt){var _t=(0,p.Sy)(e.state.editingGroupId,tt,wt,{x:wt.x+$e-k,y:wt.y+rt-w});return jt.set(wt.id,_t.id),_t});(0,Ce.P7)(At,s,jt);var St=[].concat((0,v.Z)(e.scene.getElementsIncludingDeleted()),(0,v.Z)(At));(0,l.ek)(St,s,jt),a.files&&(e.files=ht(ht({},e.files),a.files)),e.scene.replaceAllElements(St),e.history.resumeRecording(),e.setState((0,E.bO)(ht(ht({},e.state),{},{isLibraryOpen:!(!e.state.isLibraryOpen||!e.device.canDeviceFitSidebar)&&e.state.isLibraryMenuDocked,selectedElementIds:At.reduce(function(wt,_t){return(0,m.Xh)(_t)||(wt[_t.id]=!0),wt},{}),selectedGroupIds:{}}),e.scene.getNonDeletedElements()),function(){a.files&&e.addNewImagesToImageCache()}),e.setActiveTool({type:"selection"})},this.setAppState=function(a){e.setState(a)},this.removePointer=function(a){Er&&e.resetContextMenuTimer(),hn.pointers.delete(a.pointerId)},this.toggleLock=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"ui";e.state.activeTool.locked||(0,nr.L)("toolbar","toggleLock","".concat(a," (").concat(e.device.isMobile?"mobile":"desktop",")")),e.setState(function(s){return{activeTool:ht(ht(ht({},s.activeTool),(0,c.Om)(e.state,s.activeTool.locked?{type:"selection"}:s.activeTool)),{},{locked:!s.activeTool.locked})}})},this.togglePenMode=function(){e.setState(function(a){return{penMode:!a.penMode}})},this.toggleZenMode=function(){e.actionManager.executeAction(Ni)},this.scrollToContent=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.scene.getNonDeletedElements();e.setState(ht({},(0,se.W)(Array.isArray(a)?a:[a],e.state,e.canvas)))},this.clearToast=function(){e.setState({toastMessage:null})},this.setToastMessage=function(a){e.setState({toastMessage:a})},this.restoreFileFromShare=(0,g.Z)(W().mark(function a(){var s,d,Z,k;return W().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return w.prev=0,w.next=3,caches.open("web-share-target");case 3:return s=w.sent,w.next=6,s.match("shared-file");case 6:if(!(d=w.sent)){w.next=16;break}return w.next=10,d.blob();case 10:return Z=w.sent,k=new File([Z],Z.name||"",{type:Z.type}),e.loadFileToCanvas(k,null),w.next=15,s.delete("shared-file");case 15:window.history.replaceState(null,Q.iC,window.location.pathname);case 16:w.next=21;break;case 18:w.prev=18,w.t0=w.catch(0),e.setState({errorMessage:w.t0.message});case 21:case"end":return w.stop()}},a,null,[[0,18]])})),this.addFiles=(0,c.tH)(function(a){var s=a.reduce(function(d,Z){return d.set(Z.id,Z),d},new Map);e.files=ht(ht({},e.files),Object.fromEntries(s)),e.scene.getNonDeletedElements().forEach(function(d){(0,m.wi)(d)&&s.has(d.fileId)&&(e.imageCache.delete(d.fileId),(0,Mr.bI)(d))}),e.scene.informMutation(),e.addNewImagesToImageCache()}),this.updateScene=(0,c.tH)(function(a){a.commitToHistory&&e.history.resumeRecording(),a.appState&&e.setState(a.appState),a.elements&&e.scene.replaceAllElements(a.elements),a.collaborators&&e.setState({collaborators:a.collaborators})}),this.onSceneUpdated=function(){e.setState({})},this.updateCurrentCursorPosition=(0,c.tH)(function(a){uo=a.clientX,fo=a.clientY}),this.onKeyDown=(0,c.tH)(function(a){if("Proxy"in window&&(!a.shiftKey&&/^[A-Z]$/.test(a.key)||a.shiftKey&&/^[a-z]$/.test(a.key))&&(a=new Proxy(a,{get:function(Ie,Ae){var Fe=Ie[Ae];return typeof Fe=="function"?Fe.bind(Ie):Ae==="key"?a.shiftKey?Ie.key.toUpperCase():Ie.key.toLowerCase():Fe}})),!((0,c.s)(a.target)&&a.key!==S.tW.ESCAPE||(0,S.Wl)(a.key)&&(0,c._Z)(a.target)||(a.key===S.tW.QUESTION_MARK&&e.setState({showHelpDialog:!0}),e.actionManager.handleKeyDown(a)||e.state.viewModeEnabled))){if(a[S.tW.CTRL_OR_CMD]&&e.state.isBindingEnabled&&e.setState({isBindingEnabled:!1}),a.code===S.aU.ZERO){var s=!e.state.isLibraryOpen;e.setState({isLibraryOpen:s}),s&&(0,nr.L)("library","toggleLibrary (open)","keyboard (".concat(e.device.isMobile?"mobile":"desktop",")"))}if((0,S.Wl)(a.key)){var d=e.state.gridSize&&(a.shiftKey?Q.$e:e.state.gridSize)||(a.shiftKey?Q.Iw:Q.$e),Z=(0,se.eD)(e.scene.getNonDeletedElements(),e.state,!0),k=0,w=0;a.key===S.tW.ARROW_LEFT?k=-d:a.key===S.tW.ARROW_RIGHT?k=d:a.key===S.tW.ARROW_UP?w=-d:a.key===S.tW.ARROW_DOWN&&(w=d),Z.forEach(function(Ie){(0,_.DR)(Ie,{x:Ie.x+k,y:Ie.y+w}),(0,l.Ww)(Ie,{simultaneouslyUpdated:Z})}),e.maybeSuggestBindingForAll(Z),a.preventDefault()}else if(a.key===S.tW.ENTER){var X=(0,se.eD)(e.scene.getNonDeletedElements(),e.state);if(X.length===1&&(0,m.bt)(X[0]))e.state.editingLinearElement&&e.state.editingLinearElement.elementId===X[0].id||(e.history.resumeRecording(),e.setState({editingLinearElement:new T._(X[0],e.scene)}));else if(X.length===1&&!(0,m.bt)(X[0])){var q=X[0];return e.startTextEditing({sceneX:q.x+q.width/2,sceneY:q.y+q.height/2,shouldBind:!0}),void a.preventDefault()}}else if(!a.ctrlKey&&!a.altKey&&!a.metaKey&&e.state.draggingElement===null){var Se=function(Ie){var Ae=Ki.find(function(Fe,Ue){return Ie===(Ue+1).toString()||Fe.key&&(typeof Fe.key=="string"?Fe.key===Ie:Fe.key.includes(Ie))});return(Ae==null?void 0:Ae.value)||null}(a.key);Se?(e.state.activeTool.type!==Se&&(0,nr.L)("toolbar",Se,"keyboard (".concat(e.device.isMobile?"mobile":"desktop",")")),e.setActiveTool({type:Se}),a.stopPropagation()):a.key===S.tW.Q&&(e.toggleLock("keyboard"),a.stopPropagation())}if(a.key===S.tW.SPACE&&hn.pointers.size===0&&(zr=!0,(0,c.KJ)(e.canvas,Q.oc.GRABBING),a.preventDefault()),!(a.key!==S.tW.G&&a.key!==S.tW.S||a.altKey||a[S.tW.CTRL_OR_CMD])){var ve=(0,se.eD)(e.scene.getNonDeletedElements(),e.state);if(e.state.activeTool.type==="selection"&&!ve.length)return;a.key===S.tW.G&&((0,se.$b)(e.state.activeTool.type)||ve.some(function(Ie){return(0,se.$b)(Ie.type)}))&&(e.setState({openPopup:"backgroundColorPicker"}),a.stopPropagation()),a.key===S.tW.S&&(e.setState({openPopup:"strokeColorPicker"}),a.stopPropagation())}}}),this.onKeyUp=(0,c.tH)(function(a){if(a.key===S.tW.SPACE&&(e.state.viewModeEnabled?(0,c.KJ)(e.canvas,Q.oc.GRAB):e.state.activeTool.type==="selection"?(0,c.z8)(e.canvas):((0,c.Uk)(e.canvas,e.state),e.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})),zr=!1),a[S.tW.CTRL_OR_CMD]||e.state.isBindingEnabled||e.setState({isBindingEnabled:!0}),(0,S.Wl)(a.key)){var s=(0,se.eD)(e.scene.getNonDeletedElements(),e.state);(0,l.N1)(e.state)?(0,l.el)(s):(0,l.H)(s),e.setState({suggestedBindings:[]})}}),this.setActiveTool=function(a){var s=(0,c.Om)(e.state,a);zr||(0,c.Uk)(e.canvas,e.state),(0,c.wO)(document.activeElement)&&e.focusContainer(),(0,m.dt)(s.type)||e.setState({suggestedBindings:[]}),s.type==="image"&&e.onImageAction(),s.type!=="selection"?e.setState({activeTool:s,selectedElementIds:{},selectedGroupIds:{},editingGroupId:null}):e.setState({activeTool:s})},this.setCursor=function(a){(0,c.KJ)(e.canvas,a)},this.resetCursor=function(){(0,c.z8)(e.canvas)},this.isTouchScreenMultiTouchGesture=function(){return hn.pointers.size>=2},this.onGestureStart=(0,c.tH)(function(a){a.preventDefault(),e.isTouchScreenMultiTouchGesture()&&e.setState({selectedElementIds:{}}),hn.initialScale=e.state.zoom.value}),this.onGestureChange=(0,c.tH)(function(a){if(a.preventDefault(),!e.isTouchScreenMultiTouchGesture()){var s=hn.initialScale;s&&e.setState(function(d){return ht({},(0,rr.E)({viewportX:uo,viewportY:fo,nextZoom:(0,se.j)(s*a.scale)},d))})}}),this.onGestureEnd=(0,c.tH)(function(a){a.preventDefault(),e.isTouchScreenMultiTouchGesture()&&e.setState({previousSelectedElementIds:{},selectedElementIds:e.state.previousSelectedElementIds}),hn.initialScale=null}),this.startTextEditing=function(a){var s,d,Z,k,w=a.sceneX,X=a.sceneY,q=a.shouldBind,Se=a.insertAtParentCenter,ve=(Se===void 0||Se)&&e.getTextWysiwygSnappedToCenterPosition(w,X,e.state,e.canvas,window.devicePixelRatio),Ie=null,Ae=null,Fe=(0,se.eD)(e.scene.getNonDeletedElements(),e.state);if(Ie=Fe.length===1?(0,p.iB)(Fe[0])?Fe[0]:(0,m.mG)(Fe[0],!1)?(0,Ce.WJ)(Fe[0]):e.getTextElementAtPosition(w,X):e.getTextElementAtPosition(w,X),Ae||Ie||!q&&!ve||(Ae=(0,se.OW)(e.scene.getNonDeletedElements().filter(function(rt){return(0,m.mG)(rt,!1)&&!(0,Ce.WJ)(rt)}),w,X)),!Ie&&Ae){var Ue={fontSize:e.state.currentItemFontSize,fontFamily:e.state.currentItemFontFamily},Ke=(0,Ce.AT)((0,c.mO)(Ue)),tt=(0,Ce.w_)((0,c.mO)(Ue)),qe=Math.max(Ae.height,tt),Qe=Math.max(Ae.width,Ke);(0,_.DR)(Ae,{height:qe,width:Qe}),w=Ae.x+Qe/2,X=Ae.y+qe/2,ve&&(ve=e.getTextWysiwygSnappedToCenterPosition(w,X,e.state,e.canvas,window.devicePixelRatio))}var $e=Ie||(0,p.VL)({x:ve?ve.elementCenterX:w,y:ve?ve.elementCenterY:X,strokeColor:e.state.currentItemStrokeColor,backgroundColor:e.state.currentItemBackgroundColor,fillStyle:e.state.currentItemFillStyle,strokeWidth:e.state.currentItemStrokeWidth,strokeStyle:e.state.currentItemStrokeStyle,roughness:e.state.currentItemRoughness,opacity:e.state.currentItemOpacity,strokeSharpness:e.state.currentItemStrokeSharpness,text:"",fontSize:e.state.currentItemFontSize,fontFamily:e.state.currentItemFontFamily,textAlign:ve?"center":e.state.currentItemTextAlign,verticalAlign:ve?Q.oX.MIDDLE:Q.hs,containerId:(s=(d=Ae)===null||d===void 0?void 0:d.id)!==null&&s!==void 0?s:void 0,groupIds:(Z=(k=Ae)===null||k===void 0?void 0:k.groupIds)!==null&&Z!==void 0?Z:[],locked:!1});e.setState({editingElement:$e}),Ie||(e.scene.replaceAllElements([].concat((0,v.Z)(e.scene.getElementsIncludingDeleted()),[$e])),ve||(0,_.DR)($e,{y:$e.y-$e.baseline/2})),e.setState({editingElement:$e}),e.handleTextWysiwyg($e,{isExistingElement:!!Ie})},this.handleCanvasDoubleClick=function(a){if(!e.state.multiElement&&e.state.activeTool.type==="selection"){var s=(0,se.eD)(e.scene.getNonDeletedElements(),e.state);if(s.length===1&&(0,m.bt)(s[0]))e.state.editingLinearElement&&e.state.editingLinearElement.elementId===s[0].id||(e.history.resumeRecording(),e.setState({editingLinearElement:new T._(s[0],e.scene)}));else{(0,c.z8)(e.canvas);var d=(0,c.dE)(a,e.state),Z=d.x,k=d.y;if((0,E.iJ)(e.state).length>0){var w=e.getElementAtPosition(Z,k),X=w&&(0,E.YS)(w,e.state.selectedGroupIds);if(X)return void e.setState(function(ve){return(0,E.bO)(ht(ht({},ve),{},{editingGroupId:X,selectedElementIds:(0,j.Z)({},w.id,!0),selectedGroupIds:{}}),e.scene.getNonDeletedElements())})}if((0,c.z8)(e.canvas),!a[S.tW.CTRL_OR_CMD]&&!e.state.viewModeEnabled){var q=(0,se.eD)(e.scene.getNonDeletedElements(),e.state);if(q.length===1){var Se=q[0];(0,m.Xo)(Se)&&(Z=Se.x+Se.width/2,k=Se.y+Se.height/2)}e.startTextEditing({sceneX:Z,sceneY:k,shouldBind:!1,insertAtParentCenter:!a.altKey})}}}},this.getElementLinkAtPosition=function(a,s){var d=e.scene.getNonDeletedElements().slice().reverse(),Z=1/0;return d.find(function(k,w){return s&&k.id===s.id&&(Z=w),k.link&&w<=Z&&(0,tr.wq)(k,e.state,[a.x,a.y],e.device.isMobile)})},this.redirectToLink=function(a,s){var d=(0,ye.LW)(e.lastPointerDown.clientX,e.lastPointerDown.clientY,e.lastPointerUp.clientX,e.lastPointerUp.clientY);if(!(!e.hitLinkElement||s&&d>Q.f||!s&&d!==0)){var Z=(0,c.dE)(e.lastPointerDown,e.state),k=(0,tr.wq)(e.hitLinkElement,e.state,[Z.x,Z.y],e.device.isMobile),w=(0,c.dE)(e.lastPointerUp,e.state),X=(0,tr.wq)(e.hitLinkElement,e.state,[w.x,w.y],e.device.isMobile);if(k&&X){var q,Se,ve=e.hitLinkElement.link;if(ve&&(e.props.onLinkOpen&&(Se=(0,c.ag)(Q.Ks.EXCALIDRAW_LINK,a.nativeEvent),e.props.onLinkOpen(e.hitLinkElement,Se)),(q=Se)===null||q===void 0||!q.defaultPrevented)){var Ie=(0,tr.q$)(ve)?"_self":"_blank",Ae=window.open(void 0,Ie);Ae&&(Ae.opener=null,Ae.location=(0,tr.$u)(ve))}}}},this.handleCanvasPointerMove=function(a){e.savePointer(a.clientX,a.clientY,e.state.cursorButton),hn.pointers.has(a.pointerId)&&hn.pointers.set(a.pointerId,{x:a.clientX,y:a.clientY});var s=hn.initialScale;if(hn.pointers.size===2&&hn.lastCenter&&s&&hn.initialDistance){var d=wa(hn.pointers),Z=d.x-hn.lastCenter.x,k=d.y-hn.lastCenter.y;hn.lastCenter=d;var w=ka(Array.from(hn.pointers.values())),X=e.state.activeTool.type==="freedraw"&&e.state.penMode?1:w/hn.initialDistance,q=X?(0,se.j)(s*X):e.state.zoom.value;e.setState(function(en){var Et=(0,rr.E)({viewportX:d.x,viewportY:d.y,nextZoom:q},en);return{zoom:Et.zoom,scrollX:Et.scrollX+Z/q,scrollY:Et.scrollY+k/q,shouldCacheIgnoreZoom:!0}}),e.resetShouldCacheIgnoreZoomDebounced()}else hn.lastCenter=hn.initialDistance=hn.initialScale=null;if(!(zr||Rr||Ci)){var Se=(0,se._4)(po,a.clientX-e.state.offsetLeft,a.clientY-e.state.offsetTop).isOverEither;e.state.draggingElement||e.state.multiElement||(Se?(0,c.z8)(e.canvas):(0,c.Uk)(e.canvas,e.state));var ve=(0,c.dE)(a,e.state),Ie=ve.x,Ae=ve.y;if(e.state.editingLinearElement&&!e.state.editingLinearElement.isDragging){var Fe=T._.handlePointerMove(a,Ie,Ae,e.state.editingLinearElement,e.state.gridSize);Fe!==e.state.editingLinearElement&&e.setState({editingLinearElement:Fe}),Fe.lastUncommittedPoint!=null?e.maybeSuggestBindingAtCursor(ve):e.setState({suggestedBindings:[]})}if((0,m.Lx)(e.state.activeTool.type)){var Ue=e.state.draggingElement;(0,m.Mn)(Ue,!1)?e.maybeSuggestBindingsForLinearElementAtCoords(Ue,[ve],e.state.startBoundElement):e.maybeSuggestBindingAtCursor(ve)}if(e.state.multiElement){var Ke=e.state.multiElement,tt=Ke.x,qe=Ke.y,Qe=Ke.points,$e=Ke.lastCommittedPoint,rt=Qe[Qe.length-1];return(0,c.Uk)(e.canvas,e.state),void(rt===$e?(0,ye.LW)(Ie-tt,Ae-qe,rt[0],rt[1])>=Q.qx?(0,_.DR)(Ke,{points:[].concat((0,v.Z)(Qe),[[Ie-tt,Ae-qe]])}):(0,c.KJ)(e.canvas,Q.oc.POINTER):Qe.length>2&&$e&&(0,ye.LW)(Ie-tt,Ae-qe,$e[0],$e[1])<Q.qx?((0,c.KJ)(e.canvas,Q.oc.POINTER),(0,_.DR)(Ke,{points:Qe.slice(0,-1)})):((0,ye.g6)(Qe,e.state.zoom.value)&&(0,c.KJ)(e.canvas,Q.oc.POINTER),(0,_.DR)(Ke,{points:[].concat((0,v.Z)(Qe.slice(0,-1)),[[Ie-tt,Ae-qe]])})))}if(!(a.buttons||e.state.activeTool.type!=="selection"&&e.state.activeTool.type!=="text"&&e.state.activeTool.type!=="eraser")){var jt=e.scene.getNonDeletedElements(),At=(0,se.eD)(jt,e.state);if(At.length!==1||Se||e.state.editingLinearElement){if(At.length>1&&!Se){var St=(0,p.n2)((0,p.KP)(At),Ie,Ae,e.state.zoom,a.pointerType);if(St)return void(0,c.KJ)(e.canvas,(0,p.Un)({transformHandleType:St}))}}else{var wt=(0,p.jt)(jt,e.state,Ie,Ae,e.state.zoom,a.pointerType);if(wt&&wt.transformHandleType)return void(0,c.KJ)(e.canvas,(0,p.Un)(wt))}var _t=e.getElementAtPosition(ve.x,ve.y);if(e.hitLinkElement=e.getElementLinkAtPosition(ve,_t),!(0,Fr.EN)(e.state))if(e.hitLinkElement&&!e.state.selectedElementIds[e.hitLinkElement.id])(0,c.KJ)(e.canvas,Q.oc.POINTER),(0,tr.Pp)(e.hitLinkElement,e.state);else if((0,tr.lV)(),_t&&_t.link&&e.state.selectedElementIds[_t.id]&&!e.contextMenuOpen&&!e.state.showHyperlinkPopup)e.setState({showHyperlinkPopup:"info"});else if(e.state.activeTool.type==="text")(0,c.KJ)(e.canvas,(0,p.iB)(_t)?Q.oc.TEXT:Q.oc.CROSSHAIR);else if(e.state.viewModeEnabled)(0,c.KJ)(e.canvas,Q.oc.GRAB);else if(Se)(0,c.KJ)(e.canvas,Q.oc.AUTO);else if(e.state.editingLinearElement){var bt=T._.getElement(e.state.editingLinearElement.elementId);bt&&(0,Ua.Qu)(bt,e.state,[ve.x,ve.y])?(0,c.KJ)(e.canvas,Q.oc.MOVE):(0,c.KJ)(e.canvas,Q.oc.AUTO)}else a[S.tW.CTRL_OR_CMD]||!_t&&!e.isHittingCommonBoundingBoxOfSelectedElements(ve,At)||_t!=null&&_t.locked?(0,c.KJ)(e.canvas,Q.oc.AUTO):(0,c.KJ)(e.canvas,Q.oc.MOVE)}}},this.handleEraser=function(a,s,d){for(var Z=function(Ue){Ue.forEach(function(Ke){Ke.locked||(k.push(Ke.id),a.altKey?s.elementIdsToErase[Ke.id]&&s.elementIdsToErase[Ke.id].erase&&(s.elementIdsToErase[Ke.id].erase=!1):s.elementIdsToErase[Ke.id]||(s.elementIdsToErase[Ke.id]={erase:!0,opacity:Ke.opacity}))})},k=[],w=(0,ye.LW)(s.lastCoords.x,s.lastCoords.y,d.x,d.y),X=10/e.state.zoom.value,q=ht({},s.lastCoords),Se=0;Se<=w&&(Z(e.getElementsAtPosition(q.x,q.y)),Se!==w);){var ve=(Se=Math.min(Se+X,w))/w,Ie=(1-ve)*q.x+ve*d.x,Ae=(1-ve)*q.y+ve*d.y;q.x=Ie,q.y=Ae}var Fe=e.scene.getElementsIncludingDeleted().map(function(Ue){var Ke=(0,m.Xh)(Ue)&&k.includes(Ue.containerId)?Ue.containerId:Ue.id;if(k.includes(Ke)){if(!a.altKey)return(0,_.BE)(Ue,{opacity:Q.xY});if(s.elementIdsToErase[Ke]&&s.elementIdsToErase[Ke].erase===!1)return(0,_.BE)(Ue,{opacity:s.elementIdsToErase[Ke].opacity})}return Ue});e.scene.replaceAllElements(Fe),s.lastCoords.x=d.x,s.lastCoords.y=d.y},this.handleTouchMove=function(a){jo=!0},this.handleCanvasPointerDown=function(a){var s,d,Z=document.getSelection();if(Z!=null&&Z.anchorNode&&Z.removeAllRanges(),e.maybeOpenContextMenuAfterPointerDownOnTouchDevices(a),e.maybeCleanupAfterMissingPointerUp(a),e.state.penDetected||a.pointerType!=="pen"||e.setState(function(Ue){return{penMode:!0,penDetected:!0}}),!e.device.isTouchScreen&&["pen","touch"].includes(a.pointerType)&&(e.device=(0,c.v4)(e.device,{isTouchScreen:!0})),!Rr&&(e.lastPointerDown=a,e.setState({lastPointerDownWith:a.pointerType,cursorButton:"down"}),e.savePointer(a.clientX,a.clientY,"down"),e.updateGestureOnPointerDown(a),!e.handleCanvasPanUsingWheelOrSpaceDrag(a)&&!(a.button!==Q.Oh.MAIN&&a.button!==Q.Oh.TOUCH||hn.pointers.size>1))){var k=e.initialPointerDownState(a);if(!e.handleDraggingScrollBar(a,k)&&(e.contextMenuOpen=!1,e.clearSelectionIfNotUsingSelection(),e.updateBindingEnabledOnPointerMove(a),!e.handleSelectionOnPointerDown(a,k)&&(!e.state.penMode||a.pointerType!=="touch"||e.state.activeTool.type==="selection"||e.state.activeTool.type==="text"||e.state.activeTool.type==="image")))if(e.state.activeTool.type!=="text"){if(e.state.activeTool.type==="arrow"||e.state.activeTool.type==="line")e.handleLinearElementOnPointerDown(a,e.state.activeTool.type,k);else if(e.state.activeTool.type==="image"){(0,c.KJ)(e.canvas,Q.oc.CROSSHAIR);var w=e.state.pendingImageElementId&&e.scene.getElement(e.state.pendingImageElementId);if(!w)return;e.setState({draggingElement:w,editingElement:w,pendingImageElementId:null,multiElement:null});var X=(0,c.dE)(a,e.state),q=X.x,Se=X.y;(0,_.DR)(w,{x:q,y:Se})}else e.state.activeTool.type==="freedraw"?e.handleFreeDrawElementOnPointerDown(a,e.state.activeTool.type,k):e.state.activeTool.type==="custom"?(0,c.KJ)(e.canvas,Q.oc.AUTO):e.state.activeTool.type!=="eraser"&&e.createGenericElementOnPointerDown(e.state.activeTool.type,k);(s=e.props)===null||s===void 0||(d=s.onPointerDown)===null||d===void 0||d.call(s,e.state.activeTool,k);var ve=e.onPointerMoveFromPointerDownHandler(k),Ie=e.onPointerUpFromPointerDownHandler(k),Ae=e.onKeyDownFromPointerDownHandler(k),Fe=e.onKeyUpFromPointerDownHandler(k);Zr=Ie,e.state.viewModeEnabled||(window.addEventListener(Q.Ks.POINTER_MOVE,ve),window.addEventListener(Q.Ks.POINTER_UP,Ie),window.addEventListener(Q.Ks.KEYDOWN,Ae),window.addEventListener(Q.Ks.KEYUP,Fe),k.eventListeners.onMove=ve,k.eventListeners.onUp=Ie,k.eventListeners.onKeyUp=Fe,k.eventListeners.onKeyDown=Ae)}else e.handleTextOnPointerDown(a,k)}},this.handleCanvasPointerUp=function(a){if(e.lastPointerUp=a,e.device.isTouchScreen){var s=(0,c.dE)({clientX:a.clientX,clientY:a.clientY},e.state),d=e.getElementAtPosition(s.x,s.y);e.hitLinkElement=e.getElementLinkAtPosition(s,d)}e.hitLinkElement&&!e.state.selectedElementIds[e.hitLinkElement.id]&&e.redirectToLink(a,e.device.isTouchScreen),e.removePointer(a)},this.maybeOpenContextMenuAfterPointerDownOnTouchDevices=function(a){a.pointerType==="touch"&&(jo=!1,Er?jo=!0:Er=window.setTimeout(function(){Er=0,jo||e.handleCanvasContextMenu(a)},Q.nM))},this.resetContextMenuTimer=function(){clearTimeout(Er),Er=0,jo=!1},this.handleCanvasPanUsingWheelOrSpaceDrag=function(a){if(!(hn.pointers.size<=1&&(a.button===Q.Oh.WHEEL||a.button===Q.Oh.MAIN&&zr||e.state.viewModeEnabled))||(0,p.iB)(e.state.editingElement))return!1;Rr=!0,a.preventDefault();var s=!1,d=/Linux/.test(window.navigator.platform);(0,c.KJ)(e.canvas,Q.oc.GRABBING);var Z=a.clientX,k=a.clientY,w=(0,c.$9)(function(q){var Se=Z-q.clientX,ve=k-q.clientY;if(Z=q.clientX,k=q.clientY,d&&!s&&(Math.abs(Se)>1||Math.abs(ve)>1)){s=!0;var Ie=function Ae(Fe){document.body.removeEventListener(Q.Ks.PASTE,Ae),Fe.stopPropagation()};document.body.addEventListener(Q.Ks.PASTE,Ie),window.addEventListener(Q.Ks.POINTER_UP,function Ae(){setTimeout(function(){document.body.removeEventListener(Q.Ks.PASTE,Ie),window.removeEventListener(Q.Ks.POINTER_UP,Ae)},100)})}e.setState({scrollX:e.state.scrollX-Se/e.state.zoom.value,scrollY:e.state.scrollY-ve/e.state.zoom.value})}),X=(0,c.tH)(Zr=function(){Zr=null,Rr=!1,zr||(e.state.viewModeEnabled?(0,c.KJ)(e.canvas,Q.oc.GRAB):(0,c.Uk)(e.canvas,e.state)),e.setState({cursorButton:"up"}),e.savePointer(a.clientX,a.clientY,"up"),window.removeEventListener(Q.Ks.POINTER_MOVE,w),window.removeEventListener(Q.Ks.POINTER_UP,X),window.removeEventListener(Q.Ks.BLUR,X),w.flush()});return window.addEventListener(Q.Ks.BLUR,X),window.addEventListener(Q.Ks.POINTER_MOVE,w,{passive:!0}),window.addEventListener(Q.Ks.POINTER_UP,X),!0},this.clearSelectionIfNotUsingSelection=function(){e.state.activeTool.type!=="selection"&&e.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})},this.handleSelectionOnPointerDown=function(a,s){if(e.state.activeTool.type==="selection"){var d=e.scene.getNonDeletedElements(),Z=(0,se.eD)(d,e.state);if(Z.length!==1||e.state.editingLinearElement)Z.length>1&&(s.resize.handleType=(0,p.n2)((0,p.KP)(Z),s.origin.x,s.origin.y,e.state.zoom,a.pointerType));else{var k=(0,p.jt)(d,e.state,s.origin.x,s.origin.y,e.state.zoom,a.pointerType);k!=null&&(e.setState({resizingElement:k.element}),s.resize.handleType=k.transformHandleType)}if(s.resize.handleType)(0,c.KJ)(e.canvas,(0,p.Un)({transformHandleType:s.resize.handleType})),s.resize.isResizing=!0,s.resize.offset=(0,c.AK)((0,p.xx)(s.resize.handleType,Z,s.origin.x,s.origin.y)),Z.length===1&&(0,m.bt)(Z[0])&&Z[0].points.length===2&&(s.resize.arrowDirection=(0,p.T)(s.resize.handleType,Z[0]));else{var w;if(e.state.editingLinearElement){var X=T._.handlePointerDown(a,e.state,function(ve){return e.setState(ve)},e.history,s.origin);if(X.hitElement&&(s.hit.element=X.hitElement),X.didAddPoint)return!0}if(s.hit.element=(w=s.hit.element)!==null&&w!==void 0?w:e.getElementAtPosition(s.origin.x,s.origin.y),s.hit.element){if((0,tr.wq)(s.hit.element,e.state,[s.origin.x,s.origin.y],e.device.isMobile))return!1;s.hit.hasHitElementInside=(0,Ua.Qu)(s.hit.element,e.state,[s.origin.x,s.origin.y])}s.hit.allHitElements=e.getElementsAtPosition(s.origin.x,s.origin.y);var q=s.hit.element,Se=s.hit.allHitElements.some(function(ve){return e.isASelectedElement(ve)});if(q!==null&&Se||a.shiftKey||s.hit.hasHitCommonBoundingBoxOfSelectedElements||e.clearSelection(q),e.state.editingLinearElement)e.setState({selectedElementIds:(0,j.Z)({},e.state.editingLinearElement.elementId,!0)});else if(q!=null){if(a[S.tW.CTRL_OR_CMD])return e.state.selectedElementIds[q.id]||(s.hit.wasAddedToSelection=!0),e.setState(function(ve){return ht(ht({},(0,E.iE)(ve,q)),{},{previousSelectedElementIds:e.state.selectedElementIds})}),!1;e.state.selectedElementIds[q.id]||(e.state.editingGroupId&&!(0,E.Nd)(q,e.state.editingGroupId)&&e.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null}),Se||s.hit.hasHitCommonBoundingBoxOfSelectedElements||(e.setState(function(ve){return(0,E.bO)(ht(ht({},ve),{},{selectedElementIds:ht(ht({},ve.selectedElementIds),{},(0,j.Z)({},q.id,!0)),showHyperlinkPopup:!!q.link&&"info"}),e.scene.getNonDeletedElements())}),s.hit.wasAddedToSelection=!0))}e.setState({previousSelectedElementIds:e.state.selectedElementIds})}}return!1},this.handleTextOnPointerDown=function(a,s){if(!(0,p.iB)(e.state.editingElement)){var d=s.origin.x,Z=s.origin.y,k=e.getElementAtPosition(d,Z,{includeBoundTextElement:!0});(0,m.Xo)(k)&&(d=k.x+k.width/2,Z=k.y+k.height/2),e.startTextEditing({sceneX:d,sceneY:Z,shouldBind:!1,insertAtParentCenter:!a.altKey}),(0,c.z8)(e.canvas),e.state.activeTool.locked||e.setState({activeTool:(0,c.Om)(e.state,{type:"selection"})})}},this.handleFreeDrawElementOnPointerDown=function(a,s,d){var Z=(0,ye.wC)(d.origin.x,d.origin.y,null),k=(0,i.Z)(Z,2),w=k[0],X=k[1],q=(0,to.KE)({type:s,x:w,y:X,strokeColor:e.state.currentItemStrokeColor,backgroundColor:e.state.currentItemBackgroundColor,fillStyle:e.state.currentItemFillStyle,strokeWidth:e.state.currentItemStrokeWidth,strokeStyle:e.state.currentItemStrokeStyle,roughness:e.state.currentItemRoughness,opacity:e.state.currentItemOpacity,strokeSharpness:e.state.currentItemLinearStrokeSharpness,simulatePressure:a.pressure===.5,locked:!1});e.setState(function(Ie){return{selectedElementIds:ht(ht({},Ie.selectedElementIds),{},(0,j.Z)({},q.id,!1))}});var Se=q.simulatePressure?q.pressures:[].concat((0,v.Z)(q.pressures),[a.pressure]);(0,_.DR)(q,{points:[[0,0]],pressures:Se});var ve=(0,l.Y9)(d.origin,e.scene);e.scene.replaceAllElements([].concat((0,v.Z)(e.scene.getElementsIncludingDeleted()),[q])),e.setState({draggingElement:q,editingElement:q,startBoundElement:ve,suggestedBindings:[]})},this.createImageElement=function(a){var s=a.sceneX,d=a.sceneY,Z=(0,ye.wC)(s,d,e.state.gridSize),k=(0,i.Z)(Z,2),w=k[0],X=k[1];return(0,p.vw)({type:"image",x:w,y:X,strokeColor:e.state.currentItemStrokeColor,backgroundColor:e.state.currentItemBackgroundColor,fillStyle:e.state.currentItemFillStyle,strokeWidth:e.state.currentItemStrokeWidth,strokeStyle:e.state.currentItemStrokeStyle,roughness:e.state.currentItemRoughness,opacity:e.state.currentItemOpacity,strokeSharpness:e.state.currentItemLinearStrokeSharpness,locked:!1})},this.handleLinearElementOnPointerDown=function(a,s,d){if(e.state.multiElement){var Z=e.state.multiElement;if(Z.type==="line"&&(0,ye.g6)(Z.points,e.state.zoom.value))return(0,_.DR)(Z,{lastCommittedPoint:Z.points[Z.points.length-1]}),void e.actionManager.executeAction(Ze);var k=Z.x,w=Z.y,X=Z.lastCommittedPoint;if(Z.points.length>1&&X&&(0,ye.LW)(d.origin.x-k,d.origin.y-w,X[0],X[1])<Q.qx)return void e.actionManager.executeAction(Ze);e.setState(function(jt){return{selectedElementIds:ht(ht({},jt.selectedElementIds),{},(0,j.Z)({},Z.id,!0))}}),(0,_.DR)(Z,{lastCommittedPoint:Z.points[Z.points.length-1]}),(0,c.KJ)(e.canvas,Q.oc.POINTER)}else{var q=(0,ye.wC)(d.origin.x,d.origin.y,e.state.gridSize),Se=(0,i.Z)(q,2),ve=Se[0],Ie=Se[1],Ae=e.state,Fe=Ae.currentItemStartArrowhead,Ue=Ae.currentItemEndArrowhead,Ke=s==="arrow"?[Fe,Ue]:[null,null],tt=(0,i.Z)(Ke,2),qe=tt[0],Qe=tt[1],$e=(0,p.y8)({type:s,x:ve,y:Ie,strokeColor:e.state.currentItemStrokeColor,backgroundColor:e.state.currentItemBackgroundColor,fillStyle:e.state.currentItemFillStyle,strokeWidth:e.state.currentItemStrokeWidth,strokeStyle:e.state.currentItemStrokeStyle,roughness:e.state.currentItemRoughness,opacity:e.state.currentItemOpacity,strokeSharpness:e.state.currentItemLinearStrokeSharpness,startArrowhead:qe,endArrowhead:Qe,locked:!1});e.setState(function(jt){return{selectedElementIds:ht(ht({},jt.selectedElementIds),{},(0,j.Z)({},$e.id,!1))}}),(0,_.DR)($e,{points:[].concat((0,v.Z)($e.points),[[0,0]])});var rt=(0,l.Y9)(d.origin,e.scene);e.scene.replaceAllElements([].concat((0,v.Z)(e.scene.getElementsIncludingDeleted()),[$e])),e.setState({draggingElement:$e,editingElement:$e,startBoundElement:rt,suggestedBindings:[]})}},this.createGenericElementOnPointerDown=function(a,s){var d=(0,ye.wC)(s.origin.x,s.origin.y,e.state.gridSize),Z=(0,i.Z)(d,2),k=Z[0],w=Z[1],X=(0,p.Up)({type:a,x:k,y:w,strokeColor:e.state.currentItemStrokeColor,backgroundColor:e.state.currentItemBackgroundColor,fillStyle:e.state.currentItemFillStyle,strokeWidth:e.state.currentItemStrokeWidth,strokeStyle:e.state.currentItemStrokeStyle,roughness:e.state.currentItemRoughness,opacity:e.state.currentItemOpacity,strokeSharpness:e.state.currentItemStrokeSharpness,locked:!1});X.type==="selection"?e.setState({selectionElement:X,draggingElement:X}):(e.scene.replaceAllElements([].concat((0,v.Z)(e.scene.getElementsIncludingDeleted()),[X])),e.setState({multiElement:null,draggingElement:X,editingElement:X}))},this.restoreReadyToEraseElements=function(a){var s=e.scene.getElementsIncludingDeleted().map(function(d){return a.elementIdsToErase[d.id]&&a.elementIdsToErase[d.id].erase?(0,_.BE)(d,{opacity:a.elementIdsToErase[d.id].opacity}):(0,m.Xh)(d)&&a.elementIdsToErase[d.containerId]&&a.elementIdsToErase[d.containerId].erase?(0,_.BE)(d,{opacity:a.elementIdsToErase[d.containerId].opacity}):d});e.scene.replaceAllElements(s)},this.eraseElements=function(a){var s=e.scene.getElementsIncludingDeleted().map(function(d){return a.elementIdsToErase[d.id]&&a.elementIdsToErase[d.id].erase||(0,m.Xh)(d)&&a.elementIdsToErase[d.containerId]&&a.elementIdsToErase[d.containerId].erase?(0,_.BE)(d,{isDeleted:!0}):d});e.history.resumeRecording(),e.scene.replaceAllElements(s)},this.initializeImage=function(){var a=(0,g.Z)(W().mark(function s(d){var Z,k,w,X,q,Se,ve,Ie,Ae,Fe,Ue,Ke,tt,qe,Qe;return W().wrap(function($e){for(;;)switch($e.prev=$e.next){case 0:if(X=d.imageFile,q=d.imageElement,Se=d.showCursorImagePreview,ve=Se!==void 0&&Se,(0,he.Wr)(X)){$e.next=3;break}throw new Error((0,u.t)("errors.unsupportedFileType"));case 3:if(Ie=X.type,(0,c.KJ)(e.canvas,"wait"),Ie!==Q.LO.svg){$e.next=23;break}return $e.prev=6,$e.t0=he.Pn,$e.t1=Vr.bp,$e.next=11,X.text();case 11:return $e.t2=$e.sent,$e.next=14,(0,$e.t1)($e.t2);case 14:$e.t3=$e.sent,$e.t4=X.name,X=(0,$e.t0)($e.t3,$e.t4),$e.next=23;break;case 19:throw $e.prev=19,$e.t5=$e.catch(6),console.warn($e.t5),new Error((0,u.t)("errors.svgImageInsertError"));case 23:return $e.next=25,((Z=(k=e.props).generateIdForFile)===null||Z===void 0?void 0:Z.call(k,X))||(0,he.tW)(X);case 25:if(Ae=$e.sent){$e.next=29;break}throw console.warn("Couldn't generate file id or the supplied `generateIdForFile` didn't resolve to one."),new Error((0,u.t)("errors.imageInsertError"));case 29:if((Fe=e.files[Ae])!=null&&Fe.dataURL){$e.next=42;break}return $e.prev=31,$e.next=34,(0,he.Tu)(X,{maxWidthOrHeight:Q.h6});case 34:X=$e.sent,$e.next=40;break;case 37:$e.prev=37,$e.t6=$e.catch(31),console.error("error trying to resing image file on insertion",$e.t6);case 40:if(!(X.size>Q.$n)){$e.next=42;break}throw new Error((0,u.t)("errors.fileTooBig",{maxSize:"".concat(Math.trunc(Q.$n/1024/1024),"MB")}));case 42:if(ve&&(Ke=(Ue=e.files[Ae])===null||Ue===void 0?void 0:Ue.dataURL,tt=Ke&&(0,he.KG)(Ke),e.setImagePreviewCursor(tt||X)),$e.t7=(w=e.files[Ae])===null||w===void 0?void 0:w.dataURL,$e.t7){$e.next=48;break}return $e.next=47,(0,he.Sf)(X);case 47:$e.t7=$e.sent;case 48:return qe=$e.t7,Qe=(0,_.DR)(q,{fileId:Ae},!1),$e.abrupt("return",new Promise(function(){var rt=(0,g.Z)(W().mark(function jt(At,St){var wt,_t;return W().wrap(function(bt){for(;;)switch(bt.prev=bt.next){case 0:if(bt.prev=0,e.files=ht(ht({},e.files),{},(0,j.Z)({},Ae,{mimeType:Ie,id:Ae,dataURL:qe,created:Date.now()})),_t=e.imageCache.get(Ae)){bt.next=7;break}return e.addNewImagesToImageCache(),bt.next=7,e.updateImageCache([Qe]);case 7:if(!((_t==null?void 0:_t.image)instanceof Promise)){bt.next=10;break}return bt.next=10,_t.image;case 10:e.state.pendingImageElementId!==Qe.id&&((wt=e.state.draggingElement)===null||wt===void 0?void 0:wt.id)!==Qe.id&&e.initializeImageDimensions(Qe,!0),At(Qe),bt.next=18;break;case 14:bt.prev=14,bt.t0=bt.catch(0),console.error(bt.t0),St(new Error((0,u.t)("errors.imageInsertError")));case 18:return bt.prev=18,ve||(0,c.z8)(e.canvas),bt.finish(18);case 21:case"end":return bt.stop()}},jt,null,[[0,14,18,21]])}));return function(jt,At){return rt.apply(this,arguments)}}()));case 51:case"end":return $e.stop()}},s,null,[[6,19],[31,37]])}));return function(s){return a.apply(this,arguments)}}(),this.insertImageElement=function(){var a=(0,g.Z)(W().mark(function s(d,Z,k){return W().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return e.scene.replaceAllElements([].concat((0,v.Z)(e.scene.getElementsIncludingDeleted()),[d])),w.prev=1,w.next=4,e.initializeImage({imageFile:Z,imageElement:d,showCursorImagePreview:k});case 4:w.next=11;break;case 6:w.prev=6,w.t0=w.catch(1),(0,_.DR)(d,{isDeleted:!0}),e.actionManager.executeAction(Ze),e.setState({errorMessage:w.t0.message||(0,u.t)("errors.imageInsertError")});case 11:case"end":return w.stop()}},s,null,[[1,6]])}));return function(s,d,Z){return a.apply(this,arguments)}}(),this.setImagePreviewCursor=function(){var a=(0,g.Z)(W().mark(function s(d){var Z,k,w,X,q,Se,ve;return W().wrap(function(Ie){for(;;)switch(Ie.prev=Ie.next){case 0:return Z=96,Ie.next=3,(0,he.Tu)(d,{maxWidthOrHeight:Z});case 3:return k=Ie.sent,Ie.next=6,(0,he.Sf)(k);case 6:if(w=Ie.sent,d.type!==Q.LO.svg){Ie.next=20;break}return Ie.next=10,(0,Vr.PK)(w);case 10:X=Ie.sent,q=Math.min(X.height,Z),(Se=q*(X.width/X.height))>Z&&(q=(Se=Z)*(X.height/X.width)),(ve=document.createElement("canvas")).height=q,ve.width=Se,ve.getContext("2d").drawImage(X,0,0,Se,q),w=ve.toDataURL(Q.LO.svg);case 20:e.state.pendingImageElementId&&(0,c.KJ)(e.canvas,"url(".concat(w,") 4 4, auto"));case 21:case"end":return Ie.stop()}},s)}));return function(s){return a.apply(this,arguments)}}(),this.onImageAction=(0,g.Z)(W().mark(function a(){var s,d,Z,k,w,X,q,Se,ve,Ie=arguments;return W().wrap(function(Ae){for(;;)switch(Ae.prev=Ae.next){case 0:return s=Ie.length>0&&Ie[0]!==void 0?Ie[0]:{insertOnCanvasDirectly:!1},d=s.insertOnCanvasDirectly,Ae.prev=1,Z=e.state.width/2+e.state.offsetLeft,k=e.state.height/2+e.state.offsetTop,w=(0,c.dE)({clientX:Z,clientY:k},e.state),X=w.x,q=w.y,Ae.next=7,(0,de.I$)({description:"Image",extensions:["jpg","png","svg","gif"]});case 7:Se=Ae.sent,ve=e.createImageElement({sceneX:X,sceneY:q}),d?(e.insertImageElement(ve,Se),e.initializeImageDimensions(ve),e.setState({selectedElementIds:(0,j.Z)({},ve.id,!0)},function(){e.actionManager.executeAction(Ze)})):e.setState({pendingImageElementId:ve.id},function(){e.insertImageElement(ve,Se,!0)}),Ae.next=16;break;case 12:Ae.prev=12,Ae.t0=Ae.catch(1),Ae.t0.name!=="AbortError"?console.error(Ae.t0):console.warn(Ae.t0),e.setState({pendingImageElementId:null,editingElement:null,activeTool:(0,c.Om)(e.state,{type:"selection"})},function(){e.actionManager.executeAction(Ze)});case 16:case"end":return Ae.stop()}},a,null,[[1,12]])})),this.initializeImageDimensions=function(a){var s,d=arguments.length>1&&arguments[1]!==void 0&&arguments[1],Z=(0,m.wi)(a)&&((s=e.imageCache.get(a.fileId))===null||s===void 0?void 0:s.image);if(!Z||Z instanceof Promise){if(a.width<Q.f/e.state.zoom.value&&a.height<Q.f/e.state.zoom.value){var k=100/e.state.zoom.value;(0,_.DR)(a,{x:a.x-k/2,y:a.y-k/2,width:k,height:k})}}else if(d||a.width<Q.f/e.state.zoom.value&&a.height<Q.f/e.state.zoom.value){var w=Math.max(e.state.height-120,160),X=Math.min(w,Math.floor(.5*e.state.height)/e.state.zoom.value),q=Math.min(Z.naturalHeight,X),Se=q*(Z.naturalWidth/Z.naturalHeight),ve=a.x+a.width/2-Se/2,Ie=a.y+a.height/2-q/2;(0,_.DR)(a,{x:ve,y:Ie,width:Se,height:q})}},this.updateImageCache=function(){var a=(0,g.Z)(W().mark(function s(d){var Z,k,w,X,q,Se,ve,Ie=arguments;return W().wrap(function(Ae){for(;;)switch(Ae.prev=Ae.next){case 0:return Z=Ie.length>1&&Ie[1]!==void 0?Ie[1]:e.files,Ae.next=3,(0,Vr.Xx)({imageCache:e.imageCache,fileIds:d.map(function(Fe){return Fe.fileId}),files:Z});case 3:if(k=Ae.sent,w=k.updatedFiles,X=k.erroredFiles,w.size||X.size){q=Wo(d);try{for(q.s();!(Se=q.n()).done;)ve=Se.value,w.has(ve.fileId)&&(0,Mr.bI)(ve)}catch(Fe){q.e(Fe)}finally{q.f()}}return X.size&&e.scene.replaceAllElements(e.scene.getElementsIncludingDeleted().map(function(Fe){return(0,m.wi)(Fe)&&X.has(Fe.fileId)?(0,_.BE)(Fe,{status:"error"}):Fe})),Ae.abrupt("return",{updatedFiles:w,erroredFiles:X});case 9:case"end":return Ae.stop()}},s)}));return function(s){return a.apply(this,arguments)}}(),this.addNewImagesToImageCache=(0,g.Z)(W().mark(function a(){var s,d,Z,k,w=arguments;return W().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:if(s=w.length>0&&w[0]!==void 0?w[0]:(0,Vr.oA)(e.scene.getNonDeletedElements()),d=w.length>1&&w[1]!==void 0?w[1]:e.files,!(Z=s.filter(function(q){return!q.isDeleted&&!e.imageCache.has(q.fileId)})).length){X.next=9;break}return X.next=6,e.updateImageCache(Z,d);case 6:k=X.sent,k.updatedFiles.size&&e.scene.informMutation();case 9:case"end":return X.stop()}},a)})),this.scheduleImageRefresh=Wa()(function(){e.addNewImagesToImageCache()},Q.LL),this.updateBindingEnabledOnPointerMove=function(a){var s=(0,l.cz)(a);e.state.isBindingEnabled!==s&&e.setState({isBindingEnabled:s})},this.maybeSuggestBindingAtCursor=function(a){var s=(0,l.Y9)(a,e.scene);e.setState({suggestedBindings:s!=null?[s]:[]})},this.maybeSuggestBindingsForLinearElementAtCoords=function(a,s,d){if(s.length){var Z=s.reduce(function(k,w){var X=(0,l.Y9)(w,e.scene);return X==null||(0,l.DK)(a,d==null?void 0:d.id,X)||k.push(X),k},[]);e.setState({suggestedBindings:Z})}},this.handleCanvasRef=function(a){var s,d,Z;a!==null?(e.canvas=a,e.rc=ue.Z.canvas(e.canvas),e.canvas.addEventListener(Q.Ks.WHEEL,e.handleWheel,{passive:!1}),e.canvas.addEventListener(Q.Ks.TOUCH_START,e.onTapStart),e.canvas.addEventListener(Q.Ks.TOUCH_END,e.onTapEnd)):((s=e.canvas)===null||s===void 0||s.removeEventListener(Q.Ks.WHEEL,e.handleWheel),(d=e.canvas)===null||d===void 0||d.removeEventListener(Q.Ks.TOUCH_START,e.onTapStart),(Z=e.canvas)===null||Z===void 0||Z.removeEventListener(Q.Ks.TOUCH_END,e.onTapEnd))},this.handleAppOnDrop=function(){var a=(0,g.Z)(W().mark(function s(d){var Z,k,w,X,q,Se,ve,Ie,Ae,Fe;return W().wrap(function(Ue){for(;;)switch(Ue.prev=Ue.next){case 0:return Ue.next=2,(0,he.bv)(d);case 2:if(Z=Ue.sent,k=Z.file,w=Z.fileHandle,Ue.prev=5,!(0,he.Wr)(k)){Ue.next=26;break}if((k==null?void 0:k.type)!==Q.LO.png&&(k==null?void 0:k.type)!==Q.LO.svg){Ue.next=20;break}return Ue.prev=8,Ue.next=11,(0,he.cT)(k,e.state,e.scene.getElementsIncludingDeleted(),w);case 11:return X=Ue.sent,e.syncActionResult(ht(ht({},X),{},{appState:ht(ht({},X.appState||e.state),{},{isLoading:!1}),replaceFiles:!0,commitToHistory:!0})),Ue.abrupt("return");case 16:if(Ue.prev=16,Ue.t0=Ue.catch(8),Ue.t0.name==="EncodingError"){Ue.next=20;break}throw Ue.t0;case 20:return q=(0,c.dE)(d,e.state),Se=q.x,ve=q.y,Ie=e.createImageElement({sceneX:Se,sceneY:ve}),e.insertImageElement(Ie,k),e.initializeImageDimensions(Ie),e.setState({selectedElementIds:(0,j.Z)({},Ie.id,!0)}),Ue.abrupt("return");case 26:Ue.next=31;break;case 28:return Ue.prev=28,Ue.t1=Ue.catch(5),Ue.abrupt("return",e.setState({isLoading:!1,errorMessage:Ue.t1.message}));case 31:if(!(Ae=d.dataTransfer.getData(Q.LO.excalidrawlib))||typeof Ae!="string"){Ue.next=35;break}try{Fe=(0,he.wf)(Ae),e.addElementsFromPasteOrLibrary({elements:(0,ai.WV)(Fe),position:d,files:null})}catch(Ke){e.setState({errorMessage:Ke.message})}return Ue.abrupt("return");case 35:if(!k){Ue.next=38;break}return Ue.next=38,e.loadFileToCanvas(k,w);case 38:case"end":return Ue.stop()}},s,null,[[5,28],[8,16]])}));return function(s){return a.apply(this,arguments)}}(),this.loadFileToCanvas=function(){var a=(0,g.Z)(W().mark(function s(d,Z){var k;return W().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,(0,he.gY)(d);case 2:return d=w.sent,w.prev=3,w.next=6,(0,he.ZY)(d,e.state,e.scene.getElementsIncludingDeleted(),Z);case 6:if((k=w.sent).type!==Q.LO.excalidraw){w.next=12;break}e.setState({isLoading:!0}),e.syncActionResult(ht(ht({},k.data),{},{appState:ht(ht({},k.data.appState||e.state),{},{isLoading:!1}),replaceFiles:!0,commitToHistory:!0})),w.next=15;break;case 12:if(k.type!==Q.LO.excalidrawlib){w.next=15;break}return w.next=15,e.library.updateLibrary({libraryItems:d,merge:!0,openLibraryMenu:!0}).catch(function(X){console.error(X),e.setState({errorMessage:(0,u.t)("errors.importLibraryError")})});case 15:w.next=20;break;case 17:w.prev=17,w.t0=w.catch(3),e.setState({isLoading:!1,errorMessage:w.t0.message});case 20:case"end":return w.stop()}},s,null,[[3,17]])}));return function(s,d){return a.apply(this,arguments)}}(),this.handleCanvasContextMenu=function(a){if(a.preventDefault(),a.nativeEvent.pointerType!=="touch"&&(a.nativeEvent.pointerType!=="pen"||a.button===Q.Oh.SECONDARY)||e.state.activeTool.type==="selection"){var s=(0,c.dE)(a,e.state),d=s.x,Z=s.y,k=e.getElementAtPosition(d,Z,{preferSelected:!0,includeLockedElements:!0}),w=k?"element":"canvas",X=e.excalidrawContainerRef.current.getBoundingClientRect(),q=X.top,Se=X.left,ve=a.clientX-Se,Ie=a.clientY-q;k&&!e.state.selectedElementIds[k.id]?e.setState((0,E.bO)(ht(ht({},e.state),{},{selectedElementIds:(0,j.Z)({},k.id,!0)}),e.scene.getNonDeletedElements()),function(){e._openContextMenu({top:Ie,left:ve},w)}):e._openContextMenu({top:Ie,left:ve},w)}},this.maybeDragNewGenericElement=function(a,s){var d=e.state.draggingElement,Z=a.lastCoords;if(d)if(d.type==="selection"&&e.state.activeTool.type!=="eraser")(0,p.EJ)(d,e.state.activeTool.type,a.origin.x,a.origin.y,Z.x,Z.y,(0,c.TE)(a.origin.x,Z.x),(0,c.TE)(a.origin.y,Z.y),(0,S.E0)(s),(0,S.OA)(s));else{var k,w=(0,ye.wC)(Z.x,Z.y,e.state.gridSize),X=(0,i.Z)(w,2),q=X[0],Se=X[1],ve=(0,m.wi)(d)&&((k=e.imageCache.get(d.fileId))===null||k===void 0?void 0:k.image),Ie=!ve||ve instanceof Promise?null:ve.width/ve.height;(0,p.EJ)(d,e.state.activeTool.type,a.originInGrid.x,a.originInGrid.y,q,Se,(0,c.TE)(a.originInGrid.x,q),(0,c.TE)(a.originInGrid.y,Se),(0,m.pC)(d)?!(0,S.E0)(s):(0,S.E0)(s),(0,S.OA)(s),Ie),e.maybeSuggestBindingForAll([d])}},this.maybeHandleResize=function(a,s){var d=(0,se.eD)(e.scene.getNonDeletedElements(),e.state),Z=a.resize.handleType;e.setState({isResizing:Z&&Z!=="rotation",isRotating:Z==="rotation"});var k=a.lastCoords,w=(0,ye.wC)(k.x-a.resize.offset.x,k.y-a.resize.offset.y,e.state.gridSize),X=(0,i.Z)(w,2),q=X[0],Se=X[1];return!!(0,p.vY)(a,Z,d,a.resize.arrowDirection,(0,S.Ge)(s),(0,S.OA)(s),d.length===1&&(0,m.pC)(d[0])?!(0,S.E0)(s):(0,S.E0)(s),q,Se,a.resize.center.x,a.resize.center.y)&&(e.maybeSuggestBindingForAll(d),!0)},this._openContextMenu=function(a,s){var d=a.left,Z=a.top;e.state.showHyperlinkPopup&&e.setState({showHyperlinkPopup:!1}),e.contextMenuOpen=!0;var k=Cn.contextItemPredicate(e.actionManager.getElementsIncludingDeleted(),e.actionManager.getAppState()),w=yr.contextItemPredicate(e.actionManager.getElementsIncludingDeleted(),e.actionManager.getAppState()),X=Di.contextItemPredicate(e.actionManager.getElementsIncludingDeleted(),e.actionManager.getAppState()),q=zi.contextItemPredicate(e.actionManager.getElementsIncludingDeleted(),e.actionManager.getAppState()),Se=Wi.contextItemPredicate(e.actionManager.getElementsIncludingDeleted(),e.actionManager.getAppState()),ve=ri.contextItemPredicate(e.actionManager.getElementsIncludingDeleted(),e.actionManager.getAppState()),Ie="separator",Ae=e.scene.getNonDeletedElements(),Fe=(0,se.eD)(e.scene.getNonDeletedElements(),e.state),Ue=[];if(pt.vt&&Ae.length>0&&Ue.push(Po),pt.wx&&Ae.length>0&&Ue.push(Ir),s==="element"&&Ao.contextItemPredicate(Ae,e.state)&&pt.wx&&Ue.push(Ao),s==="canvas"){var Ke=[].concat(Ue,[e.props.gridModeEnabled===void 0&&ti,e.props.zenModeEnabled===void 0&&Ni,e.props.viewModeEnabled===void 0&&ea,Ur]);e.state.viewModeEnabled?yt({options:Ke,top:Z,left:d,actionManager:e.actionManager,appState:e.state,container:e.excalidrawContainerRef.current,elements:Ae}):yt({options:[e.device.isMobile&&navigator.clipboard&&{trackEvent:!1,name:"paste",perform:function(tt,qe){return e.pasteFromClipboard(null),{commitToHistory:!1}},contextItemLabel:"labels.paste"},e.device.isMobile&&navigator.clipboard&&Ie,pt.vt&&Ae.length>0&&Po,pt.wx&&Ae.length>0&&Ir,pt.wx&&Fe.length>0&&Ao,(pt.vt&&Ae.length>0||pt.wx&&Ae.length>0)&&Ie,Oe,Ie,e.props.gridModeEnabled===void 0&&ti,e.props.zenModeEnabled===void 0&&Ni,e.props.viewModeEnabled===void 0&&ea,Ur],top:Z,left:d,actionManager:e.actionManager,appState:e.state,container:e.excalidrawContainerRef.current,elements:Ae})}else s==="element"&&(e.state.viewModeEnabled?yt({options:[navigator.clipboard&&ei].concat(Ue),top:Z,left:d,actionManager:e.actionManager,appState:e.state,container:e.excalidrawContainerRef.current,elements:Ae}):yt({options:[e.device.isMobile&&Zi,e.device.isMobile&&navigator.clipboard&&ei,e.device.isMobile&&navigator.clipboard&&{name:"paste",trackEvent:!1,perform:function(tt,qe){return e.pasteFromClipboard(null),{commitToHistory:!1}},contextItemLabel:"labels.paste"},e.device.isMobile&&Ie].concat(Ue,[Ie,Ft,on,Ie,k&&Cn,Se&&Wi,ve&&ri,w&&yr,(k||w)&&Ie,kn,Ie,L,A,N,z,Ie,X&&Di,q&&zi,(X||q)&&Ie,tr.nz.contextItemPredicate(Ae,e.state)&&tr.nz,ot,ba,Ie,U]),top:Z,left:d,actionManager:e.actionManager,appState:e.state,container:e.excalidrawContainerRef.current,elements:Ae}))},this.handleWheel=(0,c.tH)(function(a){if(a.preventDefault(),!Rr){var s=a.deltaX,d=a.deltaY;if(a.metaKey||a.ctrlKey){var Z=Math.sign(d),k=Math.abs(d),w=d;k>10&&(w=10*Z);var X=e.state.zoom.value-w/100;return X+=Math.log10(Math.max(1,e.state.zoom.value))*-Z*Math.min(1,k/20),e.setState(function(q){return ht(ht({},(0,rr.E)({viewportX:uo,viewportY:fo,nextZoom:(0,se.j)(X)},q)),{},{shouldCacheIgnoreZoom:!0})}),void e.resetShouldCacheIgnoreZoomDebounced()}a.shiftKey?e.setState(function(q){var Se=q.zoom;return{scrollX:q.scrollX-(d||s)/Se.value}}):e.setState(function(q){var Se=q.zoom,ve=q.scrollX,Ie=q.scrollY;return{scrollX:ve-s/Se.value,scrollY:Ie-d/Se.value}})}}),this.savePointer=function(a,s,d){var Z,k;if(a&&s){var w=(0,c.dE)({clientX:a,clientY:s},e.state);isNaN(w.x)||isNaN(w.y),(Z=(k=e.props).onPointerUpdate)===null||Z===void 0||Z.call(k,{pointer:w,button:d,pointersMap:hn.pointers})}},this.resetShouldCacheIgnoreZoomDebounced=(0,c.Ds)(function(){e.unmounted||e.setState({shouldCacheIgnoreZoom:!1})},300),this.updateDOMRect=function(a){var s;if((s=e.excalidrawContainerRef)!==null&&s!==void 0&&s.current){var d=e.excalidrawContainerRef.current.getBoundingClientRect(),Z=d.width,k=d.height,w=d.left,X=d.top,q=e.state,Se=q.width,ve=q.height,Ie=q.offsetTop,Ae=q.offsetLeft;if(Z===Se&&k===ve&&w===Ae&&X===Ie)return void(a&&a());e.setState({width:Z,height:k,offsetLeft:w,offsetTop:X},function(){a&&a()})}},this.refresh=function(){e.setState(ht({},e.getCanvasOffsets()))}};Q.Vi.TEST!=="production"&&Q.Vi.DEVELOPMENT!=="production"||(window.h=window.h||{},Object.defineProperties(window.h,{elements:{configurable:!0,get:function(){var e;return(e=this.app)===null||e===void 0?void 0:e.scene.getElementsIncludingDeleted()},set:function(e){var a;return(a=this.app)===null||a===void 0?void 0:a.scene.replaceAllElements(e)}}}));var Ka=na},5564:function(le,K,o){o.d(K,{z:function(){return ne}});var x=o(2577),i=o(9787),v=o.n(i),g=o(7288),j=o(6340),y=(o(4220),o(6066)),V=o(8211),ie=o(56),I=o(4512),te=function(ue,$){return!ie.Z[$].includes(ue)},pe=function(ue){var $=new Option().style;return $.color=ue,!!$.color},fe=[["1","2","3","4","5"],["q","w","e","r","t"],["a","s","d","f","g"],["z","x","c","v","b"]].flat(),W=function(ue){var $=ue.colors,ge=ue.color,se=ue.onChange,S=ue.onClose,F=ue.label,h=ue.showInput,u=h===void 0||h,O=ue.type,p=ue.elements,_=v().useRef(),E=v().useRef(),T=v().useRef(),l=v().useRef(),m=v().useState(function(){return O==="canvasBackground"?[]:function(C,D){for(var B=[],U=C.filter(function(G){return!G.isDeleted}).sort(function(G,ae){return ae.updated-G.updated}),R=0,b={elementBackground:"backgroundColor",elementStroke:"strokeColor"}[D];R<U.length&&B.length<5;){var M=U[R];B.length<5&&te(M[b],D)&&!B.includes(M[b])&&B.push(M[b]),R++}return B}(p,O)}),c=(0,x.Z)(m,1)[0];v().useEffect(function(){E.current?E.current.focus():l.current?l.current.focus():T.current&&T.current.focus()},[]);var n=function(C){var D=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return C.map(function(B,U){var R=B.replace("#",""),b=D?fe[U+15]:fe[U],M=D?R:(0,V.t)("colors.".concat(R));return(0,I.jsxs)("button",{className:"color-picker-swatch",onClick:function(G){G.currentTarget.focus(),se(B)},title:"".concat(M).concat((0,j.Qm)(B)?"":" (".concat(B,")")," — ").concat(b.toUpperCase()),"aria-label":M,"aria-keyshortcuts":fe[U],style:{color:B},ref:function(G){!D&&G&&U===0&&(_.current=G),G&&B===ge&&(E.current=G)},onFocus:function(){se(B)},children:[(0,j.Qm)(B)?(0,I.jsx)("div",{className:"color-picker-transparent"}):void 0,(0,I.jsx)("span",{className:"color-picker-keybinding",children:b})]},B)})};return(0,I.jsxs)("div",{className:"color-picker color-picker-type-".concat(O),role:"dialog","aria-modal":"true","aria-label":(0,V.t)("labels.colorPicker"),onKeyDown:function(C){var D=!1;if((0,y.Wl)(C.key)){var B,U,R;D=!0;var b,M=document.activeElement,G=(0,V.G3)().rtl,ae=!1,ce=Array.prototype.indexOf.call((B=T.current.querySelector(".color-picker-content--default"))===null||B===void 0?void 0:B.children,M);ce===-1&&(ce=Array.prototype.indexOf.call((b=T.current.querySelector(".color-picker-content--canvas-colors"))===null||b===void 0?void 0:b.children,M))!==-1&&(ae=!0);var J=ae?(U=T.current)===null||U===void 0?void 0:U.querySelector(".color-picker-content--canvas-colors"):(R=T.current)===null||R===void 0?void 0:R.querySelector(".color-picker-content--default");if(J&&ce!==-1){var Y,oe=J.children.length-(u?1:0),xe=C.key===(G?y.tW.ARROW_LEFT:y.tW.ARROW_RIGHT)?(ce+1)%oe:C.key===(G?y.tW.ARROW_RIGHT:y.tW.ARROW_LEFT)?(oe+ce-1)%oe:ae||C.key!==y.tW.ARROW_DOWN?ae||C.key!==y.tW.ARROW_UP?ce:(oe+ce-5)%oe:(ce+5)%oe;(Y=J.children[xe])===null||Y===void 0||Y.focus()}C.preventDefault()}else if(!fe.includes(C.key.toLowerCase())||C[y.tW.CTRL_OR_CMD]||C.altKey||(0,j.s)(C.target))C.key!==y.tW.ESCAPE&&C.key!==y.tW.ENTER||(D=!0,C.preventDefault(),S());else{var L,A,N;D=!0;var z=fe.indexOf(C.key.toLowerCase()),ee=z>=15,ke=ee?T==null||(L=T.current)===null||L===void 0?void 0:L.querySelector(".color-picker-content--canvas-colors"):T==null||(A=T.current)===null||A===void 0?void 0:A.querySelector(".color-picker-content--default"),Oe=ee?z-15:z;ke==null||(N=ke.children[Oe])===null||N===void 0||N.focus(),C.preventDefault()}D&&(C.nativeEvent.stopImmediatePropagation(),C.stopPropagation())},children:[(0,I.jsx)("div",{className:"color-picker-triangle color-picker-triangle-shadow"}),(0,I.jsx)("div",{className:"color-picker-triangle"}),(0,I.jsxs)("div",{className:"color-picker-content",ref:function(C){C&&(T.current=C)},tabIndex:-1,children:[(0,I.jsx)("div",{className:"color-picker-content--default",children:n($)}),!!c.length&&(0,I.jsxs)("div",{className:"color-picker-content--canvas",children:[(0,I.jsx)("span",{className:"color-picker-content--canvas-title",children:(0,V.t)("labels.canvasColors")}),(0,I.jsx)("div",{className:"color-picker-content--canvas-colors",children:n(c,!0)})]}),u&&(0,I.jsx)(re,{color:ge,label:F,onChange:function(C){se(C)},ref:l})]})]})},re=v().forwardRef(function(ue,$){var ge=ue.color,se=ue.onChange,S=ue.label,F=v().useState(ge),h=(0,x.Z)(F,2),u=h[0],O=h[1],p=v().useRef(null);v().useEffect(function(){O(ge)},[ge]),v().useImperativeHandle($,function(){return p.current});var _=v().useCallback(function(E){var T=E.toLowerCase(),l=function(m){return(0,j.Qm)(m)||pe(m)?m:pe("#".concat(m))?"#".concat(m):null}(T);l&&se(l),O(T)},[se]);return(0,I.jsxs)("label",{className:"color-input-container",children:[(0,I.jsx)("div",{className:"color-picker-hash",children:"#"}),(0,I.jsx)("input",{spellCheck:!1,className:"color-picker-input","aria-label":S,onChange:function(E){return _(E.target.value)},value:(u||"").replace(/^#/,""),onBlur:function(){return O(ge)},ref:p})]})}),ne=function(ue){var $=ue.type,ge=ue.color,se=ue.onChange,S=ue.label,F=ue.isActive,h=ue.setActive,u=ue.elements,O=(ue.appState,v().useRef(null));return(0,I.jsxs)("div",{children:[(0,I.jsxs)("div",{className:"color-picker-control-container",children:[(0,I.jsx)("button",{className:"color-picker-label-swatch","aria-label":S,style:ge?{"--swatch-color":ge}:void 0,onClick:function(){return h(!F)},ref:O}),(0,I.jsx)(re,{color:ge,label:S,onChange:function(p){se(p)}})]}),(0,I.jsx)(v().Suspense,{fallback:"",children:F?(0,I.jsx)(g.J,{onCloseRequest:function(p){return p.target!==O.current&&h(!1)},children:(0,I.jsx)(W,{colors:ie.Z[$],color:ge||null,onChange:function(p){se(p)},onClose:function(){var p;h(!1),(p=O.current)===null||p===void 0||p.focus()},label:S,showInput:!1,type:$,elements:u})}):null})]})}},4981:function(le,K,o){var x=o(7169),i=o(2726),v=o(8211),g=o(2939),j=o(1319),y=(o(4678),o(4512)),V=["onConfirm","onCancel","children","confirmText","cancelText","className"];function ie(te,pe){var fe=Object.keys(te);if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(te);pe&&(W=W.filter(function(re){return Object.getOwnPropertyDescriptor(te,re).enumerable})),fe.push.apply(fe,W)}return fe}function I(te){for(var pe=1;pe<arguments.length;pe++){var fe=arguments[pe]!=null?arguments[pe]:{};pe%2?ie(Object(fe),!0).forEach(function(W){(0,x.Z)(te,W,fe[W])}):Object.getOwnPropertyDescriptors?Object.defineProperties(te,Object.getOwnPropertyDescriptors(fe)):ie(Object(fe)).forEach(function(W){Object.defineProperty(te,W,Object.getOwnPropertyDescriptor(fe,W))})}return te}K.Z=function(te){var pe=te.onConfirm,fe=te.onCancel,W=te.children,re=te.confirmText,ne=re===void 0?(0,v.t)("buttons.confirm"):re,ue=te.cancelText,$=ue===void 0?(0,v.t)("buttons.cancel"):ue,ge=te.className,se=ge===void 0?"":ge,S=(0,i.Z)(te,V);return(0,y.jsxs)(g.V,I(I({onCloseRequest:fe,small:!0},S),{},{className:"confirm-dialog ".concat(se),children:[W,(0,y.jsxs)("div",{className:"confirm-dialog-buttons",children:[(0,y.jsx)(j.V,{type:"button",title:$,"aria-label":$,label:$,onClick:fe,className:"confirm-dialog--cancel"}),(0,y.jsx)(j.V,{type:"button",title:ne,"aria-label":ne,label:ne,onClick:pe,className:"confirm-dialog--confirm"})]})]}))}},4041:function(le,K,o){o.d(K,{J:function(){return j}}),o(5422);var x=o(8211),i=o(1319),v=o(8288),g=o(4512),j=function(V){var ie=V.title||(V.value==="dark"?(0,x.t)("buttons.lightMode"):(0,x.t)("buttons.darkMode"));return(0,g.jsx)(i.V,{type:"icon",icon:V.value===v.C6.LIGHT?y.MOON:y.SUN,title:ie,"aria-label":ie,onClick:function(){return V.onChange(V.value===v.C6.DARK?v.C6.LIGHT:v.C6.DARK)},"data-testid":"toggle-dark-mode"})},y={SUN:(0,g.jsx)("svg",{width:"512",height:"512",className:"rtl-mirror",viewBox:"0 0 512 512",children:(0,g.jsx)("path",{fill:"currentColor",d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"})}),MOON:(0,g.jsx)("svg",{width:"512",height:"512",className:"rtl-mirror",viewBox:"0 0 512 512",children:(0,g.jsx)("path",{fill:"currentColor",d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"})})}},2939:function(le,K,o){o.d(K,{V:function(){return ne}});var x=o(2577),i=o(45),v=o(9787),g=o(8211),j=o(9660),y=o(6066),V=(o(196),o(3646)),ie=o(1226),I=(o(8328),o(5156)),te=o(8288),pe=o(4512),fe=function(ue){var $=ue.theme,ge=$===void 0?te.C6.LIGHT:$,se=ue.closeOnClickOutside,S=se===void 0||se,F=W(ge);return F?(0,I.createPortal)((0,pe.jsxs)("div",{className:(0,i.Z)("Modal",ue.className),role:"dialog","aria-modal":"true",onKeyDown:function(h){h.key===y.tW.ESCAPE&&(h.nativeEvent.stopImmediatePropagation(),h.stopPropagation(),ue.onCloseRequest())},"aria-labelledby":ue.labelledBy,children:[(0,pe.jsx)("div",{className:"Modal__background",onClick:S?ue.onCloseRequest:void 0}),(0,pe.jsx)("div",{className:"Modal__content",style:{"--max-width":"".concat(ue.maxWidth,"px")},tabIndex:0,children:ue.children})]}),F):null},W=function(ue){var $=(0,v.useState)(null),ge=(0,x.Z)($,2),se=ge[0],S=ge[1],F=(0,j.Fy)(),h=(0,v.useRef)(F.isMobile);h.current=F.isMobile;var u=(0,j.J0)().container;return(0,v.useLayoutEffect)(function(){se&&se.classList.toggle("excalidraw--mobile",F.isMobile)},[se,F.isMobile]),(0,v.useLayoutEffect)(function(){var O=!(u==null||!u.classList.contains("theme--dark"))||ue==="dark",p=document.createElement("div");return p.classList.add("excalidraw","excalidraw-modal-container"),p.classList.toggle("excalidraw--mobile",h.current),O&&(p.classList.add("theme--dark"),p.classList.add("theme--dark-background-none")),document.body.appendChild(p),S(p),function(){document.body.removeChild(p)}},[u,ue]),se},re=o(6340),ne=function(ue){var $=function(){var p=(0,v.useState)(null),_=(0,x.Z)(p,2),E=_[0],T=_[1];return[E,(0,v.useCallback)(function(l){return T(l)},[])]}(),ge=(0,x.Z)($,2),se=ge[0],S=ge[1],F=(0,v.useState)(document.activeElement),h=(0,x.Z)(F,1)[0],u=(0,j.J0)().id;(0,v.useEffect)(function(){if(se){var p=(0,re.xp)(se);p.length>0&&ue.autofocus!==!1&&(p[1]||p[0]).focus();var _=function(E){if(E.key===y.tW.TAB){var T=(0,re.xp)(se),l=document.activeElement,m=T.findIndex(function(c){return c===l});m===0&&E.shiftKey?(T[T.length-1].focus(),E.preventDefault()):m!==T.length-1||E.shiftKey||(T[0].focus(),E.preventDefault())}};return se.addEventListener("keydown",_),function(){return se.removeEventListener("keydown",_)}}},[se,ue.autofocus]);var O=function(){h.focus(),ue.onCloseRequest()};return(0,pe.jsx)(fe,{className:(0,i.Z)("Dialog",ue.className),labelledBy:"dialog-title",maxWidth:ue.small?550:800,onCloseRequest:O,theme:ue.theme,closeOnClickOutside:ue.closeOnClickOutside,children:(0,pe.jsxs)(ie.W,{ref:S,children:[(0,pe.jsxs)("h2",{id:"".concat(u,"-dialog-title"),className:"Dialog__title",children:[(0,pe.jsx)("span",{className:"Dialog__titleContent",children:ue.title}),(0,pe.jsx)("button",{className:"Modal__close",onClick:O,"aria-label":(0,g.t)("buttons.close"),children:(0,j.Fy)().isMobile?V.op:V.xv})]}),(0,pe.jsx)("div",{className:"Dialog__content",children:ue.children})]})})}},1226:function(le,K,o){o.d(K,{W:function(){return ie}});var x=o(7169),i=(o(1106),o(9787)),v=o.n(i),g=o(45),j=o(4512);function y(I,te){var pe=Object.keys(I);if(Object.getOwnPropertySymbols){var fe=Object.getOwnPropertySymbols(I);te&&(fe=fe.filter(function(W){return Object.getOwnPropertyDescriptor(I,W).enumerable})),pe.push.apply(pe,fe)}return pe}function V(I){for(var te=1;te<arguments.length;te++){var pe=arguments[te]!=null?arguments[te]:{};te%2?y(Object(pe),!0).forEach(function(fe){(0,x.Z)(I,fe,pe[fe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(pe)):y(Object(pe)).forEach(function(fe){Object.defineProperty(I,fe,Object.getOwnPropertyDescriptor(pe,fe))})}return I}var ie=v().forwardRef(function(I,te){var pe=I.children,fe=I.padding,W=I.className,re=I.style;return(0,j.jsx)("div",{className:(0,g.Z)("Island",W),style:V({"--padding":fe},re),ref:te,children:pe})})},5440:function(le,K,o){o.d(K,{z:function(){return y}});var x=o(2577),i=o(8211),v=o(9787),g=o(9101),j=o(4512),y=function(V){var ie=V.delay,I=(0,v.useState)(!!ie),te=(0,x.Z)(I,2),pe=te[0],fe=te[1];return(0,v.useEffect)(function(){if(ie){var W=setTimeout(function(){fe(!1)},ie);return function(){return clearTimeout(W)}}},[ie]),pe?null:(0,j.jsxs)("div",{className:"LoadingMessage",children:[(0,j.jsx)("div",{children:(0,j.jsx)(g.Z,{})}),(0,j.jsx)("div",{className:"LoadingMessage-text",children:(0,i.t)("labels.loadingScene")})]})}},7288:function(le,K,o){o.d(K,{J:function(){return y}});var x=o(9787),i=(o(4301),o(5156)),v=o(6340),g=o(6066),j=o(4512),y=function(V){var ie=V.children,I=V.left,te=V.top,pe=V.onCloseRequest,fe=V.fitInViewport,W=fe!==void 0&&fe,re=V.offsetLeft,ne=re===void 0?0:re,ue=V.offsetTop,$=ue===void 0?0:ue,ge=V.viewportWidth,se=ge===void 0?window.innerWidth:ge,S=V.viewportHeight,F=S===void 0?window.innerHeight:S,h=(0,x.useRef)(null),u=h.current;return(0,x.useEffect)(function(){if(u){var O=function(p){if(p.key===g.tW.TAB){var _=(0,v.xp)(u),E=document.activeElement,T=_.findIndex(function(l){return l===E});T===0&&p.shiftKey?(_[_.length-1].focus(),p.preventDefault(),p.stopImmediatePropagation()):T!==_.length-1||p.shiftKey||(_[0].focus(),p.preventDefault(),p.stopImmediatePropagation())}};return u.addEventListener("keydown",O),function(){return u.removeEventListener("keydown",O)}}},[u]),(0,x.useLayoutEffect)(function(){if(W&&h.current){var O=h.current,p=O.getBoundingClientRect(),_=p.x,E=p.y,T=p.width,l=p.height;_+T-ne>se&&(O.style.left="".concat(se-T,"px")),E+l-$>F&&(O.style.top="".concat(F-l,"px"))}},[W,se,F,ne,$]),(0,x.useEffect)(function(){if(pe){var O=function(p){var _;(_=h.current)!==null&&_!==void 0&&_.contains(p.target)||(0,i.unstable_batchedUpdates)(function(){return pe(p)})};return document.addEventListener("pointerdown",O,!1),function(){return document.removeEventListener("pointerdown",O,!1)}}},[pe]),(0,j.jsx)("div",{className:"popover",style:{top:te,left:I},ref:h,children:ie})}},9101:function(le,K,o){o(371);var x=o(4512);K.Z=function(i){var v=i.size,g=v===void 0?"1em":v,j=i.circleWidth,y=j===void 0?8:j;return(0,x.jsx)("div",{className:"Spinner",children:(0,x.jsx)("svg",{viewBox:"0 0 100 100",style:{width:g,height:g},children:(0,x.jsx)("circle",{cx:"50",cy:"50",r:50-y/2,strokeWidth:y,fill:"none",strokeMiterlimit:"10"})})})}},1319:function(le,K,o){o.d(K,{V:function(){return fe}});var x=o(8950),i=o(2577),v=o(7945),g=o.n(v),j=(o(5422),o(9787)),y=o.n(j),V=o(45),ie=o(9660),I=o(6797),te=o(9101),pe=o(4512),fe=y().forwardRef(function(W,re){var ne=(0,ie.J0)().id,ue=y().useRef(null);y().useImperativeHandle(re,function(){return ue.current});var $="ToolIcon_size_".concat(W.size),ge=(0,j.useState)(!1),se=(0,i.Z)(ge,2),S=se[0],F=se[1],h=(0,j.useRef)(!0),u=function(){var _=(0,x.Z)(g().mark(function E(T){var l,m;return g().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(!(m="onClick"in W&&((l=W.onClick)===null||l===void 0?void 0:l.call(W,T)))||!("then"in m)){c.next=18;break}return c.prev=2,F(!0),c.next=6,m;case 6:c.next=15;break;case 8:if(c.prev=8,c.t0=c.catch(2),c.t0 instanceof I._){c.next=14;break}throw c.t0;case 14:console.warn(c.t0);case 15:return c.prev=15,h.current&&F(!1),c.finish(15);case 18:case"end":return c.stop()}},E,null,[[2,8,15,18]])}));return function(E){return _.apply(this,arguments)}}();(0,j.useEffect)(function(){return function(){h.current=!1}},[]);var O=(0,j.useRef)(null);if(W.type==="button"||W.type==="icon"||W.type==="submit"){var p=W.type==="icon"?"button":W.type;return(0,pe.jsxs)("button",{className:(0,V.Z)("ToolIcon_type_button",$,W.className,W.visible&&!W.hidden?"ToolIcon_type_button--show":"ToolIcon_type_button--hide",{ToolIcon:!W.hidden,"ToolIcon--selected":W.selected,"ToolIcon--plain":W.type==="icon"}),"data-testid":W["data-testid"],hidden:W.hidden,title:W.title,"aria-label":W["aria-label"],type:p,onClick:u,ref:ue,disabled:S||W.isLoading,children:[(W.icon||W.label)&&(0,pe.jsxs)("div",{className:"ToolIcon__icon","aria-hidden":"true",children:[W.icon||W.label,W.keyBindingLabel&&(0,pe.jsx)("span",{className:"ToolIcon__keybinding",children:W.keyBindingLabel}),W.isLoading&&(0,pe.jsx)(te.Z,{})]}),W.showAriaLabel&&(0,pe.jsxs)("div",{className:"ToolIcon__label",children:[W["aria-label"]," ",S&&(0,pe.jsx)(te.Z,{})]}),W.children]})}return(0,pe.jsxs)("label",{className:(0,V.Z)("ToolIcon",W.className),title:W.title,onPointerDown:function(_){var E;O.current=_.pointerType||null,(E=W.onPointerDown)===null||E===void 0||E.call(W,{pointerType:_.pointerType||null})},onPointerUp:function(){requestAnimationFrame(function(){O.current=null})},children:[(0,pe.jsx)("input",{className:"ToolIcon_type_radio ".concat($),type:"radio",name:W.name,"aria-label":W["aria-label"],"aria-keyshortcuts":W["aria-keyshortcuts"],"data-testid":W["data-testid"],id:"".concat(ne,"-").concat(W.id),onChange:function(){var _;(_=W.onChange)===null||_===void 0||_.call(W,{pointerType:O.current})},checked:W.checked,ref:ue}),(0,pe.jsxs)("div",{className:"ToolIcon__icon",children:[W.icon,W.keyBindingLabel&&(0,pe.jsx)("span",{className:"ToolIcon__keybinding",children:W.keyBindingLabel})]})]})});fe.defaultProps={visible:!0,className:"",size:"medium"}},9910:function(le,K,o){o.d(K,{Js:function(){return g},bK:function(){return v},u:function(){return j}}),o(6781);var x=o(9787),i=o(4512),v=function(){var y=document.querySelector(".excalidraw-tooltip");if(y)return y;var V=document.createElement("div");return document.body.appendChild(V),V.classList.add("excalidraw-tooltip"),V},g=function(y,V){var ie,I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"bottom",te=y.getBoundingClientRect(),pe=window.innerWidth,fe=window.innerHeight,W=5,re=V.left+V.width/2-te.width/2;re<0?re=W:re+te.width>=pe&&(re=pe-te.width-W),I==="bottom"?(ie=V.top+V.height+W)+te.height>=fe&&(ie=V.top-te.height-W):(ie=V.top-te.height-W)<0&&(ie=V.top+V.height+W),Object.assign(y.style,{top:"".concat(ie,"px"),left:"".concat(re,"px")})},j=function(y){var V=y.children,ie=y.label,I=y.long,te=I!==void 0&&I,pe=y.style;return(0,x.useEffect)(function(){return function(){return v().classList.remove("excalidraw-tooltip--visible")}},[]),(0,i.jsx)("div",{className:"excalidraw-tooltip-wrapper",onPointerEnter:function(fe){return function(W,re,ne,ue){re.classList.add("excalidraw-tooltip--visible"),re.style.minWidth=ue?"50ch":"10ch",re.style.maxWidth=ue?"50ch":"15ch",re.textContent=ne;var $=W.getBoundingClientRect();g(re,$)}(fe.currentTarget,v(),ie,te)},onPointerLeave:function(){return v().classList.remove("excalidraw-tooltip--visible")},style:pe,children:V})}},3646:function(le,K,o){o.d(K,{$c:function(){return u},BF:function(){return oe},BR:function(){return ne},Ct:function(){return n},DG:function(){return $},DS:function(){return ot},EO:function(){return Te},GI:function(){return O},Gc:function(){return l},HL:function(){return C},IN:function(){return m},KX:function(){return _},Nw:function(){return We},OA:function(){return pt},P7:function(){return Be},RJ:function(){return xe},Rb:function(){return se},ST:function(){return b},TP:function(){return S},Vl:function(){return E},W2:function(){return Ne},W5:function(){return R},WD:function(){return ge},X7:function(){return N},Yw:function(){return p},_I:function(){return ue},a0:function(){return L},a1:function(){return fe},aA:function(){return Le},aT:function(){return Oe},bf:function(){return Q},d9:function(){return J},eQ:function(){return te},fr:function(){return P},gK:function(){return M},gR:function(){return Ge},h0:function(){return ke},il:function(){return ye},j8:function(){return Ze},kK:function(){return et},kM:function(){return Ce},kr:function(){return F},m:function(){return Pe},mh:function(){return B},np:function(){return A},nq:function(){return nt},nu:function(){return ee},o3:function(){return we},oT:function(){return Me},op:function(){return ce},p4:function(){return pe},po:function(){return W},pw:function(){return c},q0:function(){return Je},rC:function(){return G},rn:function(){return it},rr:function(){return _e},t5:function(){return T},tP:function(){return Y},tW:function(){return ft},tY:function(){return z},tn:function(){return me},uD:function(){return U},vG:function(){return h},vo:function(){return he},wr:function(){return ze},xs:function(){return D},xv:function(){return ae},z6:function(){return de},zD:function(){return re}});var x=o(9787),i=o.n(x),v=o(5284),g=o(45),j=o(8288),y=o(4512),V=function(Re){return Re===j.C6.LIGHT?v.orange[4]:v.orange[9]},ie=function(Re){return Re===j.C6.LIGHT?v.white:"#1e1e1e"},I=function(Re){var Xe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:512,xt=typeof Xe=="number"?{width:Xe}:Xe,st=xt.width,Ot=st===void 0?512:st,gt=xt.height,kt=gt===void 0?Ot:gt,It=xt.mirror,Mt=xt.style;return(0,y.jsx)("svg",{"aria-hidden":"true",focusable:"false",role:"img",viewBox:"0 0 ".concat(Ot," ").concat(kt),className:(0,g.Z)({"rtl-mirror":It}),style:Mt,children:typeof Re=="string"?(0,y.jsx)("path",{fill:"currentColor",d:Re}):Re})},te=I((0,y.jsx)("polyline",{fill:"none",stroke:"currentColor",points:"20 6 9 17 4 12"}),{width:24,height:24}),pe=I("M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z",{mirror:!0}),fe=I("M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z",{width:448,height:512}),W=I("M252 54L203 8a28 27 0 00-20-8H28C12 0 0 12 0 27v195c0 15 12 26 28 26h204c15 0 28-11 28-26V73a28 27 0 00-8-19zM130 213c-21 0-37-16-37-36 0-19 16-35 37-35 20 0 37 16 37 35 0 20-17 36-37 36zm56-169v56c0 4-4 6-7 6H44c-4 0-7-2-7-6V42c0-4 3-7 7-7h133l4 2 3 2a7 7 0 012 5z M296 201l87 95-188 205-78 9c-10 1-19-8-18-20l9-84zm141-14l-41-44a31 31 0 00-46 0l-38 41 87 95 38-42c13-14 13-36 0-50z",{width:448,height:512}),re=I("M572.694 292.093L500.27 416.248A63.997 63.997 0 0 1 444.989 448H45.025c-18.523 0-30.064-20.093-20.731-36.093l72.424-124.155A64 64 0 0 1 152 256h399.964c18.523 0 30.064 20.093 20.73 36.093zM152 224h328v-48c0-26.51-21.49-48-48-48H272l-64-64H48C21.49 64 0 85.49 0 112v278.046l69.077-118.418C86.214 242.25 117.989 224 152 224z",{width:576,height:512,mirror:!0}),ne=I("M384 112v352c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h80c0-35.29 28.71-64 64-64s64 28.71 64 64h80c26.51 0 48 21.49 48 48zM192 40c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24m96 114v-20a6 6 0 0 0-6-6H102a6 6 0 0 0-6 6v20a6 6 0 0 0 6 6h180a6 6 0 0 0 6-6z",{width:384,height:512}),ue=I("M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z",{width:448,height:512}),$=I("M204.3 5C104.9 24.4 24.8 104.3 5.2 203.4c-37 187 131.7 326.4 258.8 306.7 41.2-6.4 61.4-54.6 42.5-91.7-23.1-45.4 9.9-98.4 60.9-98.4h79.7c35.8 0 64.8-29.6 64.9-65.3C511.5 97.1 368.1-26.9 204.3 5zM96 320c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm32-128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128-64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"),ge=I("M384 121.9c0-6.3-2.5-12.4-7-16.9L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128zM571 308l-95.7-96.4c-10.1-10.1-27.4-3-27.4 11.3V288h-64v64h64v65.2c0 14.3 17.3 21.4 27.4 11.3L571 332c6.6-6.6 6.6-17.4 0-24zm-379 28v-32c0-8.8 7.2-16 16-16h176V160H248c-13.2 0-24-10.8-24-24V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V352H208c-8.8 0-16-7.2-16-16z",{width:576,height:512,mirror:!0}),se=I((0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("path",{d:"M571 308l-95.7-96.4c-10.1-10.1-27.4-3-27.4 11.3V288h-64v64h64v65.2c0 14.3 17.3 21.4 27.4 11.3L571 332c6.6-6.6 6.6-17.4 0-24zm-187 44v-64 64z"}),(0,y.jsx)("path",{d:"M384 121.941V128H256V0h6.059c6.362 0 12.471 2.53 16.97 7.029l97.941 97.941a24.01 24.01 0 017.03 16.971zM248 160c-13.2 0-24-10.8-24-24V0H24C10.745 0 0 10.745 0 24v464c0 13.255 10.745 24 24 24h336c13.255 0 24-10.745 24-24V160H248zm-135.455 16c26.51 0 48 21.49 48 48s-21.49 48-48 48-48-21.49-48-48 21.491-48 48-48zm208 240h-256l.485-48.485L104.545 328c4.686-4.686 11.799-4.201 16.485.485L160.545 368 264.06 264.485c4.686-4.686 12.284-4.686 16.971 0L320.545 304v112z"})]}),{width:576,height:512,mirror:!0}),S=I("M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z",{width:512,height:512}),F=I("M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",{width:448,height:512}),h=I("M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",{width:448,height:512}),u=I("M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"),O=I("M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"),p=I("M255.545 8c-66.269.119-126.438 26.233-170.86 68.685L48.971 40.971C33.851 25.851 8 36.559 8 57.941V192c0 13.255 10.745 24 24 24h134.059c21.382 0 32.09-25.851 16.971-40.971l-41.75-41.75c30.864-28.899 70.801-44.907 113.23-45.273 92.398-.798 170.283 73.977 169.484 169.442C423.236 348.009 349.816 424 256 424c-41.127 0-79.997-14.678-110.63-41.556-4.743-4.161-11.906-3.908-16.368.553L89.34 422.659c-4.872 4.872-4.631 12.815.482 17.433C133.798 479.813 192.074 504 256 504c136.966 0 247.999-111.033 248-247.998C504.001 119.193 392.354 7.755 255.545 8z",{mirror:!0}),_=I("M256.455 8c66.269.119 126.437 26.233 170.859 68.685l35.715-35.715C478.149 25.851 504 36.559 504 57.941V192c0 13.255-10.745 24-24 24H345.941c-21.382 0-32.09-25.851-16.971-40.971l41.75-41.75c-30.864-28.899-70.801-44.907-113.23-45.273-92.398-.798-170.283 73.977-169.484 169.442C88.764 348.009 162.184 424 256 424c41.127 0 79.997-14.678 110.629-41.556 4.743-4.161 11.906-3.908 16.368.553l39.662 39.662c4.872 4.872 4.631 12.815-.482 17.433C378.202 479.813 319.926 504 256 504 119.034 504 8.001 392.967 8 256.002 7.999 119.193 119.646 7.755 256.455 8z",{mirror:!0}),E=I("M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z",{mirror:!0}),T=(I("M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z",{width:24,height:24}),I("M16 5l-1.42 1.42-1.59-1.59V16h-1.98V4.83L9.42 6.42 8 5l4-4 4 4zm4 5v11c0 1.1-.9 2-2 2H6c-1.11 0-2-.9-2-2V10c0-1.11.89-2 2-2h3v2H6v11h12V10h-3V8h3c1.1 0 2 .89 2 2z",{width:24,height:24}),I((0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("path",{stroke:"currentColor",fill:"currentColor",d:"M40 5.6v6.1l-4.1.7c-8.9 1.4-16.5 6.9-20.6 15C13 32 10.9 43 12.4 43c.4 0 2.4-1.3 4.4-3 5-3.9 12.1-7 18.2-7.7l5-.6v12.8l11.2-11.3L62.5 22 51.2 10.8 40-.5v6.1zm10.2 22.6L44 34.5v-6.8l-6.9.6c-3.9.3-9.8 1.7-13.2 3.1-3.5 1.4-6.5 2.4-6.7 2.2-.9-1 3-7.5 6.4-10.8C28 18.6 34.4 16 40.1 16c3.7 0 3.9-.1 3.9-3.2V9.5l6.2 6.3 6.3 6.2-6.3 6.2z"}),(0,y.jsx)("path",{stroke:"currentColor",fill:"currentColor",d:"M0 36v20h48v-6.2c0-6 0-6.1-2-4.3-1.1 1-2 2.9-2 4.2V52H4V34c0-17.3-.1-18-2-18s-2 .7-2 20z"})]}),{width:64,height:64}),I((0,y.jsx)("path",{stroke:"currentColor",strokeWidth:"40",fill:"currentColor",d:"M148 560a318 318 0 0 0 522 110 316 316 0 0 0 0-450 316 316 0 0 0-450 0c-11 11-21 22-30 34v4h47c25 0 46 21 46 46s-21 45-46 45H90c-13 0-25-6-33-14-9-9-14-20-14-33V156c0-25 20-45 45-45s45 20 45 45v32l1 1a401 401 0 0 1 623 509l212 212a42 42 0 0 1-59 59L698 757A401 401 0 0 1 65 570a42 42 0 0 1 83-10z"}),{width:1024}),i().memo(function(Re){var Xe=Re.theme;return I((0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("path",{d:"M22 9.556C22 8.696 21.303 8 20.444 8H16v8H8v4.444C8 21.304 8.697 22 9.556 22h10.888c.86 0 1.556-.697 1.556-1.556V9.556z",fill:"var(--icon-fill-color)",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,y.jsx)("path",{d:"M16 3.556C16 2.696 15.303 2 14.444 2H3.556C2.696 2 2 2.697 2 3.556v10.888C2 15.304 2.697 16 3.556 16h10.888c.86 0 1.556-.697 1.556-1.556V3.556z",fill:V(Xe),stroke:V(Xe),strokeWidth:"2"})]}),{width:24,mirror:!0})})),l=i().memo(function(Re){var Xe=Re.theme;return I((0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("path",{d:"M16 3.556C16 2.696 15.303 2 14.444 2H3.556C2.696 2 2 2.697 2 3.556v10.888C2 15.304 2.697 16 3.556 16h10.888c.86 0 1.556-.697 1.556-1.556V3.556z",fill:V(Xe),stroke:V(Xe),strokeWidth:"2"}),(0,y.jsx)("path",{d:"M22 9.556C22 8.696 21.303 8 20.444 8H9.556C8.696 8 8 8.697 8 9.556v10.888C8 21.304 8.697 22 9.556 22h10.888c.86 0 1.556-.697 1.556-1.556V9.556z",fill:"var(--icon-fill-color)",stroke:"var(--icon-fill-color)",strokeWidth:"2"})]}),{width:24,mirror:!0})}),m=i().memo(function(Re){var Xe=Re.theme;return I((0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("path",{d:"M13 21a1 1 0 001 1h7a1 1 0 001-1v-7a1 1 0 00-1-1h-3v5h-5v3zM11 3a1 1 0 00-1-1H3a1 1 0 00-1 1v7a1 1 0 001 1h3V6h5V3z",fill:"var(--icon-fill-color)",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,y.jsx)("path",{d:"M18 7.333C18 6.597 17.403 6 16.667 6H7.333C6.597 6 6 6.597 6 7.333v9.334C6 17.403 6.597 18 7.333 18h9.334c.736 0 1.333-.597 1.333-1.333V7.333z",fill:V(Xe),stroke:V(Xe),strokeWidth:"2"})]}),{width:24,mirror:!0})}),c=i().memo(function(Re){var Xe=Re.theme;return I((0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("path",{d:"M18 7.333C18 6.597 17.403 6 16.667 6H7.333C6.597 6 6 6.597 6 7.333v9.334C6 17.403 6.597 18 7.333 18h9.334c.736 0 1.333-.597 1.333-1.333V7.333z",fill:V(Xe),stroke:V(Xe),strokeWidth:"2"}),(0,y.jsx)("path",{d:"M11 3a1 1 0 00-1-1H3a1 1 0 00-1 1v7a1 1 0 001 1h8V3zM22 14a1 1 0 00-1-1h-7a1 1 0 00-1 1v7a1 1 0 001 1h8v-8z",fill:"var(--icon-fill-color)",stroke:"var(--icon-fill-color)",strokeWidth:"2"})]}),{width:24,mirror:!0})}),n=i().memo(function(Re){var Xe=Re.theme;return I((0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("path",{d:"M 2,5 H 22",fill:"var(--icon-fill-color)",stroke:"var(--icon-fill-color)",strokeWidth:"2",strokeLinecap:"round"}),(0,y.jsx)("path",{d:"M 6,7 C 5.446,7 5,7.446 5,8 v 9.999992 c 0,0.554 0.446,1 1,1 h 3.0000001 c 0.554,0 0.9999999,-0.446 0.9999999,-1 V 8 C 10,7.446 9.5540001,7 9.0000001,7 Z m 9,0 c -0.554,0 -1,0.446 -1,1 v 5.999992 c 0,0.554 0.446,1 1,1 h 3 c 0.554,0 1,-0.446 1,-1 V 8 C 19,7.446 18.554,7 18,7 Z",fill:V(Xe),stroke:V(Xe),strokeWidth:"2"})]}),{width:24,mirror:!0})}),C=i().memo(function(Re){var Xe=Re.theme;return I((0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("path",{d:"M 2,19 H 22",fill:"var(--icon-fill-color)",stroke:"var(--icon-fill-color)",strokeWidth:"2",strokeLinecap:"round"}),(0,y.jsx)("path",{d:"m 6,16.999992 c -0.554,0 -1,-0.446 -1,-1 V 6 C 5,5.446 5.446,5 6,5 H 9.0000001 C 9.5540001,5 10,5.446 10,6 v 9.999992 c 0,0.554 -0.4459999,1 -0.9999999,1 z m 9,0 c -0.554,0 -1,-0.446 -1,-1 V 10 c 0,-0.554 0.446,-1 1,-1 h 3 c 0.554,0 1,0.446 1,1 v 5.999992 c 0,0.554 -0.446,1 -1,1 z",fill:V(Xe),stroke:V(Xe),strokeWidth:"2"})]}),{width:24,mirror:!0})}),D=i().memo(function(Re){var Xe=Re.theme;return I((0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("path",{d:"M 5,2 V 22",fill:"var(--icon-fill-color)",stroke:"var(--icon-fill-color)",strokeWidth:"2",strokeLinecap:"round"}),(0,y.jsx)("path",{d:"m 7.000004,5.999996 c 0,-0.554 0.446,-1 1,-1 h 9.999992 c 0.554,0 1,0.446 1,1 v 3.0000001 c 0,0.554 -0.446,0.9999999 -1,0.9999999 H 8.000004 c -0.554,0 -1,-0.4459999 -1,-0.9999999 z m 0,9 c 0,-0.554 0.446,-1 1,-1 h 5.999992 c 0.554,0 1,0.446 1,1 v 3 c 0,0.554 -0.446,1 -1,1 H 8.000004 c -0.554,0 -1,-0.446 -1,-1 z",fill:V(Xe),stroke:V(Xe),strokeWidth:"2"})]}),{width:24})}),B=i().memo(function(Re){var Xe=Re.theme;return I((0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("path",{d:"M 19,2 V 22",fill:"var(--icon-fill-color)",stroke:"var(--icon-fill-color)",strokeWidth:"2",strokeLinecap:"round"}),(0,y.jsx)("path",{d:"m 16.999996,5.999996 c 0,-0.554 -0.446,-1 -1,-1 H 6.000004 c -0.554,0 -1,0.446 -1,1 v 3.0000001 c 0,0.554 0.446,0.9999999 1,0.9999999 h 9.999992 c 0.554,0 1,-0.4459999 1,-0.9999999 z m 0,9 c 0,-0.554 -0.446,-1 -1,-1 h -5.999992 c -0.554,0 -1,0.446 -1,1 v 3 c 0,0.554 0.446,1 1,1 h 5.999992 c 0.554,0 1,-0.446 1,-1 z",fill:V(Xe),stroke:V(Xe),strokeWidth:"2"})]}),{width:24})}),U=i().memo(function(Re){var Xe=Re.theme;return I((0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("path",{d:"M19 5V19M5 5V19",stroke:"var(--icon-fill-color)",strokeWidth:"2",strokeLinecap:"round"}),(0,y.jsx)("path",{d:"M15 9C15.554 9 16 9.446 16 10V14C16 14.554 15.554 15 15 15H9C8.446 15 8 14.554 8 14V10C8 9.446 8.446 9 9 9H15Z",fill:V(Xe),stroke:V(Xe),strokeWidth:"2"})]}),{width:24})}),R=i().memo(function(Re){var Xe=Re.theme;return I((0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("path",{d:"M5 5L19 5M5 19H19",fill:"var(--icon-fill-color)",stroke:"var(--icon-fill-color)",strokeWidth:"2",strokeLinecap:"round"}),(0,y.jsx)("path",{d:"M15 9C15.554 9 16 9.446 16 10V14C16 14.554 15.554 15 15 15H9C8.446 15 8 14.554 8 14V10C8 9.446 8.446 9 9 9H15Z",fill:V(Xe),stroke:V(Xe),strokeWidth:"2"})]}),{width:24})}),b=i().memo(function(Re){var Xe=Re.theme;return I((0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("path",{d:"m 5.000004,16.999996 c 0,0.554 0.446,1 1,1 h 3 c 0.554,0 1,-0.446 1,-1 v -10 c 0,-0.554 -0.446,-1 -1,-1 h -3 c -0.554,0 -1,0.446 -1,1 z m 9,-2 c 0,0.554 0.446,1 1,1 h 3 c 0.554,0 1,-0.446 1,-1 v -6 c 0,-0.554 -0.446,-1 -1,-1 h -3 c -0.554,0 -1,0.446 -1,1 z",fill:V(Xe),stroke:V(Xe),strokeWidth:"2"}),(0,y.jsx)("path",{d:"M 2,12 H 22",fill:"var(--icon-fill-color)",stroke:"var(--icon-fill-color)",strokeWidth:"2",strokeDasharray:"1, 2.8",strokeLinecap:"round"})]}),{width:24,mirror:!0})}),M=i().memo(function(Re){var Xe=Re.theme;return I((0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("path",{d:"M 7 5 C 6.446 5 6 5.446 6 6 L 6 9 C 6 9.554 6.446 10 7 10 L 17 10 C 17.554 10 18 9.554 18 9 L 18 6 C 18 5.446 17.554 5 17 5 L 7 5 z M 9 14 C 8.446 14 8 14.446 8 15 L 8 18 C 8 18.554 8.446 19 9 19 L 15 19 C 15.554 19 16 18.554 16 18 L 16 15 C 16 14.446 15.554 14 15 14 L 9 14 z ",fill:V(Xe),stroke:V(Xe),strokeWidth:"2"}),(0,y.jsx)("path",{d:"M 12,2 V 22",fill:"var(--icon-fill-color)",stroke:"var(--icon-fill-color)",strokeWidth:"2",strokeDasharray:"1, 2.8",strokeLinecap:"round"})]}),{width:24})}),G=I("M192 256c61.9 0 112-50.1 112-112S253.9 32 192 32 80 82.1 80 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C51.6 288 0 339.6 0 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zM480 256c53 0 96-43 96-96s-43-96-96-96-96 43-96 96 43 96 96 96zm48 32h-3.8c-13.9 4.8-28.6 8-44.2 8s-30.3-3.2-44.2-8H432c-20.4 0-39.2 5.9-55.7 15.4 24.4 26.3 39.7 61.2 39.7 99.8v38.4c0 2.2-.5 4.3-.6 6.4H592c26.5 0 48-21.5 48-48 0-61.9-50.1-112-112-112z",{width:640,height:512,mirror:!0}),ae=(I("M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm115.7 272l-176 101c-15.8 8.8-35.7-2.5-35.7-21V152c0-18.4 19.8-29.8 35.7-21l176 107c16.4 9.2 16.4 32.9 0 42z"),I("M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm96 328c0 8.8-7.2 16-16 16H176c-8.8 0-16-7.2-16-16V176c0-8.8 7.2-16 16-16h160c8.8 0 16 7.2 16 16v160z"),I("M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z",{width:352,height:512})),ce=I("M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z",{width:320,height:512,style:{marginLeft:"-0.2rem"},mirror:!0}),J=I("M464 0c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48H176c-26.51 0-48-21.49-48-48V48c0-26.51 21.49-48 48-48h288M176 416c-44.112 0-80-35.888-80-80V128H48c-26.51 0-48 21.49-48 48v288c0 26.51 21.49 48 48 48h288c26.51 0 48-21.49 48-48v-48H176z",{mirror:!0}),Y=(I("M11.553 22.894a.998.998 0 00.894 0s3.037-1.516 5.465-4.097C19.616 16.987 21 14.663 21 12V5a1 1 0 00-.649-.936l-8-3a.998.998 0 00-.702 0l-8 3A1 1 0 003 5v7c0 2.663 1.384 4.987 3.088 6.797 2.428 2.581 5.465 4.097 5.465 4.097zm-1.303-8.481l6.644-6.644a.856.856 0 111.212 1.212l-7.25 7.25a.856.856 0 01-1.212 0l-3.75-3.75a.856.856 0 111.212-1.212l3.144 3.144z",{width:24}),I("M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48zm32-48h224V288l-23.5-23.5c-4.7-4.7-12.3-4.7-17 0L176 352l-39.5-39.5c-4.7-4.7-12.3-4.7-17 0L80 352v64zm48-240c-26.5 0-48 21.5-48 48s21.5 48 48 48 48-21.5 48-48-21.5-48-48-48z",{width:384,height:512})),oe=i().memo(function(Re){var Xe=Re.theme;return I((0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("path",{d:"M25 26H111V111H25",fill:"var(--icon-fill-color)"}),(0,y.jsx)("path",{d:"M25 111C25 80.2068 25 49.4135 25 26M25 26C48.6174 26 72.2348 26 111 26H25ZM25 26C53.3671 26 81.7343 26 111 26H25ZM111 26C111 52.303 111 78.606 111 111V26ZM111 26C111 51.2947 111 76.5893 111 111V26ZM111 111C87.0792 111 63.1585 111 25 111H111ZM111 111C87.4646 111 63.9293 111 25 111H111ZM25 111C25 81.1514 25 51.3028 25 26V111Z",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,y.jsx)("path",{d:"M100 100H160V160H100",fill:"var(--icon-fill-color)"}),(0,y.jsx)("path",{d:"M100 160C100 144.106 100 128.211 100 100M100 100C117.706 100 135.412 100 160 100H100ZM100 100C114.214 100 128.428 100 160 100H100ZM160 100C160 120.184 160 140.369 160 160V100ZM160 100C160 113.219 160 126.437 160 160V100ZM160 160C145.534 160 131.068 160 100 160H160ZM160 160C143.467 160 126.934 160 100 160H160ZM100 160C100 143.661 100 127.321 100 100V160Z",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,y.jsxs)("g",{fill:ie(Xe),stroke:"var(--icon-fill-color)",strokeWidth:"6",children:[(0,y.jsx)("rect",{x:"2.5",y:"2.5",width:"30",height:"30"}),(0,y.jsx)("rect",{x:"2.5",y:"149.5",width:"30",height:"30"}),(0,y.jsx)("rect",{x:"147.5",y:"149.5",width:"30",height:"30"}),(0,y.jsx)("rect",{x:"147.5",y:"2.5",width:"30",height:"30"})]})]}),{width:182,height:182,mirror:!0})}),xe=i().memo(function(Re){var Xe=Re.theme;return I((0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("path",{d:"M25 26H111V111H25",fill:"var(--icon-fill-color)"}),(0,y.jsx)("path",{d:"M25 111C25 80.2068 25 49.4135 25 26M25 26C48.6174 26 72.2348 26 111 26H25ZM25 26C53.3671 26 81.7343 26 111 26H25ZM111 26C111 52.303 111 78.606 111 111V26ZM111 26C111 51.2947 111 76.5893 111 111V26ZM111 111C87.0792 111 63.1585 111 25 111H111ZM111 111C87.4646 111 63.9293 111 25 111H111ZM25 111C25 81.1514 25 51.3028 25 26V111Z",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,y.jsx)("path",{d:"M100 100H160V160H100",fill:"var(--icon-fill-color)"}),(0,y.jsx)("path",{d:"M100 160C100 144.106 100 128.211 100 100M100 100C117.706 100 135.412 100 160 100H100ZM100 100C114.214 100 128.428 100 160 100H100ZM160 100C160 120.184 160 140.369 160 160V100ZM160 100C160 113.219 160 126.437 160 160V100ZM160 160C145.534 160 131.068 160 100 160H160ZM160 160C143.467 160 126.934 160 100 160H160ZM100 160C100 143.661 100 127.321 100 100V160Z",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,y.jsxs)("g",{fill:ie(Xe),stroke:"var(--icon-fill-color)",strokeWidth:"6",children:[(0,y.jsx)("rect",{x:"2.5",y:"2.5",width:"30",height:"30"}),(0,y.jsx)("rect",{x:"78.5",y:"149.5",width:"30",height:"30"}),(0,y.jsx)("rect",{x:"147.5",y:"149.5",width:"30",height:"30"}),(0,y.jsx)("rect",{x:"147.5",y:"78.5",width:"30",height:"30"}),(0,y.jsx)("rect",{x:"105.5",y:"2.5",width:"30",height:"30"}),(0,y.jsx)("rect",{x:"2.5",y:"102.5",width:"30",height:"30"})]})]}),{width:182,height:182,mirror:!0})}),L=i().memo(function(Re){return Re.theme,I((0,y.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.101 16H28.0934L36 8.95989V4H33.5779L20.101 16ZM30.5704 4L17.0935 16H9.10101L22.5779 4H30.5704ZM19.5704 4L6.09349 16H4V10.7475L11.5779 4H19.5704ZM8.57036 4H4V8.06952L8.57036 4ZM36 11.6378L31.101 16H36V11.6378ZM2 2V18H38V2H2Z",fill:"var(--icon-fill-color)"}),{width:40,height:20})}),A=i().memo(function(Re){return Re.theme,I((0,y.jsxs)("g",{fill:"var(--icon-fill-color)",fillRule:"evenodd",clipRule:"evenodd",children:[(0,y.jsx)("path",{d:"M20.101 16H28.0934L36 8.95989V4H33.5779L20.101 16ZM30.5704 4L17.0935 16H9.10101L22.5779 4H30.5704ZM19.5704 4L6.09349 16H4V10.7475L11.5779 4H19.5704ZM8.57036 4H4V8.06952L8.57036 4ZM36 11.6378L31.101 16H36V11.6378ZM2 2V18H38V2H2Z"}),(0,y.jsx)("path",{d:"M14.0001 18L3.00006 4.00002L4.5727 2.76438L15.5727 16.7644L14.0001 18ZM25.0001 18L14.0001 4.00002L15.5727 2.76438L26.5727 16.7644L25.0001 18ZM36.0001 18L25.0001 4.00002L26.5727 2.76438L37.5727 16.7644L36.0001 18Z"})]}),{width:40,height:20})}),N=i().memo(function(Re){return Re.theme,I((0,y.jsx)("path",{d:"M2 2H38V18H2V2Z",fill:"var(--icon-fill-color)"}),{width:40,height:20})}),z=i().memo(function(Re){Re.theme;var Xe=Re.strokeWidth;return I((0,y.jsx)("path",{d:"M6 10H32",stroke:"var(--icon-fill-color)",strokeWidth:Xe,strokeLinecap:"round",fill:"none"}),{width:40,height:20})}),ee=i().memo(function(Re){return Re.theme,I((0,y.jsx)("path",{d:"M6 10H34",stroke:"var(--icon-fill-color)",strokeWidth:2,fill:"none",strokeLinecap:"round"}),{width:40,height:20})}),ke=i().memo(function(Re){return Re.theme,I((0,y.jsx)("path",{d:"M6 10H34",stroke:"var(--icon-fill-color)",strokeWidth:2.5,strokeDasharray:"10, 8",fill:"none",strokeLinecap:"round"}),{width:40,height:20})}),Oe=i().memo(function(Re){return Re.theme,I((0,y.jsx)("path",{d:"M6 10H36",stroke:"var(--icon-fill-color)",strokeWidth:2.5,strokeDasharray:"2, 4.5",fill:"none",strokeLinecap:"round"}),{width:40,height:20})}),Q=i().memo(function(Re){return Re.theme,I((0,y.jsx)("path",{d:"M3.00098 16.1691C6.28774 13.9744 19.6399 2.8905 22.7215 3.00082C25.8041 3.11113 19.1158 15.5488 21.4962 16.8309C23.8757 18.1131 34.4155 11.7148 37.0001 10.6919",stroke:"var(--icon-fill-color)",strokeWidth:2,strokeLinecap:"round",fill:"none"}),{width:40,height:20,mirror:!0})}),Ce=i().memo(function(Re){return Re.theme,I((0,y.jsx)("path",{d:"M3 17C6.68158 14.8752 16.1296 9.09849 22.0648 6.54922C28 3.99995 22.2896 13.3209 25 14C27.7104 14.6791 36.3757 9.6471 36.3757 9.6471M6.40706 15C13 11.1918 20.0468 1.51045 23.0234 3.0052C26 4.49995 20.457 12.8659 22.7285 16.4329C25 20 36.3757 13 36.3757 13",stroke:"var(--icon-fill-color)",strokeWidth:2,strokeLinecap:"round",fill:"none"}),{width:40,height:20,mirror:!0})}),Ne=i().memo(function(Re){return Re.theme,I((0,y.jsx)("path",{d:"M3 15.6468C6.93692 13.5378 22.5544 2.81528 26.6206 3.00242C30.6877 3.18956 25.6708 15.3346 27.4009 16.7705C29.1309 18.2055 35.4001 12.4762 37 11.6177M3.97143 10.4917C6.61158 9.24563 16.3706 2.61886 19.8104 3.01724C23.2522 3.41472 22.0773 12.2013 24.6181 12.8783C27.1598 13.5536 33.3179 8.04068 35.0571 7.07244",stroke:"var(--icon-fill-color)",strokeWidth:2,strokeLinecap:"round",fill:"none"}),{width:40,height:20,mirror:!0})}),ze=i().memo(function(Re){return Re.theme,I((0,y.jsx)("path",{d:"M10 17L10 5L35 5",stroke:"var(--icon-fill-color)",strokeWidth:2,strokeLinecap:"round",fill:"none"}),{width:40,height:20,mirror:!0})}),ot=i().memo(function(Re){return Re.theme,I((0,y.jsx)("path",{d:"M10 17V15C10 8 13 5 21 5L33.5 5",stroke:"var(--icon-fill-color)",strokeWidth:2,strokeLinecap:"round",fill:"none"}),{width:40,height:20,mirror:!0})}),P=i().memo(function(Re){return Re.theme,I((0,y.jsx)("path",{d:"M6 10H34",stroke:"var(--icon-fill-color)",strokeWidth:2,fill:"none"}),{width:40,height:20})}),ye=i().memo(function(Re){Re.theme;var Xe=Re.flip,xt=Xe!==void 0&&Xe;return I((0,y.jsxs)("g",{transform:xt?"translate(40, 0) scale(-1, 1)":"",stroke:"var(--icon-fill-color)",strokeWidth:2,fill:"none",children:[(0,y.jsx)("path",{d:"M34 10H6M34 10L27 5M34 10L27 15"}),(0,y.jsx)("path",{d:"M27.5 5L34.5 10L27.5 15"})]}),{width:40,height:20})}),me=i().memo(function(Re){Re.theme;var Xe=Re.flip,xt=Xe!==void 0&&Xe;return I((0,y.jsxs)("g",{stroke:"var(--icon-fill-color)",fill:"var(--icon-fill-color)",transform:xt?"translate(40, 0) scale(-1, 1)":"",children:[(0,y.jsx)("path",{d:"M32 10L6 10",strokeWidth:2}),(0,y.jsx)("circle",{r:"4",transform:"matrix(-1 0 0 1 30 10)"})]}),{width:40,height:20})}),Pe=i().memo(function(Re){Re.theme;var Xe=Re.flip,xt=Xe!==void 0&&Xe;return I((0,y.jsx)("g",{transform:xt?"translate(40, 0) scale(-1, 1)":"",children:(0,y.jsx)("path",{d:"M34 10H5.99996M34 10L34 5M34 10L34 15",stroke:"var(--icon-fill-color)",strokeWidth:2,fill:"none"})}),{width:40,height:20})}),Ze=i().memo(function(Re){Re.theme;var Xe=Re.flip,xt=Xe!==void 0&&Xe;return I((0,y.jsxs)("g",{stroke:"var(--icon-fill-color)",fill:"var(--icon-fill-color)",transform:xt?"translate(40, 0) scale(-1, 1)":"",children:[(0,y.jsx)("path",{d:"M32 10L6 10",strokeWidth:2}),(0,y.jsx)("path",{d:"M27.5 5.5L34.5 10L27.5 14.5L27.5 5.5"})]}),{width:40,height:20})}),Je=i().memo(function(Re){return Re.theme,I((0,y.jsx)("path",{fill:"var(--icon-fill-color)",d:"M 0 69.092 L 0 55.03 A 124.24 124.24 0 0 0 4.706 57.02 Q 6.826 57.863 8.708 58.5 A 53.466 53.466 0 0 0 12.231 59.571 Q 17.236 60.889 21.387 60.889 A 20.909 20.909 0 0 0 24.265 60.704 Q 25.719 60.502 26.903 60.077 A 8.649 8.649 0 0 0 29.028 58.985 Q 31.689 57.08 31.689 53.321 Q 31.689 51.221 30.518 49.585 A 10.126 10.126 0 0 0 29.282 48.177 Q 28.352 47.287 27.075 46.436 A 23.719 23.719 0 0 0 25.752 45.627 Q 23.774 44.492 20.176 42.735 A 254.44 254.44 0 0 0 17.822 41.602 Q 11.503 38.631 8.236 35.888 A 19.742 19.742 0 0 1 8.008 35.694 A 22.18 22.18 0 0 1 2.783 29.102 Q 0.83 25.342 0.83 20.313 A 22.471 22.471 0 0 1 1.733 13.778 A 17.283 17.283 0 0 1 7.251 5.42 A 21.486 21.486 0 0 1 15.177 1.272 Q 18.361 0.338 22.166 0.09 A 43.573 43.573 0 0 1 25 0 A 42.399 42.399 0 0 1 34.349 1.01 A 39.075 39.075 0 0 1 35.62 1.319 A 67.407 67.407 0 0 1 42.108 3.382 A 83.357 83.357 0 0 1 46.191 5.03 L 41.309 16.797 Q 35.596 14.453 31.86 13.526 A 30.762 30.762 0 0 0 25.417 12.612 A 28.337 28.337 0 0 0 24.512 12.598 A 14.846 14.846 0 0 0 22.022 12.793 Q 19.498 13.224 17.92 14.6 Q 15.625 16.602 15.625 19.824 Q 15.625 21.826 16.553 23.316 Q 17.48 24.805 19.507 26.197 A 18.343 18.343 0 0 0 20.659 26.912 Q 22.596 28.035 26.516 29.953 A 299.99 299.99 0 0 0 29.102 31.201 Q 37.91 35.412 41.841 39.642 A 16.553 16.553 0 0 1 42.822 40.796 A 17.675 17.675 0 0 1 46.301 49.233 A 23.517 23.517 0 0 1 46.533 52.588 A 21.581 21.581 0 0 1 45.471 59.515 A 17.733 17.733 0 0 1 39.575 67.823 Q 33.745 72.486 24.094 73.243 A 49.683 49.683 0 0 1 20.215 73.389 A 51.712 51.712 0 0 1 9.448 72.315 A 40.672 40.672 0 0 1 0 69.092 Z"}),{width:47,height:77})}),nt=i().memo(function(Re){return Re.theme,I((0,y.jsx)("path",{fill:"var(--icon-fill-color)",d:"M 44.092 71.387 L 30.225 71.387 L 13.037 15.381 L 12.598 15.381 A 1505.093 1505.093 0 0 1 12.959 22.313 Q 13.426 31.715 13.508 36.4 A 102.991 102.991 0 0 1 13.525 38.184 L 13.525 71.387 L 0 71.387 L 0 0 L 20.605 0 L 37.5 54.59 L 37.793 54.59 L 55.713 0 L 76.318 0 L 76.318 71.387 L 62.207 71.387 L 62.207 37.598 Q 62.207 35.205 62.28 32.08 A 160.703 160.703 0 0 1 62.326 30.544 Q 62.452 26.754 62.866 17.168 A 5390.536 5390.536 0 0 1 62.939 15.479 L 62.5 15.479 L 44.092 71.387 Z"}),{width:77,height:75})}),ft=i().memo(function(Re){return Re.theme,I((0,y.jsx)("path",{fill:"var(--icon-fill-color)",d:"M 44.092 71.387 L 0 71.387 L 0 0 L 15.137 0 L 15.137 58.887 L 44.092 58.887 L 44.092 71.387 Z"}),{width:45,height:75})}),pt=i().memo(function(Re){return Re.theme,I((0,y.jsx)("path",{fill:"var(--icon-fill-color)",d:"M 42.578 35.4 L 66.699 71.387 L 49.414 71.387 L 32.813 44.385 L 16.211 71.387 L 0 71.387 L 23.682 34.57 L 1.514 0 L 18.213 0 L 33.594 25.684 L 48.682 0 L 64.99 0 L 42.578 35.4 Z M 119.775 71.387 L 75.684 71.387 L 75.684 0 L 90.82 0 L 90.82 58.887 L 119.775 58.887 L 119.775 71.387 Z"}),{width:120,height:75})}),et=i().memo(function(Re){return Re.theme,I((0,y.jsx)("path",{fill:"var(--icon-fill-color)",d:"M290.74 93.24l128.02 128.02-277.99 277.99-114.14 12.6C11.35 513.54-1.56 500.62.14 485.34l12.7-114.22 277.9-277.88zm207.2-19.06l-60.11-60.11c-18.75-18.75-49.16-18.75-67.91 0l-56.55 56.55 128.02 128.02 56.55-56.55c18.75-18.76 18.75-49.16 0-67.91z"}),{width:448,height:512})}),he=i().memo(function(Re){return Re.theme,I((0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("path",{fill:"var(--icon-fill-color)",d:"M 63.818 71.68 L 54.492 71.68 L 45.898 49.561 L 17.578 49.561 L 9.082 71.68 L 0 71.68 L 27.881 0 L 35.986 0 L 63.818 71.68 Z M 20.605 41.602 L 43.213 41.602 L 35.205 19.971 L 31.787 9.277 Q 30.322 15.137 28.711 19.971 L 20.605 41.602 Z"}),(0,y.jsx)("path",{fill:"var(--icon-fill-color)",d:"M 68.994 71.68 L 52.686 71.68 L 47.51 54.688 L 21.484 54.688 L 16.309 71.68 L 0 71.68 L 25.195 0 L 43.701 0 L 68.994 71.68 Z M 25.293 41.992 L 43.896 41.992 A 27590.463 27590.463 0 0 1 42.2 36.532 Q 36.965 19.676 35.937 16.273 A 120.932 120.932 0 0 1 35.815 15.869 A 131.65 131.65 0 0 1 35.396 14.435 Q 34.951 12.879 34.675 11.741 A 34.866 34.866 0 0 1 34.521 11.084 A 141.762 141.762 0 0 1 33.706 14.075 Q 31.482 21.957 25.293 41.992 Z"})]}),{width:70,height:78})}),de=i().memo(function(Re){return Re.theme,I((0,y.jsx)(y.Fragment,{children:(0,y.jsx)("path",{fill:"var(--icon-fill-color)",d:"M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"})}),{width:640,height:512})}),_e=i().memo(function(Re){return Re.theme,I((0,y.jsx)("path",{d:"M12.83 352h262.34A12.82 12.82 0 00288 339.17v-38.34A12.82 12.82 0 00275.17 288H12.83A12.82 12.82 0 000 300.83v38.34A12.82 12.82 0 0012.83 352zm0-256h262.34A12.82 12.82 0 00288 83.17V44.83A12.82 12.82 0 00275.17 32H12.83A12.82 12.82 0 000 44.83v38.34A12.82 12.82 0 0012.83 96zM432 160H16a16 16 0 00-16 16v32a16 16 0 0016 16h416a16 16 0 0016-16v-32a16 16 0 00-16-16zm0 256H16a16 16 0 00-16 16v32a16 16 0 0016 16h416a16 16 0 0016-16v-32a16 16 0 00-16-16z",fill:"var(--icon-fill-color)",strokeLinecap:"round"}),{width:448,height:512})}),we=i().memo(function(Re){return Re.theme,I((0,y.jsx)("path",{d:"M432 160H16a16 16 0 00-16 16v32a16 16 0 0016 16h416a16 16 0 0016-16v-32a16 16 0 00-16-16zm0 256H16a16 16 0 00-16 16v32a16 16 0 0016 16h416a16 16 0 0016-16v-32a16 16 0 00-16-16zM108.1 96h231.81A12.09 12.09 0 00352 83.9V44.09A12.09 12.09 0 00339.91 32H108.1A12.09 12.09 0 0096 44.09V83.9A12.1 12.1 0 00108.1 96zm231.81 256A12.09 12.09 0 00352 339.9v-39.81A12.09 12.09 0 00339.91 288H108.1A12.09 12.09 0 0096 300.09v39.81a12.1 12.1 0 0012.1 12.1z",fill:"var(--icon-fill-color)"}),{width:448,height:512})}),Me=i().memo(function(Re){return Re.theme,I((0,y.jsx)("path",{d:"M16 224h416a16 16 0 0016-16v-32a16 16 0 00-16-16H16a16 16 0 00-16 16v32a16 16 0 0016 16zm416 192H16a16 16 0 00-16 16v32a16 16 0 0016 16h416a16 16 0 0016-16v-32a16 16 0 00-16-16zm3.17-384H172.83A12.82 12.82 0 00160 44.83v38.34A12.82 12.82 0 00172.83 96h262.34A12.82 12.82 0 00448 83.17V44.83A12.82 12.82 0 00435.17 32zm0 256H172.83A12.82 12.82 0 00160 300.83v38.34A12.82 12.82 0 00172.83 352h262.34A12.82 12.82 0 00448 339.17v-38.34A12.82 12.82 0 00435.17 288z",fill:"var(--icon-fill-color)",strokeLinecap:"round"}),{width:448,height:512})}),Te=i().memo(function(Re){return Re.theme,I((0,y.jsx)("path",{d:"m16,132l416,0c8.837,0 16,-7.163 16,-16l0,-40c0,-8.837 -7.163,-16 -16,-16l-416,0c-8.837,0 -16,7.163 -16,16l0,40c0,8.837 7.163,16 16,16zm0,160l416,0c8.837,0 16,-7.163 16,-16l0,-40c0,-8.837 -7.163,-16 -16,-16l-416,0c-8.837,0 -16,7.163 -16,16l0,40c0,8.837 7.163,16 16,16z",fill:"var(--icon-fill-color)",strokeLinecap:"round"}),{width:448,height:512})}),Le=i().memo(function(Re){return Re.theme,I((0,y.jsx)("path",{d:"M16,292L432,292C440.837,292 448,284.837 448,276L448,236C448,227.163 440.837,220 432,220L16,220C7.163,220 0,227.163 0,236L0,276C0,284.837 7.163,292 16,292ZM16,452L432,452C440.837,452 448,444.837 448,436L448,396C448,387.163 440.837,380 432,380L16,380C7.163,380 0,387.163 0,396L0,436C0,444.837 7.163,452 16,452Z",fill:"var(--icon-fill-color)",strokeLinecap:"round"}),{width:448,height:512})}),Be=i().memo(function(Re){return Re.theme,I((0,y.jsx)("path",{transform:"matrix(1,0,0,1,0,80)",d:"M16,132L432,132C440.837,132 448,124.837 448,116L448,76C448,67.163 440.837,60 432,60L16,60C7.163,60 0,67.163 0,76L0,116C0,124.837 7.163,132 16,132ZM16,292L432,292C440.837,292 448,284.837 448,276L448,236C448,227.163 440.837,220 432,220L16,220C7.163,220 0,227.163 0,236L0,276C0,284.837 7.163,292 16,292Z",fill:"var(--icon-fill-color)",strokeLinecap:"round"}),{width:448,height:512})}),We=I((0,y.jsx)("path",{d:"M537.6 226.6c4.1-10.7 6.4-22.4 6.4-34.6 0-53-43-96-96-96-19.7 0-38.1 6-53.3 16.2C367 64.2 315.3 32 256 32c-88.4 0-160 71.6-160 160 0 2.7.1 5.4.2 8.1C40.2 219.8 0 273.2 0 336c0 79.5 64.5 144 144 144h368c70.7 0 128-57.3 128-128 0-61.9-44-113.6-102.4-125.4zM393.4 288H328v112c0 8.8-7.2 16-16 16h-48c-8.8 0-16-7.2-16-16V288h-65.4c-14.3 0-21.4-17.2-11.3-27.3l105.4-105.4c6.2-6.2 16.4-6.2 22.6 0l105.4 105.4c10.1 10.1 2.9 27.3-11.3 27.3z",fill:"currentColor"}),{width:640,height:512}),Ge=I((0,y.jsx)("path",{fill:"currentColor",d:"M402.3 344.9l32-32c5-5 13.7-1.5 13.7 5.7V464c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V112c0-26.5 21.5-48 48-48h273.5c7.1 0 10.7 8.6 5.7 13.7l-32 32c-1.5 1.5-3.5 2.3-5.7 2.3H48v352h352V350.5c0-2.1.8-4.1 2.3-5.6zm156.6-201.8L296.3 405.7l-90.4 10c-26.2 2.9-48.5-19.2-45.6-45.6l10-90.4L432.9 17.1c22.9-22.9 59.9-22.9 82.7 0l43.2 43.2c22.9 22.9 22.9 60 .1 82.8zM460.1 174L402 115.9 216.2 301.8l-7.3 65.3 65.3-7.3L460.1 174zm64.8-79.7l-43.2-43.2c-4.1-4.1-10.8-4.1-14.8 0L436 82l58.1 58.1 30.9-30.9c4-4.2 4-10.8-.1-14.9z"}),{width:640,height:512}),it=I((0,y.jsx)("path",{d:"M480 416C497.7 416 512 430.3 512 448C512 465.7 497.7 480 480 480H150.6C133.7 480 117.4 473.3 105.4 461.3L25.37 381.3C.3786 356.3 .3786 315.7 25.37 290.7L258.7 57.37C283.7 32.38 324.3 32.38 349.3 57.37L486.6 194.7C511.6 219.7 511.6 260.3 486.6 285.3L355.9 416H480zM265.4 416L332.7 348.7L195.3 211.3L70.63 336L150.6 416L265.4 416z"}))},8288:function(le,K,o){o.d(K,{$C:function(){return re},$e:function(){return ie},$n:function(){return A},C6:function(){return ue},EE:function(){return ce},EH:function(){return n},Gj:function(){return E},HM:function(){return l},Hg:function(){return S},Iw:function(){return V},Kr:function(){return z},Ks:function(){return x},LL:function(){return _},LO:function(){return u},Oh:function(){return fe},UO:function(){return D},V4:function(){return m},Vi:function(){return W},Yx:function(){return G},ZB:function(){return Y},ZF:function(){return C},_D:function(){return $},ah:function(){return B},ay:function(){return te},cW:function(){return U},eF:function(){return R},f:function(){return j},gK:function(){return ee},h6:function(){return xe},hR:function(){return N},hs:function(){return F},iC:function(){return g},jo:function(){return L},k:function(){return h},kV:function(){return b},n5:function(){return ge},nM:function(){return T},oX:function(){return ke},oc:function(){return pe},pb:function(){return p},qx:function(){return y},qy:function(){return oe},r8:function(){return O},rk:function(){return se},sA:function(){return c},sS:function(){return M},sk:function(){return ae},ut:function(){return ne},wZ:function(){return I},xY:function(){return Oe},zK:function(){return J}});var x,i=o(8635),v=o.n(i),g="Excalidraw",j=10,y=8,V=5,ie=1,I=30,te=Math.PI/12,pe={TEXT:"text",CROSSHAIR:"crosshair",GRABBING:"grabbing",GRAB:"grab",POINTER:"pointer",MOVE:"move",AUTO:""},fe={MAIN:0,WHEEL:1,SECONDARY:2,TOUCH:-1};(function(Q){Q.COPY="copy",Q.PASTE="paste",Q.CUT="cut",Q.KEYDOWN="keydown",Q.KEYUP="keyup",Q.MOUSE_MOVE="mousemove",Q.RESIZE="resize",Q.UNLOAD="unload",Q.FOCUS="focus",Q.BLUR="blur",Q.DRAG_OVER="dragover",Q.DROP="drop",Q.GESTURE_END="gestureend",Q.BEFORE_UNLOAD="beforeunload",Q.GESTURE_START="gesturestart",Q.GESTURE_CHANGE="gesturechange",Q.POINTER_MOVE="pointermove",Q.POINTER_UP="pointerup",Q.STATE_CHANGE="statechange",Q.WHEEL="wheel",Q.TOUCH_START="touchstart",Q.TOUCH_END="touchend",Q.HASHCHANGE="hashchange",Q.VISIBILITY_CHANGE="visibilitychange",Q.SCROLL="scroll",Q.EXCALIDRAW_LINK="excalidraw-link"})(x||(x={}));var W={TEST:"test",DEVELOPMENT:"development"},re={SHAPE_ACTIONS_MENU:"App-menu__left"},ne={Virgil:1,Helvetica:2,Cascadia:3},ue={LIGHT:"light",DARK:"dark"},$="Segoe UI Emoji",ge=20,se=ne.Virgil,S="left",F="top",h=20,u={excalidraw:"application/vnd.excalidraw+json",excalidrawlib:"application/vnd.excalidrawlib+json",json:"application/json",svg:"image/svg+xml","excalidraw.svg":"image/svg+xml",png:"image/png","excalidraw.png":"image/png",jpg:"image/jpeg",gif:"image/gif",binary:"application/octet-stream"},O={excalidraw:"excalidraw",excalidrawClipboard:"excalidraw/clipboard",excalidrawLibrary:"excalidrawlib"},p=window.EXCALIDRAW_EXPORT_SOURCE||window.location.origin,_=500,E=300,T=500,l=100,m=.1,c=300,n={VIEW:"viewMode",ZEN:"zenMode",GRID:"gridMode"},C=v().themeFilter,D={addLibrary:"addLibrary"},B={addLibrary:"addLibrary"},U={canvasActions:{changeViewBackgroundColor:!0,clearCanvas:!0,export:{saveFileToDisk:!0},loadScene:!0,saveToActiveFile:!0,theme:!0,saveAsImage:!0}},R=640,b=730,M=1e3,G=500,ae=1229,ce=parseInt(v().rightSidebarWidth),J=2,Y=[1,2,3],oe=10,xe=1440,L=[u.png,u.jpg,u.svg,u.gif],A=2097152,N="http://www.w3.org/2000/svg",z={excalidraw:2,excalidrawLibrary:2},ee=5,ke={TOP:"top",MIDDLE:"middle",BOTTOM:"bottom"},Oe=20},434:function(le,K,o){o.d(K,{DQ:function(){return h},KG:function(){return n},Pn:function(){return D},Qk:function(){return F},Sf:function(){return c},Tu:function(){return C},Wr:function(){return O},ZY:function(){return p},_c:function(){return l},bv:function(){return B},cT:function(){return _},g8:function(){return u},gY:function(){return M},lV:function(){return T},tW:function(){return m},vZ:function(){return G},wf:function(){return E}});var x=o(1930),i=o(2577),v=o(7169),g=o(8950),j=o(7945),y=o.n(j),V=o(5605),ie=o(8897),I=o(8288),te=o(5118),pe=o(6797),fe=o(8211),W=o(75),re=o(6340),ne=o(1393),ue=o(5523),$=o(679);function ge(ae,ce){var J=Object.keys(ae);if(Object.getOwnPropertySymbols){var Y=Object.getOwnPropertySymbols(ae);ce&&(Y=Y.filter(function(oe){return Object.getOwnPropertyDescriptor(ae,oe).enumerable})),J.push.apply(J,Y)}return J}function se(ae){for(var ce=1;ce<arguments.length;ce++){var J=arguments[ce]!=null?arguments[ce]:{};ce%2?ge(Object(J),!0).forEach(function(Y){(0,v.Z)(ae,Y,J[Y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ae,Object.getOwnPropertyDescriptors(J)):ge(Object(J)).forEach(function(Y){Object.defineProperty(ae,Y,Object.getOwnPropertyDescriptor(J,Y))})}return ae}var S=function(){var ae=(0,g.Z)(y().mark(function ce(J){var Y;return y().wrap(function(oe){for(;;)switch(oe.prev=oe.next){case 0:if(J.type!==I.LO.png){oe.next=18;break}return oe.prev=1,oe.next=4,Promise.resolve().then(o.bind(o,673));case 4:return oe.next=6,oe.sent.decodePngMetadata(J);case 6:return oe.abrupt("return",oe.sent);case 9:if(oe.prev=9,oe.t0=oe.catch(1),oe.t0.message!=="INVALID"){oe.next=15;break}throw new DOMException((0,fe.t)("alerts.imageDoesNotContainScene"),"EncodingError");case 15:throw new DOMException((0,fe.t)("alerts.cannotRestoreFromImage"),"EncodingError");case 16:oe.next=43;break;case 18:if(!("text"in Blob)){oe.next=24;break}return oe.next=21,J.text();case 21:Y=oe.sent,oe.next=27;break;case 24:return oe.next=26,new Promise(function(xe){var L=new FileReader;L.readAsText(J,"utf8"),L.onloadend=function(){L.readyState===FileReader.DONE&&xe(L.result)}});case 26:Y=oe.sent;case 27:if(J.type!==I.LO.svg){oe.next=43;break}return oe.prev=28,oe.next=31,Promise.resolve().then(o.bind(o,673));case 31:return oe.next=33,oe.sent.decodeSvgMetadata({svg:Y});case 33:return oe.abrupt("return",oe.sent);case 36:if(oe.prev=36,oe.t1=oe.catch(28),oe.t1.message!=="INVALID"){oe.next=42;break}throw new DOMException((0,fe.t)("alerts.imageDoesNotContainScene"),"EncodingError");case 42:throw new DOMException((0,fe.t)("alerts.cannotRestoreFromImage"),"EncodingError");case 43:return oe.abrupt("return",Y);case 44:case"end":return oe.stop()}},ce,null,[[1,9],[28,36]])}));return function(ce){return ae.apply(this,arguments)}}(),F=function(ae){var ce;return ae&&((ce=ae.name.match(/\.(json|excalidraw|png|svg)$/))===null||ce===void 0?void 0:ce[1])||null},h=function(ae){return ae==="png"||ae==="svg"},u=function(ae){var ce=F(ae);return ce==="png"||ce==="svg"},O=function(ae){var ce=(ae||{}).type;return!!ce&&I.jo.includes(ce)},p=function(){var ae=(0,g.Z)(y().mark(function ce(J,Y,oe,xe){var L,A;return y().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return N.next=2,S(J);case 2:if(L=N.sent,N.prev=3,A=JSON.parse(L),!(0,ue.dS)(A)){N.next=9;break}return N.abrupt("return",{type:I.LO.excalidraw,data:(0,$.nu)({elements:(0,te._M)(A.elements||[]),appState:se(se({theme:Y==null?void 0:Y.theme,fileHandle:xe||J.handle||null},(0,ie.s)(A.appState||{})),Y?(0,W.W)(A.elements||[],Y,null):{}),files:A.files},Y,oe)});case 9:if(!(0,ue.HT)(A)){N.next=11;break}return N.abrupt("return",{type:I.LO.excalidrawlib,data:A});case 11:throw new Error((0,fe.t)("alerts.couldNotLoadInvalidFile"));case 14:throw N.prev=14,N.t0=N.catch(3),console.error(N.t0.message),new Error((0,fe.t)("alerts.couldNotLoadInvalidFile"));case 18:case"end":return N.stop()}},ce,null,[[3,14]])}));return function(ce,J,Y,oe){return ae.apply(this,arguments)}}(),_=function(){var ae=(0,g.Z)(y().mark(function ce(J,Y,oe,xe){var L;return y().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,p(J,Y,oe,xe);case 2:if((L=A.sent).type===I.LO.excalidraw){A.next=5;break}throw new Error((0,fe.t)("alerts.couldNotLoadInvalidFile"));case 5:return A.abrupt("return",L.data);case 6:case"end":return A.stop()}},ce)}));return function(ce,J,Y,oe){return ae.apply(this,arguments)}}(),E=function(ae){var ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"unpublished",J=JSON.parse(ae);if(!(0,ue.HT)(J))throw new Error("Invalid library");var Y=J.libraryItems||J.library;return(0,$.wJ)(Y,ce)},T=function(){var ae=(0,g.Z)(y().mark(function ce(J){var Y,oe=arguments;return y().wrap(function(xe){for(;;)switch(xe.prev=xe.next){case 0:return Y=oe.length>1&&oe[1]!==void 0?oe[1]:"unpublished",xe.t0=E,xe.next=4,S(J);case 4:return xe.t1=xe.sent,xe.t2=Y,xe.abrupt("return",(0,xe.t0)(xe.t1,xe.t2));case 7:case"end":return xe.stop()}},ce)}));return function(ce){return ae.apply(this,arguments)}}(),l=function(){var ae=(0,g.Z)(y().mark(function ce(J){return y().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return Y.abrupt("return",new Promise(function(oe,xe){try{J.toBlob(function(L){if(!L)return xe(new pe.l((0,fe.t)("canvasError.canvasTooBig"),"CANVAS_POSSIBLY_TOO_BIG"));oe(L)})}catch(L){xe(L)}}));case 1:case"end":return Y.stop()}},ce)}));return function(ce){return ae.apply(this,arguments)}}(),m=function(){var ae=(0,g.Z)(y().mark(function ce(J){var Y;return y().wrap(function(oe){for(;;)switch(oe.prev=oe.next){case 0:return oe.prev=0,oe.t0=window.crypto.subtle,oe.next=4,G(J);case 4:return oe.t1=oe.sent,oe.next=7,oe.t0.digest.call(oe.t0,"SHA-1",oe.t1);case 7:return Y=oe.sent,oe.abrupt("return",(0,re.G3)(new Uint8Array(Y)));case 11:return oe.prev=11,oe.t2=oe.catch(0),console.error(oe.t2),oe.abrupt("return",(0,V.x0)(40));case 15:case"end":return oe.stop()}},ce,null,[[0,11]])}));return function(ce){return ae.apply(this,arguments)}}(),c=function(){var ae=(0,g.Z)(y().mark(function ce(J){return y().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return Y.abrupt("return",new Promise(function(oe,xe){var L=new FileReader;L.onload=function(){var A=L.result;oe(A)},L.onerror=function(A){return xe(A)},L.readAsDataURL(J)}));case 1:case"end":return Y.stop()}},ce)}));return function(ce){return ae.apply(this,arguments)}}(),n=function(ae){for(var ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",J=ae.indexOf(","),Y=atob(ae.slice(J+1)),oe=ae.slice(0,J).split(":")[1].split(";")[0],xe=new ArrayBuffer(Y.length),L=new Uint8Array(xe),A=0;A<Y.length;A++)L[A]=Y.charCodeAt(A);return new File([xe],ce,{type:oe})},C=function(){var ae=(0,g.Z)(y().mark(function ce(J,Y){var oe,xe,L,A,N,z;return y().wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:if(J.type!==I.LO.svg){ee.next=2;break}return ee.abrupt("return",J);case 2:return ee.next=4,Promise.all([o.e(736).then(o.t.bind(o,4881,23)).then(function(ke){return ke.default}),o.e(736).then(o.bind(o,100)).then(function(ke){return ke.default})]);case 4:if(oe=ee.sent,xe=(0,i.Z)(oe,2),L=xe[0],A=xe[1],N=A({pica:L({features:["js","wasm"]})}),Y.outputType&&(z=Y.outputType,N._create_blob=function(ke){return this.pica.toBlob(ke.out_canvas,z,.8).then(function(Oe){return ke.out_blob=Oe,ke})}),O(J)){ee.next=12;break}throw new Error((0,fe.t)("errors.unsupportedFileType"));case 12:return ee.t0=File,ee.next=15,N.toBlob(J,{max:Y.maxWidthOrHeight});case 15:return ee.t1=ee.sent,ee.t2=[ee.t1],ee.t3=J.name,ee.t4={type:Y.outputType||J.type},ee.abrupt("return",new ee.t0(ee.t2,ee.t3,ee.t4));case 20:case"end":return ee.stop()}},ce)}));return function(ce,J){return ae.apply(this,arguments)}}(),D=function(ae){var ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return new File([new TextEncoder().encode(ae)],ce,{type:I.LO.svg})},B=function(){var ae=(0,g.Z)(y().mark(function ce(J){var Y,oe;return y().wrap(function(xe){for(;;)switch(xe.prev=xe.next){case 0:return Y=J.dataTransfer.files.item(0),xe.next=3,U(J);case 3:if(oe=xe.sent,!Y){xe.next=10;break}return xe.next=7,M(Y);case 7:xe.t0=xe.sent,xe.next=11;break;case 10:xe.t0=null;case 11:return xe.t1=xe.t0,xe.t2=oe,xe.abrupt("return",{file:xe.t1,fileHandle:xe.t2});case 14:case"end":return xe.stop()}},ce)}));return function(ce){return ae.apply(this,arguments)}}(),U=function(){var ae=(0,g.Z)(y().mark(function ce(J){var Y,oe;return y().wrap(function(xe){for(;;)switch(xe.prev=xe.next){case 0:if(!ne.kr){xe.next=16;break}return xe.prev=1,Y=J.dataTransfer.items[0],xe.next=5,Y.getAsFileSystemHandle();case 5:if(xe.t0=xe.sent,xe.t0){xe.next=8;break}xe.t0=null;case 8:return oe=xe.t0,xe.abrupt("return",oe);case 12:return xe.prev=12,xe.t1=xe.catch(1),console.warn(xe.t1.name,xe.t1.message),xe.abrupt("return",null);case 16:return xe.abrupt("return",null);case 17:case"end":return xe.stop()}},ce,null,[[1,12]])}));return function(ce){return ae.apply(this,arguments)}}(),R=function(ae){var ce=null,J="".concat((0,x.Z)(new Uint8Array(ae).slice(0,8)).join(" ")," "),Y="255 216 255 ",oe="71 73 70 56 57 97 ";return J==="137 80 78 71 13 10 26 10 "?ce=I.LO.png:J.startsWith(Y)?ce=I.LO.jpg:J.startsWith(oe)&&(ce=I.LO.gif),ce},b=function(ae,ce,J){return new File([ae],J||"",{type:ce})},M=function(){var ae=(0,g.Z)(y().mark(function ce(J){var Y,oe,xe,L,A,N,z,ee;return y().wrap(function(ke){for(;;)switch(ke.prev=ke.next){case 0:if(J.type){ke.next=28;break}if((Y=J)===null||Y===void 0||(oe=Y.name)===null||oe===void 0||!oe.endsWith(".excalidrawlib")){ke.next=11;break}return ke.t0=b,ke.next=5,G(J);case 5:ke.t1=ke.sent,ke.t2=I.LO.excalidrawlib,ke.t3=J.name,J=(0,ke.t0)(ke.t1,ke.t2,ke.t3),ke.next=26;break;case 11:if((xe=J)===null||xe===void 0||(L=xe.name)===null||L===void 0||!L.endsWith(".excalidraw")){ke.next=21;break}return ke.t4=b,ke.next=15,G(J);case 15:ke.t5=ke.sent,ke.t6=I.LO.excalidraw,ke.t7=J.name,J=(0,ke.t4)(ke.t5,ke.t6,ke.t7),ke.next=26;break;case 21:return ke.next=23,G(J);case 23:A=ke.sent,(N=R(A))&&(J=b(A,N,J.name));case 26:ke.next=34;break;case 28:if(!O(J)){ke.next=34;break}return ke.next=31,G(J);case 31:z=ke.sent,(ee=R(z))&&ee!==J.type&&(J=b(z,ee,J.name));case 34:return ke.abrupt("return",J);case 35:case"end":return ke.stop()}},ce)}));return function(ce){return ae.apply(this,arguments)}}(),G=function(ae){return"arrayBuffer"in ae?ae.arrayBuffer():new Promise(function(ce,J){var Y=new FileReader;Y.onload=function(oe){var xe;if((xe=oe.target)===null||xe===void 0||!xe.result)return J(new Error("Couldn't convert blob to ArrayBuffer"));ce(oe.target.result)},Y.readAsArrayBuffer(ae)})}},1393:function(le,K,o){o.d(K,{I$:function(){return fe},NL:function(){return W},kr:function(){return g}});var x=o(1930),i=o(8950),v=o(7945),g=function(){if(typeof self>"u")return!1;if("top"in self&&self!==top)try{}catch{return!1}else if("showOpenFilePicker"in self)return"showOpenFilePicker";return!1}(),j=g?o.e(736).then(o.bind(o,2254)):o.e(736).then(o.bind(o,3499));function y(){return y=(0,i.Z)(v.mark(function re(){var ne,ue=arguments;return v.wrap(function($){for(;;)switch($.prev=$.next){case 0:return $.next=2,j;case 2:return $.abrupt("return",(ne=$.sent).default.apply(ne,ue));case 3:case"end":return $.stop()}},re)})),y.apply(this,arguments)}g?o.e(736).then(o.bind(o,6474)):o.e(736).then(o.bind(o,9521));var V=g?o.e(736).then(o.bind(o,9475)):o.e(736).then(o.bind(o,6281));function ie(){return ie=(0,i.Z)(v.mark(function re(){var ne,ue=arguments;return v.wrap(function($){for(;;)switch($.prev=$.next){case 0:return $.next=2,V;case 2:return $.abrupt("return",(ne=$.sent).default.apply(ne,ue));case 3:case"end":return $.stop()}},re)})),ie.apply(this,arguments)}var I=o(8288),te=o(6797),pe=o(6340),fe=function(re){var ne,ue,$,ge=(ne=re.extensions)===null||ne===void 0?void 0:ne.reduce(function(S,F){return S.push(I.LO[F]),S},[]),se=(ue=re.extensions)===null||ue===void 0?void 0:ue.reduce(function(S,F){return F==="jpg"?S.concat(".jpg",".jpeg"):S.concat(".".concat(F))},[]);return function(){return y.apply(this,arguments)}({description:re.description,extensions:se,mimeTypes:ge,multiple:($=re.multiple)!==null&&$!==void 0&&$,legacySetup:function(S,F,h){var u=(0,pe.Ds)(F,500),O=function(){p(),document.addEventListener(I.Ks.KEYUP,u),document.addEventListener(I.Ks.POINTER_UP,u),u()},p=function(){var E;if((E=h.files)!==null&&E!==void 0&&E.length){var T=re.multiple?(0,x.Z)(h.files):h.files[0];S(T)}};requestAnimationFrame(function(){window.addEventListener(I.Ks.FOCUS,O)});var _=window.setInterval(function(){p()},500);return function(E){clearInterval(_),u.cancel(),window.removeEventListener(I.Ks.FOCUS,O),document.removeEventListener(I.Ks.KEYUP,u),document.removeEventListener(I.Ks.POINTER_UP,u),E&&(console.warn("Opening the file was canceled (legacy-fs)."),E(new te._))}}})},W=function(re,ne){return function(){return ie.apply(this,arguments)}(re,{fileName:"".concat(ne.name,".").concat(ne.extension),description:ne.description,extensions:[".".concat(ne.extension)]},ne.fileHandle)}},673:function(le,K,o){o.r(K),o.d(K,{decodePngMetadata:function(){return F},decodeSvgMetadata:function(){return u},encodePngMetadata:function(){return S},encodeSvgMetadata:function(){return h},getTEXtChunk:function(){return se}});var x=o(8950),i=o(7945),v=o.n(i),g=o(2983),j=o.n(g),y=o(1194),V=o(3434),ie=o.n(V),I=o(2744),te=o(8288),pe=o(434),fe=function(O){return new Promise(function(p,_){var E=typeof O=="string"?new Blob([new TextEncoder().encode(O)]):new Blob([O instanceof Uint8Array?O:new Uint8Array(O)]),T=new FileReader;T.onload=function(l){if(!l.target||typeof l.target.result!="string")return _(new Error("couldn't convert to byte string"));p(l.target.result)},T.readAsBinaryString(E)})},W=function(O){for(var p=new ArrayBuffer(O.length),_=new Uint8Array(p),E=0,T=O.length;E<T;E++)_[E]=O.charCodeAt(E);return p},re=function(O){return new TextDecoder("utf-8").decode(W(O))},ne=function(){var O=(0,x.Z)(v().mark(function p(_){var E=arguments;return v().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:if(!(E.length>1&&E[1]!==void 0&&E[1])){T.next=5;break}T.t0=window.btoa(_),T.next=10;break;case 5:return T.t1=window,T.next=8,fe(_);case 8:T.t2=T.sent,T.t0=T.t1.btoa.call(T.t1,T.t2);case 10:return T.abrupt("return",T.t0);case 11:case"end":return T.stop()}},p)}));return function(p){return O.apply(this,arguments)}}(),ue=function(){var O=(0,x.Z)(v().mark(function p(_){var E,T=arguments;return v().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return E=T.length>1&&T[1]!==void 0&&T[1],l.abrupt("return",E?window.atob(_):re(window.atob(_)));case 2:case"end":return l.stop()}},p)}));return function(p){return O.apply(this,arguments)}}(),$=function(){var O=(0,x.Z)(v().mark(function p(_){var E,T;return v().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(E=_.text,_.compress===!1){l.next=11;break}return l.prev=2,l.next=5,fe((0,I.deflate)(E));case 5:T=l.sent,l.next=11;break;case 8:l.prev=8,l.t0=l.catch(2),console.error("encode: cannot deflate",l.t0);case 11:if(l.t1=!!T,l.t2=T,l.t2){l.next=17;break}return l.next=16,fe(E);case 16:l.t2=l.sent;case 17:return l.t3=l.t2,l.abrupt("return",{version:"1",encoding:"bstring",compressed:l.t1,encoded:l.t3});case 19:case"end":return l.stop()}},p,null,[[2,8]])}));return function(p){return O.apply(this,arguments)}}(),ge=function(){var O=(0,x.Z)(v().mark(function p(_){var E;return v().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:T.t0=_.encoding,T.next=T.t0==="bstring"?3:12;break;case 3:if(!_.compressed){T.next=7;break}T.t1=_.encoded,T.next=10;break;case 7:return T.next=9,re(_.encoded);case 9:T.t1=T.sent;case 10:return E=T.t1,T.abrupt("break",13);case 12:throw new Error('decode: unknown encoding "'.concat(_.encoding,'"'));case 13:if(!_.compressed){T.next=15;break}return T.abrupt("return",(0,I.inflate)(new Uint8Array(W(E)),{to:"string"}));case 15:return T.abrupt("return",E);case 16:case"end":return T.stop()}},p)}));return function(p){return O.apply(this,arguments)}}(),se=function(){var O=(0,x.Z)(v().mark(function p(_){var E,T;return v().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.t0=j(),l.t1=Uint8Array,l.next=4,(0,pe.vZ)(_);case 4:if(l.t2=l.sent,l.t3=new l.t1(l.t2),E=(0,l.t0)(l.t3),!(T=E.find(function(m){return m.name==="tEXt"}))){l.next=10;break}return l.abrupt("return",y.decode(T.data));case 10:return l.abrupt("return",null);case 11:case"end":return l.stop()}},p)}));return function(p){return O.apply(this,arguments)}}(),S=function(){var O=(0,x.Z)(v().mark(function p(_){var E,T,l,m;return v().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return E=_.blob,T=_.metadata,c.t0=j(),c.t1=Uint8Array,c.next=5,(0,pe.vZ)(E);case 5:return c.t2=c.sent,c.t3=new c.t1(c.t2),l=(0,c.t0)(c.t3),c.t4=y,c.t5=te.LO.excalidraw,c.t6=JSON,c.next=13,$({text:T,compress:!0});case 13:return c.t7=c.sent,c.t8=c.t6.stringify.call(c.t6,c.t7),m=c.t4.encode.call(c.t4,c.t5,c.t8),l.splice(-1,0,m),c.abrupt("return",new Blob([ie()(l)],{type:te.LO.png}));case 18:case"end":return c.stop()}},p)}));return function(p){return O.apply(this,arguments)}}(),F=function(){var O=(0,x.Z)(v().mark(function p(_){var E,T;return v().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,se(_);case 2:if(((E=l.sent)==null?void 0:E.keyword)!==te.LO.excalidraw){l.next=19;break}if(l.prev=4,"encoded"in(T=JSON.parse(E.text))){l.next=10;break}if(!("type"in T)||T.type!==te.r8.excalidraw){l.next=9;break}return l.abrupt("return",E.text);case 9:throw new Error("FAILED");case 10:return l.next=12,ge(T);case 12:return l.abrupt("return",l.sent);case 15:throw l.prev=15,l.t0=l.catch(4),console.error(l.t0),new Error("FAILED");case 19:throw new Error("INVALID");case 20:case"end":return l.stop()}},p,null,[[4,15]])}));return function(p){return O.apply(this,arguments)}}(),h=function(){var O=(0,x.Z)(v().mark(function p(_){var E,T,l;return v().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return E=_.text,m.t0=ne,m.t1=JSON,m.next=5,$({text:E});case 5:return m.t2=m.sent,m.t3=m.t1.stringify.call(m.t1,m.t2),m.next=9,(0,m.t0)(m.t3,!0);case 9:return T=m.sent,l="",l+="<!-- payload-type:".concat(te.LO.excalidraw," -->"),l+="<!-- payload-version:2 -->",l+="<!-- payload-start -->",l+=T,l+="<!-- payload-end -->",m.abrupt("return",l);case 17:case"end":return m.stop()}},p)}));return function(p){return O.apply(this,arguments)}}(),u=function(){var O=(0,x.Z)(v().mark(function p(_){var E,T,l,m,c,n,C;return v().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:if(!(E=_.svg).includes("payload-type:".concat(te.LO.excalidraw))){D.next=26;break}if(T=E.match(/<!-- payload-start -->\s*(.+?)\s*<!-- payload-end -->/)){D.next=5;break}throw new Error("INVALID");case 5:return l=E.match(/<!-- payload-version:(\d+) -->/),m=(l==null?void 0:l[1])||"1",c=m!=="1",D.prev=8,D.next=11,ue(T[1],c);case 11:if(n=D.sent,"encoded"in(C=JSON.parse(n))){D.next=17;break}if(!("type"in C)||C.type!==te.r8.excalidraw){D.next=16;break}return D.abrupt("return",n);case 16:throw new Error("FAILED");case 17:return D.next=19,ge(C);case 19:return D.abrupt("return",D.sent);case 22:throw D.prev=22,D.t0=D.catch(8),console.error(D.t0),new Error("FAILED");case 26:throw new Error("INVALID");case 27:case"end":return D.stop()}},p,null,[[8,22]])}));return function(p){return O.apply(this,arguments)}}()},5523:function(le,K,o){o.d(K,{HT:function(){return $},I_:function(){return W},NI:function(){return ge},Um:function(){return re},dS:function(){return ue},n8:function(){return ne},t1:function(){return se}});var x=o(6655),i=o(8950),v=o(7945),g=o.n(v),j=o(1393),y=o(8897),V=o(8288),ie=o(5118),I=o(434);function te(S,F){var h=typeof Symbol<"u"&&S[Symbol.iterator]||S["@@iterator"];if(!h){if(Array.isArray(S)||(h=function(T,l){if(T){if(typeof T=="string")return pe(T,l);var m=Object.prototype.toString.call(T).slice(8,-1);if(m==="Object"&&T.constructor&&(m=T.constructor.name),m==="Map"||m==="Set")return Array.from(T);if(m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m))return pe(T,l)}}(S))||F&&S&&typeof S.length=="number"){h&&(S=h);var u=0,O=function(){};return{s:O,n:function(){return u>=S.length?{done:!0}:{done:!1,value:S[u++]}},e:function(T){throw T},f:O}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var p,_=!0,E=!1;return{s:function(){h=h.call(S)},n:function(){var T=h.next();return _=T.done,T},e:function(T){E=!0,p=T},f:function(){try{_||h.return==null||h.return()}finally{if(E)throw p}}}}function pe(S,F){(F==null||F>S.length)&&(F=S.length);for(var h=0,u=new Array(F);h<F;h++)u[h]=S[h];return u}var fe=function(S,F){var h,u={},O=te(S);try{for(O.s();!(h=O.n()).done;){var p=h.value;!p.isDeleted&&"fileId"in p&&p.fileId&&F[p.fileId]&&(u[p.fileId]=F[p.fileId])}}catch(_){O.e(_)}finally{O.f()}return u},W=function(S,F,h,u){var O={type:V.r8.excalidraw,version:V.Kr.excalidraw,source:V.pb,elements:u==="local"?(0,ie._M)(S):(0,ie.BQ)(S),appState:u==="local"?(0,y.s)(F):(0,y.eS)(F),files:u==="local"?fe(S,h):void 0};return JSON.stringify(O,null,2)},re=function(){var S=(0,i.Z)(g().mark(function F(h,u,O){var p,_,E;return g().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return p=W(h,u,O,"local"),_=new Blob([p],{type:V.LO.excalidraw}),T.next=4,(0,j.NL)(_,{name:u.name,extension:"excalidraw",description:"Excalidraw file",fileHandle:(0,I.g8)(u.fileHandle)?null:u.fileHandle});case 4:return E=T.sent,T.abrupt("return",{fileHandle:E});case 6:case"end":return T.stop()}},F)}));return function(F,h,u){return S.apply(this,arguments)}}(),ne=function(){var S=(0,i.Z)(g().mark(function F(h,u){var O;return g().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,(0,j.I$)({description:"Excalidraw files"});case 2:return O=p.sent,p.t0=I.cT,p.next=6,(0,I.gY)(O);case 6:return p.t1=p.sent,p.t2=h,p.t3=u,p.t4=O.handle,p.abrupt("return",(0,p.t0)(p.t1,p.t2,p.t3,p.t4));case 11:case"end":return p.stop()}},F)}));return function(F,h){return S.apply(this,arguments)}}(),ue=function(S){return(S==null?void 0:S.type)===V.r8.excalidraw&&(!S.elements||Array.isArray(S.elements)&&(!S.appState||(0,x.Z)(S.appState)==="object"))},$=function(S){return(0,x.Z)(S)==="object"&&S&&S.type===V.r8.excalidrawLibrary&&(S.version===1||S.version===2)},ge=function(S){var F={type:V.r8.excalidrawLibrary,version:V.Kr.excalidrawLibrary,source:V.pb,libraryItems:S};return JSON.stringify(F,null,2)},se=function(){var S=(0,i.Z)(g().mark(function F(h){var u;return g().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return u=ge(h),O.next=3,(0,j.NL)(new Blob([u],{type:V.LO.excalidrawlib}),{name:"library",extension:"excalidrawlib",description:"Excalidraw library file"});case 3:case"end":return O.stop()}},F)}));return function(F){return S.apply(this,arguments)}}()},7053:function(le,K,o){o.d(K,{Di:function(){return E},WV:function(){return _},rF:function(){return F},xS:function(){return T},zh:function(){return O}});var x=o(7169),i=o(8950),v=o(5169),g=o(8821),j=o(1930),y=o(7945),V=o.n(y),ie=o(434),I=o(679),te=o(4739),pe=o(9487),fe=o(8925),W=o(6797),re=o(8211),ne=o(9787),ue=o(8288);function $(l,m){var c=Object.keys(l);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(l);m&&(n=n.filter(function(C){return Object.getOwnPropertyDescriptor(l,C).enumerable})),c.push.apply(c,n)}return c}function ge(l){for(var m=1;m<arguments.length;m++){var c=arguments[m]!=null?arguments[m]:{};m%2?$(Object(c),!0).forEach(function(n){(0,x.Z)(l,n,c[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(c)):$(Object(c)).forEach(function(n){Object.defineProperty(l,n,Object.getOwnPropertyDescriptor(c,n))})}return l}function se(l,m){var c=typeof Symbol<"u"&&l[Symbol.iterator]||l["@@iterator"];if(!c){if(Array.isArray(l)||(c=function(R,b){if(R){if(typeof R=="string")return S(R,b);var M=Object.prototype.toString.call(R).slice(8,-1);if(M==="Object"&&R.constructor&&(M=R.constructor.name),M==="Map"||M==="Set")return Array.from(R);if(M==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(M))return S(R,b)}}(l))||m&&l&&typeof l.length=="number"){c&&(l=c);var n=0,C=function(){};return{s:C,n:function(){return n>=l.length?{done:!0}:{done:!1,value:l[n++]}},e:function(R){throw R},f:C}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var D,B=!0,U=!1;return{s:function(){c=c.call(l)},n:function(){var R=c.next();return B=R.done,R},e:function(R){U=!0,D=R},f:function(){try{B||c.return==null||c.return()}finally{if(U)throw D}}}}function S(l,m){(m==null||m>l.length)&&(m=l.length);for(var c=0,n=new Array(m);c<m;c++)n[c]=l[c];return n}var F=(0,te.cn)({status:"loaded",isInitialized:!0,libraryItems:[]}),h=function(l){return JSON.parse(JSON.stringify(l))},u=function(l,m){return!l.find(function(c){return c.elements.length===m.elements.length&&c.elements.every(function(n,C){return n.id===m.elements[C].id&&n.versionNonce===m.elements[C].versionNonce})})},O=function(l,m){var c,n=[],C=se(m);try{for(C.s();!(c=C.n()).done;){var D=c.value;u(l,D)&&n.push(D)}}catch(B){C.e(B)}finally{C.f()}return[].concat(n,(0,j.Z)(l))},p=(0,v.Z)(function l(m){var c=this;(0,g.Z)(this,l),this.lastLibraryItems=[],this.isInitialized=!1,this.updateQueue=[],this.getLastUpdateTask=function(){return c.updateQueue[c.updateQueue.length-1]},this.notifyListeners=function(){if(c.updateQueue.length>0)pe.e_.set(F,{status:"loading",libraryItems:c.lastLibraryItems,isInitialized:c.isInitialized});else{c.isInitialized=!0,pe.e_.set(F,{status:"loaded",libraryItems:c.lastLibraryItems,isInitialized:c.isInitialized});try{var n,C;(n=(C=c.app.props).onLibraryChange)===null||n===void 0||n.call(C,h(c.lastLibraryItems))}catch(D){console.error(D)}}},this.resetLibrary=function(){return c.setLibrary([])},this.getLatestLibrary=function(){return new Promise(function(){var n=(0,i.Z)(V().mark(function C(D){var B;return V().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return U.prev=0,U.next=3,c.getLastUpdateTask()||c.lastLibraryItems;case 3:B=U.sent,c.updateQueue.length>0?D(c.getLatestLibrary()):D(h(B)),U.next=10;break;case 7:return U.prev=7,U.t0=U.catch(0),U.abrupt("return",D(c.lastLibraryItems));case 10:case"end":return U.stop()}},C,null,[[0,7]])}));return function(C){return n.apply(this,arguments)}}())},this.updateLibrary=function(){var n=(0,i.Z)(V().mark(function C(D){var B,U,R,b,M,G,ae,ce,J;return V().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return B=D.libraryItems,U=D.prompt,R=U!==void 0&&U,b=D.merge,M=b!==void 0&&b,G=D.openLibraryMenu,ae=G!==void 0&&G,ce=D.defaultStatus,J=ce===void 0?"unpublished":ce,ae&&c.app.setState({isLibraryOpen:!0}),Y.abrupt("return",c.setLibrary(function(){return new Promise(function(){var oe=(0,i.Z)(V().mark(function xe(L,A){var N,z;return V().wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:return ee.prev=0,ee.next=3,typeof B=="function"?B(c.lastLibraryItems):B;case 3:if(!((N=ee.sent)instanceof Blob)){ee.next=10;break}return ee.next=7,(0,ie.lV)(N,J);case 7:z=ee.sent,ee.next=11;break;case 10:z=(0,I.wJ)(N,J);case 11:!R||window.confirm((0,re.t)("alerts.confirmAddLibrary",{numShapes:z.length}))?L(M?O(c.lastLibraryItems,z):z):A(new W._),ee.next=17;break;case 14:ee.prev=14,ee.t0=ee.catch(0),A(ee.t0);case 17:case"end":return ee.stop()}},xe,null,[[0,14]])}));return function(xe,L){return oe.apply(this,arguments)}}())}).finally(function(){c.app.focusContainer()}));case 3:case"end":return Y.stop()}},C)}));return function(C){return n.apply(this,arguments)}}(),this.setLibrary=function(n){var C=new Promise(function(){var D=(0,i.Z)(V().mark(function B(U,R){return V().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.prev=0,b.next=3,c.getLastUpdateTask();case 3:return typeof n=="function"&&(n=n(c.lastLibraryItems)),b.t0=h,b.next=7,n;case 7:b.t1=b.sent,c.lastLibraryItems=(0,b.t0)(b.t1),U(c.lastLibraryItems),b.next=15;break;case 12:b.prev=12,b.t2=b.catch(0),R(b.t2);case 15:case"end":return b.stop()}},B,null,[[0,12]])}));return function(B,U){return D.apply(this,arguments)}}()).catch(function(D){if(D.name==="AbortError")return console.warn("Library update aborted by user"),c.lastLibraryItems;throw D}).finally(function(){c.updateQueue=c.updateQueue.filter(function(D){return D!==C}),c.notifyListeners()});return c.updateQueue.push(C),c.notifyListeners(),C},this.app=m});K.ZP=p;var _=function(l){var m,c=Math.ceil(Math.sqrt(l.length)),n=[],C=0,D=0,B=0,U=0,R=0,b=0,M=0,G=se(l);try{var ae=function(){var ce=m.value;R&&R%c==0&&(D+=B+50,C=0,b=0,M++),b===0&&(B=function(z){return l.slice(z*c,z*c+c).reduce(function(ee,ke){var Oe=(0,fe.v2)(ke.elements).height;return Math.max(ee,Oe)},0)}(M)),U=function(z){var ee,ke=0,Oe=0,Q=0,Ce=se(l);try{for(Ce.s();!(ee=Ce.n()).done;){var Ne=ee.value;if(ke%c==0&&(Oe=0),Oe===z){var ze=(0,fe.v2)(Ne.elements).width;Q=Math.max(Q,ze)}ke++,Oe++}}catch(ot){Ce.e(ot)}finally{Ce.f()}return Q}(b);var J=(0,fe.v2)(ce.elements),Y=J.minX,oe=J.minY,xe=J.width,L=J.height,A=(U-xe)/2,N=(B-L)/2;n.push.apply(n,(0,j.Z)(ce.elements.map(function(z){return ge(ge({},z),{},{x:z.x+C+A-Y,y:z.y+D+N-oe})}))),C+=U+50,R++,b++};for(G.s();!(m=G.n()).done;)ae()}catch(ce){G.e(ce)}finally{G.f()}return n},E=function(){var l=new URLSearchParams(window.location.hash.slice(1)).get(ue.ah.addLibrary)||new URLSearchParams(window.location.search).get(ue.UO.addLibrary),m=l?new URLSearchParams(window.location.hash.slice(1)).get("token"):null;return l?{libraryUrl:l,idToken:m}:null},T=function(l){var m=l.excalidrawAPI,c=l.getInitialLibraryItems,n=(0,ne.useRef)(c);(0,ne.useEffect)(function(){if(m){var C=function(U){var R=U.libraryUrl,b=U.idToken;if(window.location.hash.includes(ue.ah.addLibrary)){var M=new URLSearchParams(window.location.hash.slice(1));M.delete(ue.ah.addLibrary),window.history.replaceState({},ue.iC,"#".concat(M.toString()))}else if(window.location.search.includes(ue.UO.addLibrary)){var G=new URLSearchParams(window.location.search);G.delete(ue.UO.addLibrary),window.history.replaceState({},ue.iC,"?".concat(G.toString()))}m.updateLibrary({libraryItems:new Promise(function(){var ae=(0,i.Z)(V().mark(function ce(J,Y){var oe,xe;return V().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return L.prev=0,L.next=3,fetch(decodeURIComponent(R));case 3:return oe=L.sent,L.next=6,oe.blob();case 6:xe=L.sent,J(xe),L.next=13;break;case 10:L.prev=10,L.t0=L.catch(0),Y(L.t0);case 13:case"end":return L.stop()}},ce,null,[[0,10]])}));return function(ce,J){return ae.apply(this,arguments)}}()),prompt:b!==m.id,merge:!0,defaultStatus:"published",openLibraryMenu:!0})},D=function(U){U.preventDefault();var R=E();R&&(U.stopImmediatePropagation(),window.history.replaceState({},"",U.oldURL),C(R))};n.current&&m.updateLibrary({libraryItems:n.current()});var B=E();return B&&C(B),window.addEventListener(ue.Ks.HASHCHANGE,D),function(){window.removeEventListener(ue.Ks.HASHCHANGE,D)}}},[m])}},679:function(le,K,o){o.d(K,{ET:function(){return ge},lY:function(){return se},nu:function(){return S},wJ:function(){return h}});var x=o(2577),i=o(7169),v=o(5118),g=o(1974),j=o(6954),y=o(8288),V=o(8897),ie=o(6938),I=o(1935),te=o(6340);function pe(u,O){var p=typeof Symbol<"u"&&u[Symbol.iterator]||u["@@iterator"];if(!p){if(Array.isArray(u)||(p=function(c,n){if(c){if(typeof c=="string")return fe(c,n);var C=Object.prototype.toString.call(c).slice(8,-1);if(C==="Object"&&c.constructor&&(C=c.constructor.name),C==="Map"||C==="Set")return Array.from(c);if(C==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(C))return fe(c,n)}}(u))||O&&u&&typeof u.length=="number"){p&&(u=p);var _=0,E=function(){};return{s:E,n:function(){return _>=u.length?{done:!0}:{done:!1,value:u[_++]}},e:function(c){throw c},f:E}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var T,l=!0,m=!1;return{s:function(){p=p.call(u)},n:function(){var c=p.next();return l=c.done,c},e:function(c){m=!0,T=c},f:function(){try{l||p.return==null||p.return()}finally{if(m)throw T}}}}function fe(u,O){(O==null||O>u.length)&&(O=u.length);for(var p=0,_=new Array(O);p<O;p++)_[p]=u[p];return _}function W(u,O){var p=Object.keys(u);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(u);O&&(_=_.filter(function(E){return Object.getOwnPropertyDescriptor(u,E).enumerable})),p.push.apply(p,_)}return p}function re(u){for(var O=1;O<arguments.length;O++){var p=arguments[O]!=null?arguments[O]:{};O%2?W(Object(p),!0).forEach(function(_){(0,i.Z)(u,_,p[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(p)):W(Object(p)).forEach(function(_){Object.defineProperty(u,_,Object.getOwnPropertyDescriptor(p,_))})}return u}var ne={selection:!0,text:!0,rectangle:!0,diamond:!0,ellipse:!0,line:!0,image:!0,arrow:!0,freedraw:!0,eraser:!1,custom:!0},ue=function(u,O){var p,_,E,T,l,m,c,n,C,D,B,U,R,b,M,G={type:O.type||u.type,version:u.version||1,versionNonce:(p=u.versionNonce)!==null&&p!==void 0?p:0,isDeleted:(_=u.isDeleted)!==null&&_!==void 0&&_,id:u.id||(0,j.kb)(),fillStyle:u.fillStyle||"hachure",strokeWidth:u.strokeWidth||1,strokeStyle:(E=u.strokeStyle)!==null&&E!==void 0?E:"solid",roughness:(T=u.roughness)!==null&&T!==void 0?T:1,opacity:u.opacity==null?100:u.opacity,angle:u.angle||0,x:(l=(m=O.x)!==null&&m!==void 0?m:u.x)!==null&&l!==void 0?l:0,y:(c=(n=O.y)!==null&&n!==void 0?n:u.y)!==null&&c!==void 0?c:0,strokeColor:u.strokeColor,backgroundColor:u.backgroundColor,width:u.width||0,height:u.height||0,seed:(C=u.seed)!==null&&C!==void 0?C:1,groupIds:(D=u.groupIds)!==null&&D!==void 0?D:[],strokeSharpness:(B=u.strokeSharpness)!==null&&B!==void 0?B:(0,g.dt)(u.type)?"round":"sharp",boundElements:u.boundElementIds?u.boundElementIds.map(function(ae){return{type:"arrow",id:ae}}):(U=u.boundElements)!==null&&U!==void 0?U:[],updated:(R=u.updated)!==null&&R!==void 0?R:(0,te.C3)(),link:(b=u.link)!==null&&b!==void 0?b:null,locked:(M=u.locked)!==null&&M!==void 0&&M};return re(re(re({},G),(0,v.Qp)(G)),O)},$=function(u){var O,p,_;switch(u.type){case"text":var E=u.fontSize,T=u.fontFamily;if("font"in u){var l=u.font.split(" "),m=(0,x.Z)(l,2),c=m[0],n=m[1];E=parseInt(c,10),_=n,T=Object.keys(y.ut).includes(_)?y.ut[_]:y.rk}return ue(u,{fontSize:E,fontFamily:T,text:(O=u.text)!==null&&O!==void 0?O:"",baseline:u.baseline,textAlign:u.textAlign||y.Hg,verticalAlign:u.verticalAlign||y.hs,containerId:(p=u.containerId)!==null&&p!==void 0?p:null,originalText:u.originalText||u.text});case"freedraw":return ue(u,{points:u.points,lastCommittedPoint:null,simulatePressure:u.simulatePressure,pressures:u.pressures});case"image":return ue(u,{status:u.status||"pending",fileId:u.fileId,scale:u.scale||[1,1]});case"line":case"draw":case"arrow":var C=u.startArrowhead,D=C===void 0?null:C,B=u.endArrowhead,U=B===void 0?u.type==="arrow"?"arrow":null:B,R=u.x,b=u.y,M=!Array.isArray(u.points)||u.points.length<2?[[0,0],[u.width,u.height]]:u.points;if(M[0][0]!==0||M[0][1]!==0){var G=ie._.getNormalizedPoints(u);M=G.points,R=G.x,b=G.y}return ue(u,{type:u.type==="draw"?"line":u.type,startBinding:u.startBinding,endBinding:u.endBinding,lastCommittedPoint:null,startArrowhead:D,endArrowhead:U,points:M,x:R,y:b});case"ellipse":case"rectangle":case"diamond":return ue(u,{})}},ge=function(u,O){var p=O?(0,te.xn)(O):null;return(u||[]).reduce(function(_,E){if(E.type!=="selection"&&!(0,v.QD)(E)){var T=$(E);if(T){var l=p==null?void 0:p.get(E.id);l&&l.version>T.version&&(T=(0,I.ZP)(T,l.version)),_.push(T)}}return _},[])},se=function(u,O){var p,_,E;u=u||{};var T,l=(0,V.im)(),m={},c=pe(Object.entries(l));try{for(c.s();!(T=c.n()).done;){var n=(0,x.Z)(T.value,2),C=n[0],D=n[1],B=u[C],U=O?O[C]:void 0;m[C]=B!==void 0?B:U!==void 0?U:D}}catch(R){c.e(R)}finally{c.f()}return re(re({},m),{},{cursorButton:(O==null?void 0:O.cursorButton)||"up",penDetected:(p=O==null?void 0:O.penDetected)!==null&&p!==void 0?p:!!u.penMode&&(_=u.penDetected)!==null&&_!==void 0&&_,activeTool:re(re({},(0,te.Om)(l,m.activeTool.type&&ne[m.activeTool.type]?m.activeTool:{type:"selection"})),{},{lastActiveToolBeforeEraser:null,locked:(E=m.activeTool.locked)!==null&&E!==void 0&&E}),zoom:typeof u.zoom=="number"?{value:u.zoom}:u.zoom||l.zoom,isLibraryOpen:!!m.isLibraryMenuDocked&&m.isLibraryOpen})},S=function(u,O,p){return{elements:ge(u==null?void 0:u.elements,p),appState:se(u==null?void 0:u.appState,O||null),files:(u==null?void 0:u.files)||{}}},F=function(u){var O=ge((0,v.Lm)(u.elements),null);return O.length?re(re({},u),{},{elements:O}):null},h=function(){var u,O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],p=arguments.length>1?arguments[1]:void 0,_=[],E=pe(O);try{for(E.s();!(u=E.n()).done;){var T=u.value;if(Array.isArray(T)){var l=F({status:p,elements:T,id:(0,j.kb)(),created:Date.now()});l&&_.push(l)}else{var m=T,c=F(re(re({},m),{},{id:m.id||(0,j.kb)(),status:m.status||p,created:m.created||Date.now()}));c&&_.push(c)}}}catch(n){E.e(n)}finally{E.f()}return _}},2383:function(le,K,o){o.d(K,{$u:function(){return E},Pp:function(){return D},lV:function(){return U},nW:function(){return p},nz:function(){return l},q$:function(){return T},rj:function(){return u},sw:function(){return c},wq:function(){return n}});var x=o(7169),i=o(2577),v=o(6340),g=o(1935),j=o(7901),y=o(1319),V=o(3646),ie=o(8211),I=o(9787),te=o(45),pe=o(6066),fe=o(3063),W=o(6552),re=o(8288),ne=o(9910),ue=o(75),$=o(2325),ge=o(5118),se=(o(4404),o(7047)),S=o(4512);function F(b,M){var G=Object.keys(b);if(Object.getOwnPropertySymbols){var ae=Object.getOwnPropertySymbols(b);M&&(ae=ae.filter(function(ce){return Object.getOwnPropertyDescriptor(b,ce).enumerable})),G.push.apply(G,ae)}return G}function h(b){for(var M=1;M<arguments.length;M++){var G=arguments[M]!=null?arguments[M]:{};M%2?F(Object(G),!0).forEach(function(ae){(0,x.Z)(b,ae,G[ae])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(G)):F(Object(G)).forEach(function(ae){Object.defineProperty(b,ae,Object.getOwnPropertyDescriptor(G,ae))})}return b}var u=document.createElement("img");u.src="data:".concat(re.LO.svg,", ").concat(encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#1971c2" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg>'));var O=!1,p=function(b){var M=b.element,G=b.appState,ae=b.setAppState,ce=b.onLinkOpen,J=M.link||"",Y=(0,I.useState)(J),oe=(0,i.Z)(Y,2),xe=oe[0],L=oe[1],A=(0,I.useRef)(null),N=G.showHyperlinkPopup==="editor"||!J,z=(0,I.useCallback)(function(){if(A.current){var Ce=E(A.current.value);!M.link&&Ce&&(0,se.L)("hyperlink","create"),(0,g.DR)(M,{link:Ce}),ae({showHyperlinkPopup:"info"})}},[M,ae]);(0,I.useLayoutEffect)(function(){return function(){z()}},[z]),(0,I.useEffect)(function(){var Ce=null,Ne=function(ze){N||(Ce&&clearTimeout(Ce),R(M,G,[ze.clientX,ze.clientY])&&(Ce=window.setTimeout(function(){ae({showHyperlinkPopup:!1})},500)))};return window.addEventListener(re.Ks.POINTER_MOVE,Ne,!1),function(){window.removeEventListener(re.Ks.POINTER_MOVE,Ne,!1),Ce&&clearTimeout(Ce)}},[G,M,N,ae]);var ee=(0,I.useCallback)(function(){(0,se.L)("hyperlink","delete"),(0,g.DR)(M,{link:null}),N&&(A.current.value=""),ae({showHyperlinkPopup:!1})},[ae,M,N]),ke=_(M,G),Oe=ke.x,Q=ke.y;return G.draggingElement||G.resizingElement||G.isRotating||G.openMenu?null:(0,S.jsxs)("div",{className:"excalidraw-hyperlinkContainer",style:{top:"".concat(Q,"px"),left:"".concat(Oe,"px"),width:320,padding:5},children:[N?(0,S.jsx)("input",{className:(0,te.Z)("excalidraw-hyperlinkContainer-input"),placeholder:"Type or paste your link here",ref:A,value:xe,onChange:function(Ce){return L(Ce.target.value)},autoFocus:!0,onKeyDown:function(Ce){Ce.stopPropagation(),Ce[pe.tW.CTRL_OR_CMD]&&Ce.key===pe.tW.K&&Ce.preventDefault(),Ce.key!==pe.tW.ENTER&&Ce.key!==pe.tW.ESCAPE||z()}}):(0,S.jsx)("a",{href:M.link||"",className:(0,te.Z)("excalidraw-hyperlinkContainer-link",{"d-none":N}),target:T(M.link)?"_self":"_blank",onClick:function(Ce){if(M.link&&ce){var Ne=(0,v.ag)(re.Ks.EXCALIDRAW_LINK,Ce.nativeEvent);ce(M,Ne),Ne.defaultPrevented&&Ce.preventDefault()}},rel:"noopener noreferrer",children:M.link}),(0,S.jsxs)("div",{className:"excalidraw-hyperlinkContainer__buttons",children:[!N&&(0,S.jsx)(y.V,{type:"button",title:(0,ie.t)("buttons.edit"),"aria-label":(0,ie.t)("buttons.edit"),label:(0,ie.t)("buttons.edit"),onClick:function(){(0,se.L)("hyperlink","edit","popup-ui"),ae({showHyperlinkPopup:"editor"})},className:"excalidraw-hyperlinkContainer--edit",icon:V.gR}),J&&(0,S.jsx)(y.V,{type:"button",title:(0,ie.t)("buttons.remove"),"aria-label":(0,ie.t)("buttons.remove"),label:(0,ie.t)("buttons.remove"),onClick:ee,className:"excalidraw-hyperlinkContainer--remove",icon:V._I})]})]})},_=function(b,M){var G=(0,ge.qf)(b),ae=(0,i.Z)(G,2),ce=ae[0],J=ae[1],Y=(0,v._i)({sceneX:ce+b.width/2,sceneY:J},M),oe=Y.x,xe=Y.y;return{x:oe-M.offsetLeft-160,y:xe-M.offsetTop-85}},E=function(b){return(b=b.trim())&&(b.includes("://")||/^[[\\/]/.test(b)||(b="https://".concat(b))),b},T=function(b){return!!(b!=null&&b.includes(location.origin)||b!=null&&b.startsWith("/"))},l=(0,j.z)({name:"hyperlink",perform:function(b,M){return M.showHyperlinkPopup!=="editor"&&{elements:b,appState:h(h({},M),{},{showHyperlinkPopup:"editor",openMenu:null}),commitToHistory:!0}},trackEvent:{category:"hyperlink",action:"click"},keyTest:function(b){return b[pe.tW.CTRL_OR_CMD]&&b.key===pe.tW.K},contextItemLabel:function(b,M){return m(b,M)},contextItemPredicate:function(b,M){return(0,ue.eD)(b,M).length===1},PanelComponent:function(b){var M=b.elements,G=b.appState,ae=b.updateData,ce=(0,ue.eD)(M,G);return(0,S.jsx)(y.V,{type:"button",icon:V.p4,"aria-label":(0,ie.t)(m(M,G)),title:"".concat((0,ie.t)("labels.link.label")," - ").concat((0,v.uY)("CtrlOrCmd+K")),onClick:function(){return ae(null)},selected:ce.length===1&&!!ce[0].link})}}),m=function(b,M){return(0,ue.eD)(b,M)[0].link?"labels.link.edit":"labels.link.create"},c=function(b,M,G){var ae=(0,i.Z)(b,4),ce=ae[0],J=ae[1],Y=ae[2],oe=ae[3],xe=fe.Dn,L=xe/G.zoom.value,A=xe/G.zoom.value,N=xe/G.zoom.value,z=(ce+Y)/2,ee=(J+oe)/2,ke=(xe-8)/(2*G.zoom.value),Oe=4/G.zoom.value,Q=Y+Oe-ke,Ce=J-Oe-N+ke,Ne=(0,W.U1)(Q+L/2,Ce+A/2,z,ee,M),ze=(0,i.Z)(Ne,2);return[ze[0]-L/2,ze[1]-A/2,L,A]},n=function(b,M,G,ae){var ce=(0,i.Z)(G,2),J=ce[0],Y=ce[1];if(!b.link||M.selectedElementIds[b.id])return!1;var oe=4/M.zoom.value;if(!ae&&M.viewModeEnabled&&(0,$.pX)(b,[J,Y],oe))return!0;var xe=(0,ge.qf)(b),L=(0,i.Z)(xe,4),A=L[0],N=L[1],z=L[2],ee=L[3],ke=c([A,N,z,ee],b.angle,M),Oe=(0,i.Z)(ke,4),Q=Oe[0],Ce=Oe[1],Ne=Oe[2],ze=Oe[3];return J>Q-oe&&J<Q+oe+Ne&&Y>Ce-oe&&Y<Ce+ze+oe},C=null,D=function(b,M){C&&clearTimeout(C),C=window.setTimeout(function(){return B(b,M)},re.sA)},B=function(b,M){if(b.link){var G=(0,ne.bK)();G.classList.add("excalidraw-tooltip--visible"),G.style.maxWidth="20rem",G.textContent=b.link;var ae=(0,ge.qf)(b),ce=(0,i.Z)(ae,4),J=ce[0],Y=ce[1],oe=ce[2],xe=ce[3],L=c([J,Y,oe,xe],b.angle,M),A=(0,i.Z)(L,4),N=A[0],z=A[1],ee=A[2],ke=A[3],Oe=(0,v._i)({sceneX:N,sceneY:z},M);(0,ne.Js)(G,{left:Oe.x,top:Oe.y,width:ee,height:ke},"top"),(0,se.L)("hyperlink","tooltip","link-icon"),O=!0}},U=function(){C&&clearTimeout(C),O&&(O=!1,(0,ne.bK)().classList.remove("excalidraw-tooltip--visible"))},R=function(b,M,G){var ae=(0,i.Z)(G,2),ce=ae[0],J=ae[1],Y=(0,v.dE)({clientX:ce,clientY:J},M),oe=Y.x,xe=Y.y,L=15/M.zoom.value;if((0,$.pX)(b,[oe,xe],L))return!1;var A=(0,ge.qf)(b),N=(0,i.Z)(A,3),z=N[0],ee=N[1],ke=N[2];if(oe>=z&&oe<=ke&&xe>=ee-85&&xe<=ee)return!1;var Oe=_(b,M),Q=Oe.x,Ce=Oe.y;return!(ce>=Q-L&&ce<=Q+320+10+L&&J>=Ce-L&&J<=Ce+L+10+42)}},8290:function(le,K,o){o.d(K,{$q:function(){return G},DK:function(){return h},H:function(){return u},HG:function(){return ne},N1:function(){return W},R:function(){return se},Ww:function(){return E},Y9:function(){return p},ZB:function(){return n},cz:function(){return fe},ek:function(){return b},el:function(){return $}});var x=o(7169),i=o(2577),v=o(75),g=o(1974),j=o(2325),y=o(1935),V=o(1564),ie=o(6938),I=o(6340),te=o(6066);function pe(J,Y){var oe=Object.keys(J);if(Object.getOwnPropertySymbols){var xe=Object.getOwnPropertySymbols(J);Y&&(xe=xe.filter(function(L){return Object.getOwnPropertyDescriptor(J,L).enumerable})),oe.push.apply(oe,xe)}return oe}var fe=function(J){return!J[te.tW.CTRL_OR_CMD]},W=function(J){return J.isBindingEnabled},re=function(J,Y){var oe=[];return Y.forEach(function(xe){var L=J.getNonDeletedElement(xe);L!=null&&oe.push(L)}),oe},ne=function(J,Y,oe){var xe=new Set,L=new Set;ue(J,Y,oe,"start",xe,L),ue(J,oe,Y,"end",xe,L);var A=Array.from(L).filter(function(N){return!xe.has(N)});re(V.Z.getScene(J),A).forEach(function(N){var z;(0,y.DR)(N,{boundElements:(z=N.boundElements)===null||z===void 0?void 0:z.filter(function(ee){return ee.type!=="arrow"||ee.id!==J.id})})})},ue=function(J,Y,oe,xe,L,A){if(Y!=="keep")if(Y!=null)oe!=null&&(oe==="keep"?F(J,Y,xe):xe!=="start"&&oe.id===Y.id)||(S(J,Y,xe),L.add(Y.id));else{var N=O(J,xe);N!=null&&A.add(N)}},$=function(J){J.forEach(function(Y){(0,g.Mn)(Y)?ne(Y,D(Y,"start"),D(Y,"end")):(0,g.f0)(Y)&&ge(Y)})},ge=function(J){U(J).forEach(function(Y){var oe=(0,i.Z)(Y,2),xe=oe[0],L=oe[1];return ne(xe,L==="end"?"keep":J,L==="start"?"keep":J)})},se=function(J,Y,oe,xe){Y.startBoundElement!=null&&S(J,Y.startBoundElement,"start");var L=p(xe,oe);L==null||F(J,L,"end")||S(J,L,"end")},S=function(J,Y,oe){(0,y.DR)(J,(0,x.Z)({},oe==="start"?"startBinding":"endBinding",function(xe){for(var L=1;L<arguments.length;L++){var A=arguments[L]!=null?arguments[L]:{};L%2?pe(Object(A),!0).forEach(function(N){(0,x.Z)(xe,N,A[N])}):Object.getOwnPropertyDescriptors?Object.defineProperties(xe,Object.getOwnPropertyDescriptors(A)):pe(Object(A)).forEach(function(N){Object.defineProperty(xe,N,Object.getOwnPropertyDescriptor(A,N))})}return xe}({elementId:Y.id},_(J,Y,oe)))),(0,I.xn)(Y.boundElements||[]).has(J.id)||(0,y.DR)(Y,{boundElements:(Y.boundElements||[]).concat({id:J.id,type:"arrow"})})},F=function(J,Y,oe){var xe=J[oe==="start"?"endBinding":"startBinding"];return h(J,xe==null?void 0:xe.elementId,Y)},h=function(J,Y,oe){return Y===oe.id&&J.points.length<3},u=function(J){J.forEach(function(Y){(0,g.Mn)(Y)&&ne(Y,null,null)})},O=function(J,Y){var oe=Y==="start"?"startBinding":"endBinding",xe=J[oe];return xe==null?null:((0,y.DR)(J,(0,x.Z)({},oe,null)),xe.elementId)},p=function(J,Y){return(0,v.QG)(Y.getNonDeletedElements(),function(oe){return(0,g.f0)(oe,!1)&&(0,j.uu)(oe,J)})},_=function(J,Y,oe){var xe=oe==="start"?-1:1,L=xe===-1?0:J.points.length-1,A=L-xe,N=ie._.getPointAtIndexGlobalCoordinates(J,L),z=ie._.getPointAtIndexGlobalCoordinates(J,A);return{focus:(0,j.T_)(Y,z,N),gap:Math.max(1,(0,j.oT)(Y,N))}},E=function(J,Y){var oe,xe=((oe=J.boundElements)!==null&&oe!==void 0?oe:[]).filter(function(ee){return ee.type==="arrow"});if(xe.length!==0){var L=Y??{},A=L.newSize,N=L.simultaneouslyUpdated,z=l(N);re(V.Z.getScene(J),xe.map(function(ee){return ee.id})).forEach(function(ee){if((0,g.bt)(ee)){var ke=J;if(T(ee,ke)){var Oe=c(ke,ee.startBinding,A),Q=c(ke,ee.endBinding,A);z.has(ee.id)?(0,y.DR)(ee,{startBinding:Oe,endBinding:Q}):(m(ee,"start",Oe,J),m(ee,"end",Q,J))}}})}},T=function(J,Y){var oe,xe;return((oe=J.startBinding)===null||oe===void 0?void 0:oe.elementId)===Y.id||((xe=J.endBinding)===null||xe===void 0?void 0:xe.elementId)===Y.id},l=function(J){return new Set((J||[]).map(function(Y){return Y.id}))},m=function(J,Y,oe,xe){if(!(oe==null||oe.elementId!==xe.id&&J.points.length>2)){var L=V.Z.getScene(J).getElement(oe.elementId);if(L!=null){var A,N=Y==="start"?-1:1,z=N===-1?0:J.points.length-1,ee=z-N,ke=ie._.getPointAtIndexGlobalCoordinates(J,ee),Oe=(0,j.j_)(L,oe.focus,ke);if(oe.gap===0)A=Oe;else{var Q=(0,j.MZ)(L,ke,Oe,oe.gap);A=Q.length===0?Oe:Q[0]}ie._.movePoints(J,[{index:z,point:ie._.pointFromAbsoluteCoords(J,A)}],(0,x.Z)({},Y==="start"?"startBinding":"endBinding",oe))}}},c=function(J,Y,oe){if(Y==null||oe==null)return Y;var xe=Y.gap,L=Y.focus,A=Y.elementId,N=oe.width,z=oe.height,ee=J.width,ke=J.height;return{elementId:A,gap:Math.max(1,Math.min((0,j.fb)(J,N,z),xe*(N<z?N/ee:z/ke))),focus:L}},n=function(J){var Y=new Set(J.map(function(oe){return oe.id}));return J.flatMap(function(oe){return(0,g.Mn)(oe,!1)?C(oe).filter(function(xe){return!Y.has(xe.id)}):(0,g.f0)(oe,!1)?U(oe).filter(function(xe){return!Y.has(xe[0].id)}):[]})},C=function(J){return[D(J,"start"),D(J,"end")].filter(function(Y){return Y!=null})},D=function(J,Y){return p(B(J,Y),V.Z.getScene(J))},B=function(J,Y){var oe=Y==="start"?0:-1;return(0,I.AK)(ie._.getPointAtIndexGlobalCoordinates(J,oe))},U=function(J){return V.Z.getScene(J).getNonDeletedElements().map(function(Y){if(!(0,g.Mn)(Y,!1))return null;var oe=R(Y,"start",J),xe=R(Y,"end",J);return oe||xe?[Y,oe&&xe?"both":oe?"start":"end",J]:null}).filter(function(Y){return Y!=null})},R=function(J,Y,oe){return J[Y==="start"?"startBinding":"endBinding"]==null&&!F(J,oe,Y)&&(0,j.uu)(oe,B(J,Y))},b=function(J,Y,oe,xe){var L=new Set,A=new Set,N=xe==="duplicatesServeAsOld";Y.forEach(function(z){var ee=z.boundElements;if(ee!=null&&ee.length>0&&(ee.forEach(function(Q){N&&!oe.has(Q.id)&&L.add(Q.id)}),A.add(oe.get(z.id))),(0,g.Mn)(z)){if(z.startBinding!=null){var ke=z.startBinding.elementId;N&&!oe.has(ke)&&A.add(ke)}if(z.endBinding!=null){var Oe=z.endBinding.elementId;N&&!oe.has(Oe)&&A.add(Oe)}z.startBinding==null&&z.endBinding==null||L.add(oe.get(z.id))}}),J.filter(function(z){var ee=z.id;return L.has(ee)}).forEach(function(z){var ee=z.startBinding,ke=z.endBinding;(0,y.DR)(z,{startBinding:M(ee,oe),endBinding:M(ke,oe)})}),J.filter(function(z){var ee=z.id;return A.has(ee)}).forEach(function(z){var ee=z.boundElements;ee!=null&&ee.length>0&&(0,y.DR)(z,{boundElements:ee.map(function(ke){return oe.has(ke.id)?{id:oe.get(ke.id),type:ke.type}:ke})})})},M=function(J,Y){var oe;if(J==null)return null;var xe=J.elementId;return{focus:J.focus,gap:J.gap,elementId:(oe=Y.get(xe))!==null&&oe!==void 0?oe:xe}},G=function(J,Y){var oe=new Set(Y.map(function(L){return L.id})),xe=new Set;Y.forEach(function(L){var A;(0,g.f0)(L)?(A=L.boundElements)===null||A===void 0||A.forEach(function(N){oe.has(N.id)||xe.add(N.id)}):(0,g.Mn)(L)&&(L.startBinding&&xe.add(L.startBinding.elementId),L.endBinding&&xe.add(L.endBinding.elementId))}),J.filter(function(L){var A=L.id;return xe.has(A)}).forEach(function(L){(0,g.f0)(L)?(0,y.DR)(L,{boundElements:ce(L.boundElements,oe)}):(0,g.Mn)(L)&&(0,y.DR)(L,{startBinding:ae(L.startBinding,oe),endBinding:ae(L.endBinding,oe)})})},ae=function(J,Y){return J==null||Y.has(J.elementId)?null:J},ce=function(J,Y){return J?J.filter(function(oe){return!Y.has(oe.id)}):null}},8925:function(le,K,o){o.d(K,{CM:function(){return pe},KP:function(){return ge},Pi:function(){return $},UC:function(){return te},Ut:function(){return S},Y5:function(){return ue},os:function(){return F},qf:function(){return I},v2:function(){return h},wC:function(){return se}});var x=o(2577),i=o(6552),v=o(8234),g=o(3063),j=o(1974),y=o(5001);function V(u,O){var p=typeof Symbol<"u"&&u[Symbol.iterator]||u["@@iterator"];if(!p){if(Array.isArray(u)||(p=function(c,n){if(c){if(typeof c=="string")return ie(c,n);var C=Object.prototype.toString.call(c).slice(8,-1);if(C==="Object"&&c.constructor&&(C=c.constructor.name),C==="Map"||C==="Set")return Array.from(c);if(C==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(C))return ie(c,n)}}(u))||O&&u&&typeof u.length=="number"){p&&(u=p);var _=0,E=function(){};return{s:E,n:function(){return _>=u.length?{done:!0}:{done:!1,value:u[_++]}},e:function(c){throw c},f:E}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var T,l=!0,m=!1;return{s:function(){p=p.call(u)},n:function(){var c=p.next();return l=c.done,c},e:function(c){m=!0,T=c},f:function(){try{l||p.return==null||p.return()}finally{if(m)throw T}}}}function ie(u,O){(O==null||O>u.length)&&(O=u.length);for(var p=0,_=new Array(O);p<O;p++)_[p]=u[p];return _}var I=function(u){return(0,j.F9)(u)?re(u):(0,j.bt)(u)?ne(u):[u.x,u.y,u.x+u.width,u.y+u.height]},te=function(u){var O=Math.floor(u.width/2)+1,p=u.width,_=Math.floor(u.height/2)+1;return[O,0,p,_,O,u.height,0,_]},pe=function(u){var O,p=V(u.sets);try{for(p.s();!(O=p.n()).done;){var _=O.value;if(_.type==="path")return _.ops}}catch(E){p.e(E)}finally{p.f()}return u.sets[0].ops},fe=function(u,O){var p=[0,0],_=u.reduce(function(E,T){var l=T.op,m=T.data;if(l==="move")p=m;else if(l==="bcurveTo"){var c=[m[0],m[1]],n=[m[2],m[3]],C=[m[4],m[5]],D=p;p=C;for(var B=function(ae,ce){return Math.pow(1-ae,3)*C[ce]+3*ae*Math.pow(1-ae,2)*n[ce]+3*Math.pow(ae,2)*(1-ae)*c[ce]+D[ce]*Math.pow(ae,3)},U=0;U<=1;){var R=B(U,0),b=B(U,1);if(O){var M=O(R,b),G=(0,x.Z)(M,2);R=G[0],b=G[1]}E.minY=Math.min(E.minY,b),E.minX=Math.min(E.minX,R),E.maxX=Math.max(E.maxX,R),E.maxY=Math.max(E.maxY,b),U+=.1}}return E},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});return[_.minX,_.minY,_.maxX,_.maxY]},W=function(u){var O,p=1/0,_=1/0,E=-1/0,T=-1/0,l=V(u);try{for(l.s();!(O=l.n()).done;){var m=(0,x.Z)(O.value,2),c=m[0],n=m[1];p=Math.min(p,c),_=Math.min(_,n),E=Math.max(E,c),T=Math.max(T,n)}}catch(C){l.e(C)}finally{l.f()}return[p,_,E,T]},re=function(u){var O=W(u.points),p=(0,x.Z)(O,4),_=p[0],E=p[1],T=p[2],l=p[3];return[_+u.x,E+u.y,T+u.x,l+u.y]},ne=function(u){var O;if(u.points.length<2||!(0,g.R2)(u)){var p=u.points.reduce(function(b,M){var G=(0,x.Z)(M,2),ae=G[0],ce=G[1];return b.minY=Math.min(b.minY,ce),b.minX=Math.min(b.minX,ae),b.maxX=Math.max(b.maxX,ae),b.maxY=Math.max(b.maxY,ce),b},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}),_=p.minX,E=p.minY,T=p.maxX,l=p.maxY;O=[_+u.x,E+u.y,T+u.x,l+u.y]}else{var m=(0,g.R2)(u),c=pe(m[0]),n=fe(c),C=(0,x.Z)(n,4),D=C[0],B=C[1],U=C[2],R=C[3];O=[D+u.x,B+u.y,U+u.x,R+u.y]}return O},ue=function(u,O,p,_){var E=pe(O[0]);if(E.length<1)return null;var T=p==="start"?1:E.length-1,l=E[T].data,m=[l[4],l[5]],c=[l[2],l[3]],n=[l[0],l[1]],C=E[T-1],D=[0,0];C.op==="move"?D=C.data:C.op==="bcurveTo"&&(D=[C.data[4],C.data[5]]);var B=function(Me,Te){return Math.pow(1-Me,3)*m[Te]+3*Me*Math.pow(1-Me,2)*c[Te]+3*Math.pow(Me,2)*(1-Me)*n[Te]+D[Te]*Math.pow(Me,3)},U=p==="start"?D:m,R=(0,x.Z)(U,2),b=R[0],M=R[1],G=[B(.3,0),B(.3,1)],ae=G[0],ce=G[1],J=Math.hypot(b-ae,M-ce),Y=(b-ae)/J,oe=(M-ce)/J,xe={arrow:30,bar:15,dot:15,triangle:15}[_],L=0;if(_==="arrow"){var A=(0,x.Z)(u.points[u.points.length-1],2),N=A[0],z=A[1],ee=u.points.length>1?u.points[u.points.length-2]:[0,0],ke=(0,x.Z)(ee,2),Oe=ke[0],Q=ke[1];L=Math.hypot(N-Oe,z-Q)}else for(var Ce=0;Ce<u.points.length;Ce++){var Ne=u.points[Ce-1]||[0,0],ze=(0,x.Z)(Ne,2),ot=ze[0],P=ze[1],ye=(0,x.Z)(u.points[Ce],2),me=ye[0],Pe=ye[1];L+=Math.hypot(me-ot,Pe-P)}var Ze=Math.min(xe,L/2),Je=b-Y*Ze,nt=M-oe*Ze;if(_==="dot")return[b,M,Math.hypot(nt-M,Je-b)+u.strokeWidth];var ft={arrow:20,bar:90,triangle:25}[_],pt=(0,i.U1)(Je,nt,b,M,-ft*Math.PI/180),et=(0,x.Z)(pt,2),he=et[0],de=et[1],_e=(0,i.U1)(Je,nt,b,M,ft*Math.PI/180),we=(0,x.Z)(_e,2);return[b,M,he,de,we[0],we[1]]},$=function(u){var O,p=I(u),_=(0,x.Z)(p,4),E=_[0],T=_[1],l=_[2],m=_[3],c=(E+l)/2,n=(T+m)/2;if((0,j.F9)(u)){var C=W(u.points.map(function(We){var Ge=(0,x.Z)(We,2),it=Ge[0],Re=Ge[1];return(0,i.U1)(it,Re,c-u.x,n-u.y,u.angle)})),D=(0,x.Z)(C,4),B=D[0],U=D[1],R=D[2],b=D[3];return[B+u.x,U+u.y,R+u.x,b+u.y]}if((0,j.bt)(u))O=function(We,Ge,it){if(We.points.length<2||!(0,g.R2)(We)){var Re=We.points.reduce(function(st,Ot){var gt=(0,x.Z)(Ot,2),kt=gt[0],It=gt[1],Mt=(0,i.U1)(We.x+kt,We.y+It,Ge,it,We.angle),Zt=(0,x.Z)(Mt,2);return kt=Zt[0],It=Zt[1],st.minY=Math.min(st.minY,It),st.minX=Math.min(st.minX,kt),st.maxX=Math.max(st.maxX,kt),st.maxY=Math.max(st.maxY,It),st},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});return[Re.minX,Re.minY,Re.maxX,Re.maxY]}var Xe=(0,g.R2)(We),xt=pe(Xe[0]);return fe(xt,function(st,Ot){return(0,i.U1)(We.x+st,We.y+Ot,Ge,it,We.angle)})}(u,c,n);else if(u.type==="diamond"){var M=(0,i.U1)(c,T,c,n,u.angle),G=(0,x.Z)(M,2),ae=G[0],ce=G[1],J=(0,i.U1)(c,m,c,n,u.angle),Y=(0,x.Z)(J,2),oe=Y[0],xe=Y[1],L=(0,i.U1)(E,n,c,n,u.angle),A=(0,x.Z)(L,2),N=A[0],z=A[1],ee=(0,i.U1)(l,n,c,n,u.angle),ke=(0,x.Z)(ee,2),Oe=ke[0],Q=ke[1];O=[Math.min(ae,oe,N,Oe),Math.min(ce,xe,z,Q),Math.max(ae,oe,N,Oe),Math.max(ce,xe,z,Q)]}else if(u.type==="ellipse"){var Ce=(l-E)/2,Ne=(m-T)/2,ze=Math.cos(u.angle),ot=Math.sin(u.angle),P=Math.hypot(Ce*ze,Ne*ot),ye=Math.hypot(Ne*ze,Ce*ot);O=[c-P,n-ye,c+P,n+ye]}else{var me=(0,i.U1)(E,T,c,n,u.angle),Pe=(0,x.Z)(me,2),Ze=Pe[0],Je=Pe[1],nt=(0,i.U1)(E,m,c,n,u.angle),ft=(0,x.Z)(nt,2),pt=ft[0],et=ft[1],he=(0,i.U1)(l,m,c,n,u.angle),de=(0,x.Z)(he,2),_e=de[0],we=de[1],Me=(0,i.U1)(l,T,c,n,u.angle),Te=(0,x.Z)(Me,2),Le=Te[0],Be=Te[1];O=[Math.min(Ze,pt,_e,Le),Math.min(Je,et,we,Be),Math.max(Ze,pt,_e,Le),Math.max(Je,et,we,Be)]}return O},ge=function(u){if(!u.length)return[0,0,0,0];var O=1/0,p=-1/0,_=1/0,E=-1/0;return u.forEach(function(T){var l=$(T),m=(0,x.Z)(l,4),c=m[0],n=m[1],C=m[2],D=m[3];O=Math.min(O,c),_=Math.min(_,n),p=Math.max(p,C),E=Math.max(E,D)}),[O,_,p,E]},se=function(u,O,p){if(!(0,j.bt)(u)&&!(0,j.F9)(u))return[u.x,u.y,u.x+O,u.y+p];var _,E=(0,y.z)(0,O,(0,y.z)(1,p,u.points));if((0,j.F9)(u))_=W(E);else{var T=v.Z.generator(),l=u.strokeSharpness==="sharp"?T.linearPath(E,(0,g.i)(u)):T.curve(E,(0,g.i)(u)),m=pe(l);_=fe(m)}var c=_,n=(0,x.Z)(c,4),C=n[0],D=n[1],B=n[2],U=n[3];return[C+u.x,D+u.y,B+u.x,U+u.y]},S=function(u,O,p){var _=v.Z.generator(),E=p==="sharp"?_.linearPath(O,(0,g.i)(u)):_.curve(O,(0,g.i)(u)),T=pe(E),l=fe(T),m=(0,x.Z)(l,4),c=m[0],n=m[1],C=m[2],D=m[3];return[c+u.x,n+u.y,C+u.x,D+u.y]},F=function(u,O){if(!u.length)return[0,0,0,0];var p=1/0,_=u[0];return u.forEach(function(E){var T=$(E),l=(0,x.Z)(T,4),m=l[0],c=l[1],n=l[2],C=l[3],D=(0,i.LW)((m+n)/2,(c+C)/2,O.x,O.y);D<p&&(p=D,_=E)}),$(_)},h=function(u){var O=ge(u),p=(0,x.Z)(O,4),_=p[0],E=p[1],T=p[2],l=p[3];return{minX:_,minY:E,maxX:T,maxY:l,width:T-_,height:l-E,midX:(_+T)/2,midY:(E+l)/2}}},2325:function(le,K,o){o.d(K,{uu:function(){return M},T_:function(){return Ne},j_:function(){return ze},oT:function(){return ce},wX:function(){return D},MZ:function(){return ot},wB:function(){return B},Qu:function(){return U},pX:function(){return b},fb:function(){return G}});var x=o(2577),i=function(he,de){return[0,0,0,0,de,he,1,0]},v=function(){var he=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,de=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,_e=[0,0,0,0,0,0,0,0];if(de<0||de>7)throw new Error("Expected `index` between 0 and 7, got `".concat(de,"`"));return he!==0&&(_e[de]=he),_e},g=function(he){return[he[0],he[1],he[2],he[3],-he[4],-he[5],-he[6],-he[7]]},j=function(he,de){return W(de)?[he[0]-de,he[1],he[2],he[3],he[4],he[5],he[6],he[7]]:[he[0]-de[0],he[1]-de[1],he[2]-de[2],he[3]-de[3],he[4]-de[4],he[5]-de[5],he[6]-de[6],he[7]-de[7]]},y=function(he,de){return W(de)?[he[0]*de,he[1]*de,he[2]*de,he[3]*de,he[4]*de,he[5]*de,he[6]*de,he[7]*de]:[V(he,de),de[1]*he[0]+de[0]*he[1]-de[4]*he[2]+de[5]*he[3]+de[2]*he[4]-de[3]*he[5]-de[7]*he[6]-de[6]*he[7],de[2]*he[0]+de[0]*he[2]-de[6]*he[3]+de[3]*he[6],de[3]*he[0]+de[6]*he[2]+de[0]*he[3]-de[2]*he[6],de[4]*he[0]+de[2]*he[1]-de[1]*he[2]+de[7]*he[3]+de[0]*he[4]+de[6]*he[5]-de[5]*he[6]+de[3]*he[7],de[5]*he[0]-de[3]*he[1]+de[7]*he[2]+de[1]*he[3]-de[6]*he[4]+de[0]*he[5]+de[4]*he[6]+de[2]*he[7],de[6]*he[0]+de[3]*he[2]-de[2]*he[3]+de[0]*he[6],de[7]*he[0]+de[6]*he[1]+de[5]*he[2]+de[4]*he[3]+de[3]*he[4]+de[2]*he[5]+de[1]*he[6]+de[0]*he[7]]},V=function(he,de){return de[0]*he[0]+de[2]*he[2]+de[3]*he[3]-de[6]*he[6]},ie=function(he,de){return[I(he,de),he[1]*de[7]+he[4]*de[5]-he[5]*de[4]+he[7]*de[1],he[2]*de[7]-he[4]*de[6]+he[6]*de[4]+he[7]*de[2],he[3]*de[7]+he[5]*de[6]-he[6]*de[5]+he[7]*de[3],he[4]*de[7]+he[7]*de[4],he[5]*de[7]+he[7]*de[5],he[6]*de[7]+he[7]*de[6],he[7]*de[7]]},I=function(he,de){return he[0]*de[7]+he[1]*de[6]+he[2]*de[5]+he[3]*de[4]+he[4]*de[3]+he[5]*de[2]+he[6]*de[1]+he[7]*de[0]},te=function(he){return Math.sqrt(Math.abs(he[0]*he[0]-he[2]*he[2]-he[3]*he[3]+he[6]*he[6]))},pe=function(he){var de=te(he);if(de===0||de===1)return he;var _e=he[6]<0?-1:1;return y(he,_e/de)},fe=function(he){var de=function(_e){return Math.sqrt(Math.abs(_e[7]*_e[7]-_e[5]*_e[5]-_e[4]*_e[4]+_e[1]*_e[1]))}(he);return de===0||de===1?he:y(he,1/de)},W=function(he){return typeof he=="number"},re=(v(1,1),v(1,2),v(1,3),v(1,4),v(1,5),v(1,6),v(1,7),function(he,de,_e){return pe([0,_e,he,de,0,0,0,0])}),ne=function(he,de){return pe(ie(de,he))},ue=function(he,de){return _e=he,[(we=de)[0]*_e[0]+we[2]*_e[2]+we[3]*_e[3]-we[6]*_e[6],we[1]*_e[0]+we[0]*_e[1]-we[4]*_e[2]+we[5]*_e[3]+we[2]*_e[4]-we[3]*_e[5]-we[7]*_e[6]-we[6]*_e[7],we[2]*_e[0]+we[0]*_e[2]-we[6]*_e[3]+we[3]*_e[6],we[3]*_e[0]+we[6]*_e[2]+we[0]*_e[3]-we[2]*_e[6],we[4]*_e[0]+we[7]*_e[3]+we[0]*_e[4]+we[3]*_e[7],we[5]*_e[0]+we[7]*_e[2]+we[0]*_e[5]+we[2]*_e[7],we[6]*_e[0]+we[0]*_e[6],we[7]*_e[0]+we[0]*_e[7]];var _e,we},$=function(he){var de=(0,x.Z)(he,2),_e=de[0];return[0,0,0,0,de[1],_e,1,0]},ge=function(he){return[he[5],he[4]]},se=function(he,de){return pe((_e=he,[(we=de)[0]*_e[0],we[1]*_e[0]+we[0]*_e[1],we[2]*_e[0]+we[0]*_e[2],we[3]*_e[0]+we[0]*_e[3],we[4]*_e[0]+we[2]*_e[1]-we[1]*_e[2]+we[0]*_e[4],we[5]*_e[0]-we[3]*_e[1]+we[1]*_e[3]+we[0]*_e[5],we[6]*_e[0]+we[3]*_e[2]-we[2]*_e[3]+we[0]*_e[6],we[7]*_e[0]+we[6]*_e[1]+we[5]*_e[2]+we[4]*_e[3]+we[3]*_e[4]+we[2]*_e[5]+we[1]*_e[6]]));var _e,we},S=function(he,de){return te(ie(he,de))},F=function(he,de){return I(he,de)},h=function(he){return[0,0,0,0,he[4],he[5],0,0]},u=function(he,de){return _e=y(he,Math.sin(de/2)),we=Math.cos(de/2),W(we)?[_e[0]+we,_e[1],_e[2],_e[3],_e[4],_e[5],_e[6],_e[7]]:[_e[0]+we[0],_e[1]+we[1],_e[2]+we[2],_e[3]+we[3],_e[4]+we[4],_e[5]+we[5],_e[6]+we[6],_e[7]+we[7]];var _e,we},O=function(he,de){return pe(y(y(he,de),g(he)))},p=o(6552),_=o(1493),E=o(8925),T=o(3063),l=o(1974),m=o(5118),c=o(6340);function n(he,de){var _e=typeof Symbol<"u"&&he[Symbol.iterator]||he["@@iterator"];if(!_e){if(Array.isArray(he)||(_e=function(We,Ge){if(We){if(typeof We=="string")return C(We,Ge);var it=Object.prototype.toString.call(We).slice(8,-1);if(it==="Object"&&We.constructor&&(it=We.constructor.name),it==="Map"||it==="Set")return Array.from(We);if(it==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(it))return C(We,Ge)}}(he))||de&&he&&typeof he.length=="number"){_e&&(he=_e);var we=0,Me=function(){};return{s:Me,n:function(){return we>=he.length?{done:!0}:{done:!1,value:he[we++]}},e:function(We){throw We},f:Me}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Te,Le=!0,Be=!1;return{s:function(){_e=_e.call(he)},n:function(){var We=_e.next();return Le=We.done,We},e:function(We){Be=!0,Te=We},f:function(){try{Le||_e.return==null||_e.return()}finally{if(Be)throw Te}}}}function C(he,de){(de==null||de>he.length)&&(de=he.length);for(var _e=0,we=new Array(de);_e<de;_e++)we[_e]=he[_e];return we}var D=function(he,de,_e,we){var Me=10/de.zoom.value,Te=[_e,we];return R(de,he)?b(he,Te,Me):U(he,de,Te)},B=function(he,de,_e,we){var Me=10/de.zoom.value;return!U(he,de,[_e,we])&&b(he,[_e,we],Me)},U=function(he,de,_e){var we=10/de.zoom.value,Me=(0,m.iB)(he)?J:function(Te){if(Te.type==="arrow")return!1;if(Te.type==="freedraw")return!0;var Le=!(0,c.Qm)(Te.backgroundColor)||(0,l.Xo)(Te);return Te.type==="line"?Le&&(0,p.g6)(Te.points):Le||(0,l.pC)(Te)}(he)?Y:oe;return ae({element:he,point:_e,threshold:we,check:Me})},R=function(he,de){return he.selectedElementIds[de.id]},b=function(he,de,_e){var we=(0,x.Z)(de,2),Me=we[0],Te=we[1],Le=(0,E.qf)(he),Be=(0,x.Z)(Le,4),We=Be[0],Ge=Be[1],it=Be[2],Re=Be[3],Xe=(We+it)/2,xt=(Ge+Re)/2,st=(0,p.U1)(Me,Te,Xe,xt,-he.angle),Ot=(0,x.Z)(st,2),gt=Ot[0],kt=Ot[1];return gt>We-_e&&gt<it+_e&&kt>Ge-_e&&kt<Re+_e},M=function(he,de){var _e=de.x,we=de.y,Me=G(he,he.width,he.height);return ae({element:he,point:[_e,we],threshold:Me,check:xe})},G=function(he,de,_e){var we=(he.type==="diamond"?1/Math.sqrt(2):1)*Math.min(de,_e);return Math.max(16,Math.min(.25*we,32))},ae=function(he){switch(he.element.type){case"rectangle":case"image":case"text":case"diamond":case"ellipse":var de=ce(he.element,he.point);return he.check(de,he.threshold);case"freedraw":return!!he.check(L(he.element,he.point),he.threshold)&&ee(he.element,he.point,he.threshold);case"arrow":case"line":return ke(he);case"selection":return console.warn("This should not happen, we need to investigate why it does."),!1}},ce=function(he,de){switch(he.type){case"rectangle":case"image":case"text":return L(he,de);case"diamond":return A(he,de);case"ellipse":return N(he,de)}},J=function(he,de){return he<0},Y=function(he,de){return he<de},oe=function(he,de){return Math.abs(he)<de},xe=function(he,de){return 0<=he&&he<de},L=function(he,de){var _e=Oe(he,de),we=(0,x.Z)(_e,4),Me=we[1],Te=we[2],Le=we[3];return Math.max(F(Me,re(0,1,-Le)),F(Me,re(1,0,-Te)))},A=function(he,de){var _e=Oe(he,de),we=(0,x.Z)(_e,4),Me=we[1],Te=we[2],Le=we[3],Be=re(Le,Te,-Le*Te);return F(Me,Be)},N=function(he,de){var _e,we=z(he,de),Me=(0,x.Z)(we,2),Te=Me[0],Le=Me[1];return _e=Le,-Math.sign(_e[1])*F(Te,Le)},z=function(he,de){var _e=Oe(he,de),we=(0,x.Z)(_e,4),Me=we[1],Te=we[2],Le=we[3],Be=ge(Me),We=(0,x.Z)(Be,2),Ge=We[0],it=We[1],Re=.707,Xe=.707,xt=Te,st=Le;[0,1,2,3].forEach(function(kt){var It=xt*Re,Mt=st*Xe,Zt=(xt*xt-st*st)*Math.pow(Re,3)/xt,Nt=(st*st-xt*xt)*Math.pow(Xe,3)/st,Ft=It-Zt,on=Mt-Nt,Rt=Ge-Zt,qt=it-Nt,Ht=Math.hypot(on,Ft),sn=Math.hypot(qt,Rt);Re=Math.min(1,Math.max(0,(Rt*Ht/sn+Zt)/xt)),Xe=Math.min(1,Math.max(0,(qt*Ht/sn+Nt)/st));var wn=Math.hypot(Xe,Re);Re/=wn,Xe/=wn});var Ot,gt=i(xt*Re,st*Xe);return[Me,ue(ne(Me,Ot=gt),Ot)]},ee=function(he,de,_e){var we,Me;if(he.angle===0)we=de[0]-he.x,Me=de[1]-he.y;else{var Te=(0,E.qf)(he),Le=(0,x.Z)(Te,4),Be=Le[0],We=Le[1],Ge=Le[2],it=Le[3],Re=(0,p.xj)(de,[Be+(Ge-Be)/2,We+(it-We)/2],-he.angle);we=Re[0]-he.x,Me=Re[1]-he.y}var Xe,xt=(0,x.Z)(he.points,2),st=xt[0],Ot=xt[1];if((0,p.LW)(st[0],st[1],we,Me)<_e||(0,p.LW)(Ot[0],Ot[1],we,Me)<_e)return!0;for(var gt=0;gt<he.points.length;gt++){var kt=[Ot[0]-st[0],Ot[1]-st[1]],It=Math.hypot(kt[1],kt[0]),Mt=[kt[0]/It,kt[1]/It],Zt=[we-st[0],Me-st[1]],Nt=(Zt[0]*Mt[0]+Zt[1]*Mt[1])/Math.hypot(Mt[1],Mt[0]);Xe=[st[0]+Mt[0]*Nt,st[1]+Mt[1]*Nt];var Ft=(0,p.LW)(Xe[0],Xe[1],st[0],st[1]),on=(0,p.LW)(Xe[0],Xe[1],Ot[0],Ot[1]);if(Xe=on<Ft&&Ft>It?Ot:Ft<on&&on>It?st:Xe,Math.hypot(Me-Xe[1],we-Xe[0])<_e)return!0;st=Ot,Ot=he.points[gt+1]}var Rt=(0,T.R2)(he);return!(!Rt||!Rt.sets.length)&&et(Rt,we,Me,_e)},ke=function(he){var de=he.element,_e=he.threshold;if(!(0,T.R2)(de))return!1;var we=Oe(he.element,he.point),Me=(0,x.Z)(we,4),Te=Me[0],Le=Me[1],Be=Me[2],We=Me[3],Ge=re(0,1,-We),it=re(1,0,-Be);if(!Y(F(Le,Ge),_e)||!Y(F(Le,it),_e))return!1;var Re=ge(Te),Xe=(0,x.Z)(Re,2),xt=Xe[0],st=Xe[1],Ot=(0,T.R2)(de);return Ot?he.check===Y&&Ot.some(function(gt){return pt(gt,xt,st,de.strokeSharpness)})?!0:Ot.some(function(gt){return et(gt,xt,st,_e)}):!1},Oe=function(he,de){var _e,we=$(de),Me=(0,E.qf)(he),Te=Ce(Me),Le=u(Te,he.angle),Be=O(Le,we),We=function(st){return[0,0,0,0,Math.abs(st[4]),Math.abs(st[5]),1,0]}(j(Be,h(Te))),Ge=(_e=he.x,[0,0,0,0,he.y,_e,0,0]),it=j(Be,Ge),Re=(0,x.Z)(Me,4),Xe=Re[0],xt=Re[1];return[it,We,(Re[2]-Xe)/2,(Re[3]-xt)/2]},Q=function(he){var de=(0,E.qf)(he),_e=Ce(de),we=u(_e,he.angle),Me=g(function(Te){return[1,0,0,0,-.5*Te[5],.5*Te[4],0,0]}(h(_e)));return y(Me,we)},Ce=function(he){var de=(0,x.Z)(he,4),_e=de[0],we=de[1],Me=de[2],Te=de[3];return i((_e+Me)/2,(we+Te)/2)},Ne=function(he,de,_e){var we=Q(he),Me=O(we,$(de)),Te=O(we,$(_e)),Le=ne(Me,Te),Be=he.height/he.width,We=he.width/2,Ge=he.height/2,it=Le[2],Re=Le[3],Xe=Le[1],xt=Math.abs(Re),st=Math.abs(it);switch(he.type){case"rectangle":case"image":case"text":return Xe/(We*(st+Be*xt));case"diamond":return xt<st?Xe/(st*We):Xe/(xt*Ge);case"ellipse":return Xe/(We*Math.sqrt(Math.pow(it,2)+Math.pow(Be,2)*Math.pow(Re,2)))}},ze=function(he,de,_e){if(de===0){var we=(0,E.qf)(he),Me=Ce(we);return ge(Me)}var Te,Le=Q(he),Be=O(Le,$(_e)),We=g(Le);switch(he.type){case"rectangle":case"image":case"text":case"diamond":Te=ft(he,de,Be);break;case"ellipse":Te=nt(he,de,Be)}return ge(O(We,Te))},ot=function(he,de,_e){var we=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,Me=Q(he),Te=O(Me,$(de)),Le=O(Me,$(_e)),Be=ne(Te,Le),We=g(Me),Ge=P(he,Be,Te,we);return Ge.map(function(it){return ge(O(We,it))})},P=function(he,de,_e){var we,Me=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;switch(he.type){case"rectangle":case"image":case"text":case"diamond":var Te=ye(he);we=Te.flatMap(function(Be,We){var Ge=[Be,Te[(We+1)%4]];return me(de,Pe(Ge,Me))}).concat(Te.flatMap(function(Be){return Je(Be,Me,de)}));break;case"ellipse":we=Ze(he,Me,de)}if(we.length<2)return[];var Le=we.sort(function(Be,We){return S(Be,_e)-S(We,_e)});return[Le[0],Le[Le.length-1]]},ye=function(he){var de=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,_e=de*he.width/2,we=de*he.height/2;switch(he.type){case"rectangle":case"image":case"text":return[i(_e,we),i(_e,-we),i(-_e,-we),i(-_e,we)];case"diamond":return[i(0,we),i(_e,0),i(0,-we),i(-_e,0)]}},me=function(he,de){var _e=(0,x.Z)(de,2),we=_e[0],Me=_e[1];return F(we,he)*F(Me,he)>=0?[]:[se(he,ne(we,Me))]},Pe=function(he,de){var _e=(0,x.Z)(he,2),we=_e[0],Me=_e[1],Te=function(Le,Be){var We=.5*Be;return[1,0,0,0,We*Le[4],We*Le[5],0,0]}(function(Le,Be){return fe([0,0,0,0,Be[4]-Le[4],Be[5]-Le[5],0,0])}(we,Me),de);return[O(Te,we),O(Te,Me)]},Ze=function(he,de,_e){var we=he.width/2+de,Me=he.height/2+de,Te=_e[2],Le=_e[3],Be=_e[1],We=we*we*Te*Te+Me*Me*Le*Le,Ge=We-Be*Be;if(We===0||Ge<=0)return[];var it=Math.sqrt(Ge),Re=-we*we*Te*Be,Xe=-Me*Me*Le*Be;return[i((Re+we*Me*Le*it)/We,(Xe-we*Me*Te*it)/We),i((Re-we*Me*Le*it)/We,(Xe+we*Me*Te*it)/We)]},Je=function(he,de,_e){if(de===0)return F(_e,he)===0?[he]:[];var we=_e[2],Me=_e[3],Te=_e[1],Le=ge(he),Be=(0,x.Z)(Le,2),We=Be[0],Ge=Be[1],it=we*we+Me*Me,Re=de*de*it-Math.pow(we*We+Me*Ge+Te,2);if(it===0||Re<=0)return[];var Xe=Math.sqrt(Re),xt=We*Me*Me-Ge*we*Me-we*Te,st=Ge*we*we-We*we*Me-Me*Te;return[i((xt+Me*Xe)/it,(st-we*Xe)/it),i((xt-Me*Xe)/it,(st+we*Xe)/it)]},nt=function(he,de,_e){var we=Math.abs(de),Me=he.width*we/2,Te=he.height*we/2,Le=Math.sign(de),Be=ge(_e),We=(0,x.Z)(Be,2),Ge=We[0],it=We[1],Re=it===0?1e-4:it,Xe=Math.pow(Ge,2)*Math.pow(Te,2)+Math.pow(Re,2)*Math.pow(Me,2),xt=(-Ge*Math.pow(Te,2)+Le*Re*Math.sqrt(Math.max(0,Xe-Math.pow(Me,2)*Math.pow(Te,2))))/Xe,st=(-xt*Ge-1)/Re,Ot=-Math.pow(Me,2)*xt/(Math.pow(st,2)*Math.pow(Te,2)+Math.pow(xt,2)*Math.pow(Me,2));return i(Ot,(-xt*Ot-1)/st)},ft=function(he,de,_e){var we=Math.abs(de),Me=Math.sign(de),Te=ye(he,we),Le=0,Be=null;return Te.forEach(function(We){var Ge=Me*ne(_e,We)[1];Ge>Le&&(Le=Ge,Be=We)}),Be},pt=function(he,de,_e,we){var Me,Te=[],Le=!1,Be=n((0,E.CM)(he));try{for(Be.s();!(Me=Be.n()).done;){var We=Me.value;We.op==="move"?(Le=!Le)&&Te.push([We.data[0],We.data[1]]):We.op==="bcurveTo"?Le&&(Te.push([We.data[0],We.data[1]]),Te.push([We.data[2],We.data[3]]),Te.push([We.data[4],We.data[5]])):We.op==="lineTo"&&Le&&Te.push([We.data[0],We.data[1]])}}catch(it){Be.e(it)}finally{Be.f()}if(Te.length>=4){if(we==="sharp")return(0,p.c9)(Te,de,_e);var Ge=(0,_.s)(Te,10,5);return(0,p.c9)(Ge,de,_e)}return!1},et=function(he,de,_e,we){var Me=(0,E.CM)(he),Te=[0,0];return Me.some(function(Le,Be){var We=Le.op,Ge=Le.data;if(We==="move")Te=Ge;else{if(We==="bcurveTo"){var it=[Ge[0],Ge[1]],Re=[Ge[2],Ge[3]],Xe=[Ge[4],Ge[5]],xt=Te;Te=Xe;var st=function(Ot,gt,kt,It,Mt,Zt){for(var Nt=(0,x.Z)(Mt,2),Ft=Nt[0],on=Nt[1],Rt=function(wn,Sn){return Math.pow(1-wn,3)*It[Sn]+3*wn*Math.pow(1-wn,2)*kt[Sn]+3*Math.pow(wn,2)*(1-wn)*gt[Sn]+Ot[Sn]*Math.pow(wn,3)},qt=0;qt<=1;){var Ht=Rt(qt,0),sn=Rt(qt,1);if(Math.sqrt(Math.pow(Ht-Ft,2)+Math.pow(sn-on,2))<Zt)return!0;qt+=.01}return!1}(xt,it,Re,Xe,[de,_e],we);return st}if(We==="lineTo")return pt(he,de,_e,"sharp");We==="qcurveTo"&&console.warn("qcurveTo is not implemented yet")}return!1})}},5637:function(le,K,o){o.d(K,{PK:function(){return pe},Xx:function(){return fe},bp:function(){return re},oA:function(){return W}});var x=o(2577),i=o(7169),v=o(8950),g=o(7945),j=o.n(g),y=o(8288),V=o(8211),ie=o(1974);function I(ne,ue){var $=Object.keys(ne);if(Object.getOwnPropertySymbols){var ge=Object.getOwnPropertySymbols(ne);ue&&(ge=ge.filter(function(se){return Object.getOwnPropertyDescriptor(ne,se).enumerable})),$.push.apply($,ge)}return $}function te(ne){for(var ue=1;ue<arguments.length;ue++){var $=arguments[ue]!=null?arguments[ue]:{};ue%2?I(Object($),!0).forEach(function(ge){(0,i.Z)(ne,ge,$[ge])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ne,Object.getOwnPropertyDescriptors($)):I(Object($)).forEach(function(ge){Object.defineProperty(ne,ge,Object.getOwnPropertyDescriptor($,ge))})}return ne}var pe=function(ne){return new Promise(function(ue,$){var ge=new Image;ge.onload=function(){ue(ge)},ge.onerror=function(se){$(se)},ge.src=ne})},fe=function(){var ne=(0,v.Z)(j().mark(function ue($){var ge,se,S,F,h;return j().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return ge=$.fileIds,se=$.files,S=$.imageCache,F=new Map,h=new Map,u.next=5,Promise.all(ge.reduce(function(O,p){var _=se[p];return _&&!F.has(p)?(F.set(p,!0),O.concat((0,v.Z)(j().mark(function E(){var T,l,m;return j().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(c.prev=0,_.mimeType!==y.LO.binary){c.next=3;break}throw new Error("Only images can be added to ImageCache");case 3:return T=pe(_.dataURL),l={image:T,mimeType:_.mimeType},S.set(p,l),c.next=8,T;case 8:m=c.sent,S.set(p,te(te({},l),{},{image:m})),c.next=15;break;case 12:c.prev=12,c.t0=c.catch(0),h.set(p,!0);case 15:case"end":return c.stop()}},E,null,[[0,12]])}))())):O},[]));case 5:return u.abrupt("return",{imageCache:S,updatedFiles:F,erroredFiles:h});case 6:case"end":return u.stop()}},ue)}));return function(ue){return ne.apply(this,arguments)}}(),W=function(ne){return ne.filter(function(ue){return(0,ie.wi)(ue)})},re=function(){var ne=(0,v.Z)(j().mark(function ue($){var ge,se,S,F,h,u,O;return j().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(ge=new DOMParser().parseFromString($,y.LO.svg),se=ge.querySelector("svg"),!ge.querySelector("parsererror")&&((_=se)==null?void 0:_.nodeName.toLowerCase())==="svg"){p.next=7;break}throw new Error((0,V.t)("errors.invalidSVGString"));case 7:return se.hasAttribute("xmlns")||se.setAttribute("xmlns",y.hR),se.hasAttribute("width")&&se.hasAttribute("height")||(S=se.getAttribute("viewBox"),F=se.getAttribute("width")||"50",h=se.getAttribute("height")||"50",S&&(u=S.match(/\d+ +\d+ +(\d+) +(\d+)/))&&(O=(0,x.Z)(u,3),F=O[1],h=O[2]),se.setAttribute("width",F),se.setAttribute("height",h)),p.abrupt("return",se.outerHTML);case 10:case"end":return p.stop()}var _},ue)}));return function(ue){return ne.apply(this,arguments)}}()},5118:function(le,K,o){o.d(K,{ox:function(){return y.ox},BQ:function(){return ce},_M:function(){return J},EJ:function(){return O},o8:function(){return F},Sy:function(){return g.Sy},os:function(){return j.os},KP:function(){return j.KP},Un:function(){return ne},$V:function(){return u},qf:function(){return j.qf},Pi:function(){return j.Pi},jt:function(){return fe},Lm:function(){return M},Qp:function(){return i.Qp},uK:function(){return i.uK},T:function(){return ue.T},xx:function(){return ue.xx},Uo:function(){return R},n2:function(){return W},PC:function(){return y.PC},kK:function(){return y.kK},n_:function(){return b},wX:function(){return V.wX},r2:function(){return v.r2},wB:function(){return V.wB},QD:function(){return i.QD},qP:function(){return G},iB:function(){return v.iB},Up:function(){return g.Up},vw:function(){return g.vw},y8:function(){return g.y8},VL:function(){return g.VL},oN:function(){return se.oN},RT:function(){return D},b_:function(){return n},vY:function(){return ue.vY},N_:function(){return g.N_}});var x=o(7169),i=o(6126),v=o(1974),g=o(2791),j=o(8925),y=o(267),V=o(2325),ie=o(2577),I=o(2726),te=["rotation"],pe=function(Y,oe,xe){return oe>=Y[0]&&oe<=Y[0]+Y[2]&&xe>=Y[1]&&xe<=Y[1]+Y[3]},fe=function(Y,oe,xe,L,A,N){return Y.reduce(function(z,ee){if(z)return z;var ke=function(Oe,Q,Ce,Ne,ze,ot){if(!Q.selectedElementIds[Oe.id])return!1;var P=(0,y.PC)(Oe,ze,ot),ye=P.rotation,me=(0,I.Z)(P,te);if(ye&&pe(ye,Ce,Ne))return"rotation";var Pe=Object.keys(me).filter(function(Ze){var Je=me[Ze];return!!Je&&pe(Je,Ce,Ne)});return Pe.length>0&&Pe[0]}(ee,oe,xe,L,A,N);return ke?{element:ee,transformHandleType:ke}:null},null)},W=function(Y,oe,xe,L,A){var N=(0,ie.Z)(Y,4),z=N[0],ee=N[1],ke=N[2],Oe=N[3],Q=(0,y.kK)([z,ee,ke,Oe],0,L,A,y.ox);return Object.keys(Q).find(function(Ce){var Ne=Q[Ce];return Ne&&pe(Ne,oe,xe)})||!1},re=["ns","nesw","ew","nwse"],ne=function(Y){var oe=Y.element,xe=Y.transformHandleType,L=oe&&Math.sign(oe.height)*Math.sign(oe.width)==-1,A=null;switch(xe){case"n":case"s":A="ns";break;case"w":case"e":A="ew";break;case"nw":case"se":A=L?"nesw":"nwse";break;case"ne":case"sw":A=L?"nwse":"nesw";break;case"rotation":return"grab"}return A&&oe&&(A=function(N,z){var ee=re.indexOf(N);if(ee>=0){var ke=Math.round(z/(Math.PI/4));N=re[(ee+ke)%re.length]}return N}(A,oe.angle)),A?"".concat(A,"-resize"):""},ue=o(8634),$=o(8290),ge=o(1935),se=o(5710),S=o(242),F=function(Y,oe,xe,L){var A=arguments.length>4&&arguments[4]!==void 0&&arguments[4],N=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,z=arguments.length>6&&arguments[6]!==void 0?arguments[6]:0,ee=arguments.length>7?arguments[7]:void 0,ke=(0,j.KP)(oe),Oe=(0,ie.Z)(ke,2),Q=Oe[0],Ce=Oe[1],Ne={x:xe-Q,y:L-Ce};oe.forEach(function(ze){if(h(A,N,z,Y,ze,Ne),!ze.groupIds.length||ee.editingGroupId&&!(0,S.zq)(ee,ze)){var ot=(0,se.WJ)(ze);ot&&h(A,N,z,Y,ot,Ne)}(0,$.Ww)(ze,{simultaneouslyUpdated:oe})})},h=function(Y,oe,xe,L,A,N){var z,ee;if(Y){var ke=Y&&oe<xe,Oe=Y&&oe>xe,Q=L.originalElements.get(A.id);z=ke&&Q?Q.x:A.x+N.x,ee=Oe&&Q?Q.y:A.y+N.y}else z=A.x+N.x,ee=A.y+N.y;(0,ge.DR)(A,{x:z,y:ee})},u=function(Y,oe,xe){var L=(0,j.KP)(Y),A=(0,ie.Z)(L,2);return[oe-A[0],xe-A[1]]},O=function(Y,oe,xe,L,A,N,z,ee,ke,Oe,Q){if(ke)if(Q)ee=z/Q;else{var Ce=(0,i.uK)(oe,z,N<L?-ee:ee);z=Ce.width,(ee=Ce.height)<0&&(ee=-ee)}var Ne=A<xe?xe-z:xe,ze=N<L?L-ee:L;Oe&&(Ne=xe-(z+=z)/2,ze=L-(ee+=ee)/2),z!==0&&ee!==0&&(0,ge.DR)(Y,{x:Ne,y:ze,width:z,height:ee})},p=o(6066),_=o(6340),E=o(1564),T=o(8288),l=o(3917),m=o(828),c=function(Y,oe,xe,L,A,N){var z=L.zoom,ee=180*xe/Math.PI,ke=Y*(z.value-1)/2,Oe=oe*(z.value-1)/2;return Y>A&&z.value!==1&&(ke=A*(z.value-1)/2),oe>N&&z.value!==1&&(Oe=N*(z.value-1)/2),"translate(".concat(ke,"px, ").concat(Oe,"px) scale(").concat(z.value,") rotate(").concat(ee,"deg)")},n=function(Y){var oe,xe=Y.id,L=Y.onChange,A=Y.onSubmit,N=Y.getViewportCoords,z=Y.element,ee=Y.canvas,ke=Y.excalidrawContainer,Oe=Y.app,Q=function(){var we,Me=Oe.state,Te=(we=E.Z.getScene(z))===null||we===void 0?void 0:we.getElement(xe);if(Te){var Le=Te.textAlign,Be=Te.verticalAlign,We=(0,se.hP)((0,_.mO)(Te));if(Te&&(0,v.iB)(Te)){var Ge=Te.x,it=Te.y,Re=(0,se.tl)(Te),Xe=Te.width,xt=Te.height,st=Te.width,Ot=Te.height;if(Re&&Te.containerId){var gt=function(er,Cn){var yr=Cn.style.fontFamily.replace(/"/g,"");return(0,_.$g)({fontFamily:er.fontFamily})!==yr||"".concat(er.fontSize,"px")!==Cn.style.fontSize}(Te,Ce),kt=Number(Ce.style.height.slice(0,-2));if(kt>0&&(Ot=kt),gt&&(oe=Re.height,Ot=Te.height),oe||(oe=Re.height),Xe=Re.width-2*T.gK,xt=Re.height-2*T.gK,st=Xe,Ge=Re.x+T.gK,Ot>xt){var It=Math.min(Ot-xt,We);return void(0,ge.DR)(Re,{height:Re.height+It})}if(Re.height>oe&&Ot<xt){var Mt=Math.min(xt-Ot,We);(0,ge.DR)(Re,{height:Re.height-Mt})}else Be===T.oX.MIDDLE&&(it=Re.y+Re.height/2-Ot/2),Be===T.oX.BOTTOM&&(it=Re.y+Re.height-Ot-T.gK)}var Zt=N(Ge,it),Nt=(0,ie.Z)(Zt,2),Ft=Nt[0],on=Nt[1],Rt=Ce.selectionStart,qt=Ce.selectionEnd,Ht=Ce.value.length;if(Ce.value=Te.originalText,Rt===qt&&qt!==Ht){var sn=Ht-qt;Ce.selectionStart=Ce.value.length-sn,Ce.selectionEnd=Ce.value.length-sn}var wn=Te.originalText.split(`
`),Sn=Te.containerId?We:Te.height/wn.length;Re||(Xe=(Me.width-8-Ft)/Me.zoom.value);var Yn=(Me.height-on)/Me.zoom.value,jn=Re?Re.angle:Te.angle;Object.assign(Ce.style,{font:(0,_.mO)(Te),lineHeight:"".concat(Sn,"px"),width:"".concat(st,"px"),height:"".concat(Ot,"px"),left:"".concat(Ft,"px"),top:"".concat(on,"px"),transform:c(st,Ot,jn,Me,Xe,Yn),textAlign:Le,verticalAlign:Be,color:Te.strokeColor,opacity:Te.opacity/100,filter:"var(--theme-filter)",maxWidth:"".concat(Xe,"px"),maxHeight:"".concat(Yn,"px")}),(0,_.h2)()&&(Ce.style.fontFamily=(0,_.$g)(Te)),(0,ge.DR)(Te,{x:Ge,y:it})}}},Ce=document.createElement("textarea");Ce.dir="auto",Ce.tabIndex=0,Ce.dataset.type="wysiwyg",Ce.wrap="off",Ce.classList.add("excalidraw-wysiwyg");var Ne="pre",ze="normal";(0,v.Xh)(z)&&(Ne="pre-wrap",ze="break-word"),Object.assign(Ce.style,{position:"absolute",display:"inline-block",minHeight:"1em",backfaceVisibility:"hidden",margin:0,padding:0,border:0,outline:0,resize:"none",background:"transparent",overflow:"hidden",zIndex:"var(--zIndex-wysiwyg)",wordBreak:ze,whiteSpace:Ne,overflowWrap:"break-word"}),Q(),L&&(Ce.oninput=function(){var we,Me=(we=E.Z.getScene(z))===null||we===void 0?void 0:we.getElement(xe),Te=(0,_.mO)(Me),Le=Math.round(Ce.scrollHeight/(0,se.hP)(Te));if((0,v.Xh)(z)&&Le>1){var Be="auto";if(Le===2){var We=(0,se.tl)(z);(0,se.lD)(Ce.value,Te,We.width).split(`
`).length===1&&(Be="".concat(Ce.scrollHeight/2,"px"))}Ce.style.height=Be,Ce.style.height="".concat(Ce.scrollHeight,"px")}L(Ce.value.replace(/\t/g,"        ").replace(/\r?\n|\r/g,`
`))}),Ce.onkeydown=function(we){if(!we.shiftKey&&m.Lo.keyTest(we))we.preventDefault(),Oe.actionManager.executeAction(m.Lo),Q();else if(!we.shiftKey&&m.CZ.keyTest(we))we.preventDefault(),Oe.actionManager.executeAction(m.CZ),Q();else if(l.Tu.keyTest(we))Oe.actionManager.executeAction(l.Tu);else if(l.Zq.keyTest(we))Oe.actionManager.executeAction(l.Zq);else if(we.key===p.tW.ESCAPE)we.preventDefault(),Je=!0,nt();else if(we.key===p.tW.ENTER&&we[p.tW.CTRL_OR_CMD]){if(we.preventDefault(),we.isComposing||we.keyCode===229)return;Je=!0,nt()}else(we.key===p.tW.TAB||we[p.tW.CTRL_OR_CMD]&&(we.code===p.aU.BRACKET_LEFT||we.code===p.aU.BRACKET_RIGHT))&&(we.preventDefault(),we.shiftKey||we.code===p.aU.BRACKET_LEFT?me():ye(),Ce.dispatchEvent(new Event("input")))};var ot=" ".repeat(4),P=new RegExp("^ {1,".concat(4,"}")),ye=function(){var we=Ce.selectionStart,Me=Ce.selectionEnd,Te=Pe(),Le=Ce.value;Te.forEach(function(Be){var We=Le.slice(0,Be),Ge=Le.slice(Be);Le="".concat(We).concat(ot).concat(Ge)}),Ce.value=Le,Ce.selectionStart=we+4,Ce.selectionEnd=Me+4*Te.length},me=function(){var we=Ce.selectionStart,Me=Ce.selectionEnd,Te=Pe(),Le=[],Be=Ce.value;Te.forEach(function(We){var Ge=Be.slice(We,We+4).match(P);if(Ge){var it=Be.slice(0,We),Re=Be.slice(We+Ge[0].length);Be="".concat(it).concat(Re),Le.push(We)}}),Ce.value=Be,Le.length&&(we>Le[Le.length-1]?Ce.selectionStart=Math.max(we-4,Le[Le.length-1]):Ce.selectionStart=we,Ce.selectionEnd=Math.max(Ce.selectionStart,Me-4*Le.length))},Pe=function(){var we=Ce.selectionStart,Me=Ce.selectionEnd,Te=Ce.value,Le=Te.slice(0,we).match(/[^\n]*$/)[0].length;return we-=Le,Te.slice(we,Me).split(`
`).reduce(function(Be,We,Ge,it){return Be.concat(Ge?Be[Ge-1]+it[Ge-1].length+1:we)},[]).reverse()},Ze=function(we){we.preventDefault(),we.stopPropagation()},Je=!1,nt=function(){var we;ft();var Me=(we=E.Z.getScene(z))===null||we===void 0?void 0:we.getElement(z.id);if(Me){var Te=Ce.value,Le=(0,se.tl)(Me);if(Le)if(Te=Me.text,Ce.value){var Be=(0,se.xB)(Le);Be&&Be===z.id||(0,ge.DR)(Le,{boundElements:(Le.boundElements||[]).concat({type:"text",id:z.id})})}else{var We;(0,ge.DR)(Le,{boundElements:(We=Le.boundElements)===null||We===void 0?void 0:We.filter(function(Ge){return!(0,v.iB)(Ge)})})}A({text:Te,viaKeyboard:Je,originalText:Ce.value})}},ft=function(){de||(de=!0,Ce.onblur=null,Ce.oninput=null,Ce.onkeydown=null,_e&&_e.disconnect(),window.removeEventListener("resize",Q),window.removeEventListener("wheel",Ze,!0),window.removeEventListener("pointerdown",et),window.removeEventListener("pointerup",pt),window.removeEventListener("blur",nt),he(),Ce.remove())},pt=function we(Me){window.removeEventListener("pointerup",we);var Te=Me==null?void 0:Me.target,Le=Te instanceof HTMLInputElement&&Te.closest(".color-picker-input")&&(0,_.s)(Te);setTimeout(function(){Ce.onblur=nt,Te&&Le&&(Te.onblur=function(){Ce.focus()}),Le||Ce.focus()})},et=function(we){var Me=we.target instanceof HTMLInputElement&&we.target.closest(".color-picker-input")&&(0,_.s)(we.target);((we.target instanceof HTMLElement||we.target instanceof SVGElement)&&we.target.closest(".".concat(T.$C.SHAPE_ACTIONS_MENU))&&!(0,_.s)(we.target)||Me)&&(Ce.onblur=null,window.addEventListener("pointerup",pt),window.addEventListener("blur",nt))},he=E.Z.getScene(z).addCallback(function(){var we;Q(),!((we=document.activeElement)===null||we===void 0||!we.closest(".color-picker-input"))||Ce.focus()}),de=!1;Ce.select(),pt();var _e=null;ee&&"ResizeObserver"in window?(_e=new window.ResizeObserver(function(){Q()})).observe(ee):window.addEventListener("resize",Q),window.addEventListener("pointerdown",et),window.addEventListener("wheel",Ze,{passive:!1,capture:!0}),ke==null||ke.querySelector(".excalidraw-textEditorContainer").appendChild(Ce)},C=o(75),D=function(Y,oe){return!!(!Y.viewModeEnabled&&Y.activeTool.type!=="custom"&&(Y.editingElement||Y.activeTool.type!=="selection"&&Y.activeTool.type!=="eraser")||(0,C.eD)(oe,Y).length)};function B(Y,oe){var xe=Object.keys(Y);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(Y);oe&&(L=L.filter(function(A){return Object.getOwnPropertyDescriptor(Y,A).enumerable})),xe.push.apply(xe,L)}return xe}function U(Y){for(var oe=1;oe<arguments.length;oe++){var xe=arguments[oe]!=null?arguments[oe]:{};oe%2?B(Object(xe),!0).forEach(function(L){(0,x.Z)(Y,L,xe[L])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Y,Object.getOwnPropertyDescriptors(xe)):B(Object(xe)).forEach(function(L){Object.defineProperty(Y,L,Object.getOwnPropertyDescriptor(xe,L))})}return Y}var R=function(Y){return Y.reduce(function(oe,xe){return oe+xe.version},0)},b=function(Y){return Y.filter(function(oe){return!oe.isDeleted&&!(0,i.QD)(oe)})},M=function(Y){return Y.filter(function(oe){return!oe.isDeleted})},G=function(Y){return!Y.isDeleted},ae=function(Y){return M(Y).map(function(oe){return(0,v.dt)(oe.type)?U(U({},oe),{},{lastCommittedPoint:null}):oe})},ce=function(Y){return ae(Y)},J=function(Y){return ae(Y)}},6938:function(le,K,o){o.d(K,{_:function(){return ge}});var x=o(1930),i=o(7169),v=o(2577),g=o(8821),j=o(5169),y=o(6552),V=o(5118),ie=o(8925),I=o(1935),te=o(1564),pe=o(8290),fe=o(6340),W=o(1974);function re(S,F){var h=typeof Symbol<"u"&&S[Symbol.iterator]||S["@@iterator"];if(!h){if(Array.isArray(S)||(h=function(T,l){if(T){if(typeof T=="string")return ne(T,l);var m=Object.prototype.toString.call(T).slice(8,-1);if(m==="Object"&&T.constructor&&(m=T.constructor.name),m==="Map"||m==="Set")return Array.from(T);if(m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m))return ne(T,l)}}(S))||F&&S&&typeof S.length=="number"){h&&(S=h);var u=0,O=function(){};return{s:O,n:function(){return u>=S.length?{done:!0}:{done:!1,value:S[u++]}},e:function(T){throw T},f:O}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var p,_=!0,E=!1;return{s:function(){h=h.call(S)},n:function(){var T=h.next();return _=T.done,T},e:function(T){E=!0,p=T},f:function(){try{_||h.return==null||h.return()}finally{if(E)throw p}}}}function ne(S,F){(F==null||F>S.length)&&(F=S.length);for(var h=0,u=new Array(F);h<F;h++)u[h]=S[h];return u}function ue(S,F){var h=Object.keys(S);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(S);F&&(u=u.filter(function(O){return Object.getOwnPropertyDescriptor(S,O).enumerable})),h.push.apply(h,u)}return h}function $(S){for(var F=1;F<arguments.length;F++){var h=arguments[F]!=null?arguments[F]:{};F%2?ue(Object(h),!0).forEach(function(u){(0,i.Z)(S,u,h[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(h)):ue(Object(h)).forEach(function(u){Object.defineProperty(S,u,Object.getOwnPropertyDescriptor(h,u))})}return S}var ge=function(){function S(F,h){(0,g.Z)(this,S),this.elementId=F.id,te.Z.mapElementToScene(this.elementId,h),S.normalizePoints(F),this.selectedPointsIndices=null,this.lastUncommittedPoint=null,this.isDragging=!1,this.pointerOffset={x:0,y:0},this.startBindingElement="keep",this.endBindingElement="keep",this.pointerDownState={prevSelectedPointsIndices:null,lastClickedPoint:-1}}return(0,j.Z)(S,null,[{key:"getElement",value:function(F){var h,u=(h=te.Z.getScene(F))===null||h===void 0?void 0:h.getNonDeletedElement(F);return u||null}},{key:"handleBoxSelection",value:function(F,h,u){var O;if(!h.editingLinearElement||((O=h.draggingElement)===null||O===void 0?void 0:O.type)!=="selection")return!1;var p=h.editingLinearElement,_=p.selectedPointsIndices,E=p.elementId,T=S.getElement(E);if(!T)return!1;var l=(0,V.qf)(h.draggingElement),m=(0,v.Z)(l,4),c=m[0],n=m[1],C=m[2],D=m[3],B=S.getPointsGlobalCoordinates(T).reduce(function(U,R,b){return(R[0]>=c&&R[0]<=C&&R[1]>=n&&R[1]<=D||F.shiftKey&&_!=null&&_.includes(b))&&U.push(b),U},[]);u({editingLinearElement:$($({},p),{},{selectedPointsIndices:B.length?B:null})})}},{key:"handlePointDragging",value:function(F,h,u,O,p){if(!F.editingLinearElement)return!1;var _=F.editingLinearElement,E=_.selectedPointsIndices,T=_.elementId,l=_.isDragging,m=S.getElement(T);if(!m)return!1;var c=m.points[_.pointerDownState.lastClickedPoint];if(E&&c){l===!1&&h({editingLinearElement:$($({},_),{},{isDragging:!0})});var n=S.createPointAt(m,u-_.pointerOffset.x,O-_.pointerOffset.y,F.gridSize),C=n[0]-c[0],D=n[1]-c[1];if(S.movePoints(m,E.map(function(R){return{index:R,point:R===_.pointerDownState.lastClickedPoint?S.createPointAt(m,u-_.pointerOffset.x,O-_.pointerOffset.y,F.gridSize):[m.points[R][0]+C,m.points[R][1]+D],isDragging:R===_.pointerDownState.lastClickedPoint}})),(0,W.Mn)(m,!1)){var B=[];E[0]===0&&B.push((0,fe.AK)(S.getPointGlobalCoordinates(m,m.points[0])));var U=E[E.length-1];U===m.points.length-1&&B.push((0,fe.AK)(S.getPointGlobalCoordinates(m,m.points[U]))),B.length&&p(m,B)}return!0}return!1}},{key:"handlePointerUp",value:function(F,h,u){var O,p=h.elementId,_=h.selectedPointsIndices,E=h.isDragging,T=h.pointerDownState,l=S.getElement(p);if(!l)return h;var m={};if(E&&_){var c,n=re(_);try{for(n.s();!(c=n.n()).done;){var C=c.value;if(C===0||C===l.points.length-1){(0,y.g6)(l.points,u.zoom.value)&&S.movePoints(l,[{index:C,point:C===0?l.points[l.points.length-1]:l.points[0]}]);var D=(0,pe.N1)(u)?(0,pe.Y9)((0,fe.AK)(S.getPointAtIndexGlobalCoordinates(l,C)),te.Z.getScene(l)):null;m[C===0?"startBindingElement":"endBindingElement"]=D}}}catch(B){n.e(B)}finally{n.f()}}return $($($({},h),m),{},{selectedPointsIndices:E||F.shiftKey?!E&&F.shiftKey&&(O=T.prevSelectedPointsIndices)!==null&&O!==void 0&&O.includes(T.lastClickedPoint)?_&&_.filter(function(B){return B!==T.lastClickedPoint}):_:_!=null&&_.includes(T.lastClickedPoint)?[T.lastClickedPoint]:_,isDragging:!1,pointerOffset:{x:0,y:0}})}},{key:"handlePointerDown",value:function(F,h,u,O,p){var _,E={didAddPoint:!1,hitElement:null};if(!h.editingLinearElement)return E;var T=h.editingLinearElement.elementId,l=S.getElement(T);if(!l)return E;if(F.altKey)return h.editingLinearElement.lastUncommittedPoint==null&&(0,I.DR)(l,{points:[].concat((0,x.Z)(l.points),[S.createPointAt(l,p.x,p.y,h.gridSize)])}),O.resumeRecording(),u({editingLinearElement:$($({},h.editingLinearElement),{},{pointerDownState:{prevSelectedPointsIndices:h.editingLinearElement.selectedPointsIndices,lastClickedPoint:-1},selectedPointsIndices:[l.points.length-1],lastUncommittedPoint:null,endBindingElement:(0,pe.Y9)(p,te.Z.getScene(l))})}),E.didAddPoint=!0,E;var m=S.getPointIndexUnderCursor(l,h.zoom,p.x,p.y);if(m>-1)E.hitElement=l;else{var c=h.editingLinearElement,n=c.startBindingElement,C=c.endBindingElement;(0,pe.N1)(h)&&(0,W.Mn)(l)&&(0,pe.HG)(l,n,C)}var D=(0,V.qf)(l),B=(0,v.Z)(D,4),U=B[0],R=B[1],b=(U+B[2])/2,M=(R+B[3])/2,G=m>-1&&(0,y.U1)(l.x+l.points[m][0],l.y+l.points[m][1],b,M,l.angle),ae=m>-1||F.shiftKey?F.shiftKey||(_=h.editingLinearElement.selectedPointsIndices)!==null&&_!==void 0&&_.includes(m)?se([].concat((0,x.Z)(h.editingLinearElement.selectedPointsIndices||[]),[m])):[m]:null;return u({editingLinearElement:$($({},h.editingLinearElement),{},{pointerDownState:{prevSelectedPointsIndices:h.editingLinearElement.selectedPointsIndices,lastClickedPoint:m},selectedPointsIndices:ae,pointerOffset:G?{x:p.x-G[0],y:p.y-G[1]}:{x:0,y:0}})}),E}},{key:"handlePointerMove",value:function(F,h,u,O,p){var _=O.elementId,E=O.lastUncommittedPoint,T=S.getElement(_);if(!T)return O;var l=T.points,m=l[l.length-1];if(!F.altKey)return m===E&&S.deletePoints(T,[l.length-1]),$($({},O),{},{lastUncommittedPoint:null});var c=S.createPointAt(T,h-O.pointerOffset.x,u-O.pointerOffset.y,p);return m===E?S.movePoints(T,[{index:T.points.length-1,point:c}]):S.addPoints(T,[{point:c}]),$($({},O),{},{lastUncommittedPoint:T.points[T.points.length-1]})}},{key:"getPointGlobalCoordinates",value:function(F,h){var u=(0,V.qf)(F),O=(0,v.Z)(u,4),p=O[0],_=O[1],E=(p+O[2])/2,T=(_+O[3])/2,l=F.x,m=F.y,c=(0,y.U1)(l+h[0],m+h[1],E,T,F.angle),n=(0,v.Z)(c,2);return[l=n[0],m=n[1]]}},{key:"getPointsGlobalCoordinates",value:function(F){var h=(0,V.qf)(F),u=(0,v.Z)(h,4),O=u[0],p=u[1],_=u[2],E=u[3],T=(O+_)/2,l=(p+E)/2;return F.points.map(function(m){var c=F.x,n=F.y,C=(0,y.U1)(c+m[0],n+m[1],T,l,F.angle),D=(0,v.Z)(C,2);return[c=D[0],n=D[1]]})}},{key:"getPointAtIndexGlobalCoordinates",value:function(F,h){var u=h<0?F.points.length+h:h,O=(0,V.qf)(F),p=(0,v.Z)(O,4),_=p[0],E=p[1],T=(_+p[2])/2,l=(E+p[3])/2,m=F.points[u],c=F.x,n=F.y;return(0,y.U1)(c+m[0],n+m[1],T,l,F.angle)}},{key:"pointFromAbsoluteCoords",value:function(F,h){var u=(0,V.qf)(F),O=(0,v.Z)(u,4),p=O[0],_=O[1],E=(p+O[2])/2,T=(_+O[3])/2,l=(0,y.U1)(h[0],h[1],E,T,-F.angle),m=(0,v.Z)(l,2),c=m[0],n=m[1];return[c-F.x,n-F.y]}},{key:"getPointIndexUnderCursor",value:function(F,h,u,O){for(var p=this.getPointsGlobalCoordinates(F),_=p.length;--_>-1;){var E=p[_];if((0,y.LW)(u,O,E[0],E[1])*h.value<this.POINT_HANDLE_SIZE/2+1)return _}return-1}},{key:"createPointAt",value:function(F,h,u,O){var p=(0,y.wC)(h,u,O),_=(0,V.qf)(F),E=(0,v.Z)(_,4),T=E[0],l=E[1],m=(T+E[2])/2,c=(l+E[3])/2,n=(0,y.U1)(p[0],p[1],m,c,-F.angle),C=(0,v.Z)(n,2),D=C[0],B=C[1];return[D-F.x,B-F.y]}},{key:"getNormalizedPoints",value:function(F){var h=F.points,u=h[0][0],O=h[0][1];return{points:h.map(function(p,_){return[p[0]-u,p[1]-O]}),x:F.x+u,y:F.y+O}}},{key:"normalizePoints",value:function(F){(0,I.DR)(F,S.getNormalizedPoints(F))}},{key:"duplicateSelectedPoints",value:function(F){if(!F.editingLinearElement)return!1;var h=F.editingLinearElement,u=h.selectedPointsIndices,O=h.elementId,p=S.getElement(O);if(!p||u===null)return!1;var _=p.points,E=[],T=!1,l=-1,m=_.reduce(function(n,C,D){if(++l,n.push(C),u.includes(D)){var B=_[D+1];B||(T=!0),n.push(B?[(C[0]+B[0])/2,(C[1]+B[1])/2]:[C[0],C[1]]),E.push(l+1),++l}return n},[]);if((0,I.DR)(p,{points:m}),T){var c=p.points[p.points.length-1];S.movePoints(p,[{index:p.points.length-1,point:[c[0]+30,c[1]+30]}])}return{appState:$($({},F),{},{editingLinearElement:$($({},F.editingLinearElement),{},{selectedPointsIndices:E})})}}},{key:"deletePoints",value:function(F,h){var u=0,O=0;if(h.includes(0)){var p=F.points.find(function(E,T){return!h.includes(T)});p&&(u=p[0],O=p[1])}var _=F.points.reduce(function(E,T,l){return h.includes(l)||E.push(E.length?[T[0]-u,T[1]-O]:[0,0]),E},[]);S._updatePoints(F,_,u,O)}},{key:"addPoints",value:function(F,h){var u=[].concat((0,x.Z)(F.points),(0,x.Z)(h.map(function(O){return O.point})));S._updatePoints(F,u,0,0)}},{key:"movePoints",value:function(F,h,u){var O=F.points,p=0,_=0,E=h.find(function(l){return l.index===0});E&&(p=E.point[0]-O[E.index][0],_=E.point[1]-O[E.index][1]);var T=O.map(function(l,m){var c=h.find(function(D){return D.index===m});if(c){if(E)return l;var n=c.point[0]-O[c.index][0],C=c.point[1]-O[c.index][1];return[l[0]+n,l[1]+C]}return p||_?[l[0]-p,l[1]-_]:l});S._updatePoints(F,T,p,_,u)}},{key:"_updatePoints",value:function(F,h,u,O,p){var _=(0,ie.Ut)(F,h,F.strokeSharpness||"round"),E=(0,ie.Ut)(F,F.points,F.strokeSharpness||"round"),T=(_[0]+_[2])/2,l=(_[1]+_[3])/2,m=(E[0]+E[2])/2-T,c=(E[1]+E[3])/2-l,n=(0,y.U1)(u,O,m,c,F.angle);(0,I.DR)(F,$($({},p),{},{points:h,x:F.x+n[0],y:F.y+n[1]}))}}]),S}();ge.POINT_HANDLE_SIZE=20;var se=function(S){var F=(0,x.Z)(new Set(S.filter(function(h){return h!==null&&h!==-1})));return(F=F.sort(function(h,u){return h-u})).length?F:null}},1935:function(le,K,o){o.d(K,{BE:function(){return pe},DR:function(){return te},ZP:function(){return fe}});var x=o(6655),i=o(7169),v=o(3063),g=o(1564),j=o(5001),y=o(6954),V=o(6340);function ie(W,re){var ne=Object.keys(W);if(Object.getOwnPropertySymbols){var ue=Object.getOwnPropertySymbols(W);re&&(ue=ue.filter(function($){return Object.getOwnPropertyDescriptor(W,$).enumerable})),ne.push.apply(ne,ue)}return ne}function I(W){for(var re=1;re<arguments.length;re++){var ne=arguments[re]!=null?arguments[re]:{};re%2?ie(Object(ne),!0).forEach(function(ue){(0,i.Z)(W,ue,ne[ue])}):Object.getOwnPropertyDescriptors?Object.defineProperties(W,Object.getOwnPropertyDescriptors(ne)):ie(Object(ne)).forEach(function(ue){Object.defineProperty(W,ue,Object.getOwnPropertyDescriptor(ne,ue))})}return W}var te=function(W,re){var ne,ue=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],$=!1,ge=re,se=ge.points,S=ge.fileId;for(var F in se!==void 0&&(re=I(I({},(0,j.k)(se)),re)),re){var h=re[F];if(h!==void 0){if(W[F]===h&&((0,x.Z)(h)!=="object"||h===null||F==="groupIds"||F==="scale"))continue;if(F==="scale"){var u=W[F],O=h;if(u[0]===O[0]&&u[1]===O[1])continue}else if(F==="points"){var p=W[F],_=h;if(p.length===_.length){for(var E=!1,T=p.length;--T;){var l=p[T],m=_[T];if(l[0]!==m[0]||l[1]!==m[1]){E=!0;break}}if(!E)continue}}W[F]=h,$=!0}}return $&&(re.height===void 0&&re.width===void 0&&S===void 0&&se===void 0||(0,v.bI)(W),W.version++,W.versionNonce=(0,y.LU)(),W.updated=(0,V.C3)(),ue&&((ne=g.Z.getScene(W))===null||ne===void 0||ne.informMutation())),W},pe=function(W,re){var ne=!1;for(var ue in re){var $=re[ue];if($!==void 0){if(W[ue]===$&&((0,x.Z)($)!=="object"||$===null))continue;ne=!0}}return ne?I(I(I({},W),re),{},{updated:(0,V.C3)(),version:W.version+1,versionNonce:(0,y.LU)()}):W},fe=function(W,re){return W.version=(re??W.version)+1,W.versionNonce=(0,y.LU)(),W.updated=(0,V.C3)(),W}},2791:function(le,K,o){o.d(K,{KE:function(){return h},N_:function(){return F},OL:function(){return p},Sy:function(){return _},Up:function(){return ge},VL:function(){return S},vw:function(){return O},y8:function(){return u}});var x=o(6655),i=o(2577),v=o(7169),g=o(2726),j=o(6340),y=o(6954),V=o(1935),ie=o(242),I=o(5118),te=o(6552),pe=o(8925),fe=o(5710),W=o(8288),re=["x","y","strokeColor","backgroundColor","fillStyle","strokeWidth","strokeStyle","roughness","opacity","width","height","angle","groupIds","strokeSharpness","boundElements","link","locked"];function ne(E,T){var l=Object.keys(E);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(E);T&&(m=m.filter(function(c){return Object.getOwnPropertyDescriptor(E,c).enumerable})),l.push.apply(l,m)}return l}function ue(E){for(var T=1;T<arguments.length;T++){var l=arguments[T]!=null?arguments[T]:{};T%2?ne(Object(l),!0).forEach(function(m){(0,v.Z)(E,m,l[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(l)):ne(Object(l)).forEach(function(m){Object.defineProperty(E,m,Object.getOwnPropertyDescriptor(l,m))})}return E}var $=function(E,T){var l,m,c=T.x,n=T.y,C=T.strokeColor,D=T.backgroundColor,B=T.fillStyle,U=T.strokeWidth,R=T.strokeStyle,b=T.roughness,M=T.opacity,G=T.width,ae=G===void 0?0:G,ce=T.height,J=ce===void 0?0:ce,Y=T.angle,oe=Y===void 0?0:Y,xe=T.groupIds,L=xe===void 0?[]:xe,A=T.strokeSharpness,N=T.boundElements,z=N===void 0?null:N,ee=T.link,ke=ee===void 0?null:ee,Oe=T.locked,Q=(0,g.Z)(T,re);return{id:Q.id||(0,y.kb)(),type:E,x:c,y:n,width:ae,height:J,angle:oe,strokeColor:C,backgroundColor:D,fillStyle:B,strokeWidth:U,strokeStyle:R,roughness:b,opacity:M,groupIds:L,strokeSharpness:A,seed:(l=Q.seed)!==null&&l!==void 0?l:(0,y.LU)(),version:Q.version||1,versionNonce:(m=Q.versionNonce)!==null&&m!==void 0?m:0,isDeleted:!1,boundElements:z,updated:(0,j.C3)(),link:ke,locked:Oe}},ge=function(E){return $(E.type,E)},se=function(E,T){return{x:E.textAlign==="center"?T.width/2:E.textAlign==="right"?T.width:0,y:E.verticalAlign==="middle"?T.height/2:0}},S=function(E){var T=(0,fe.X1)(E.text,(0,j.mO)(E)),l=se(E,T);return(0,V.BE)(ue(ue({},$("text",E)),{},{text:E.text,fontSize:E.fontSize,fontFamily:E.fontFamily,textAlign:E.textAlign,verticalAlign:E.verticalAlign,x:E.x-l.x,y:E.y-l.y,width:T.width,height:T.height,baseline:T.baseline,containerId:E.containerId||null,originalText:E.text}),{})},F=function(E,T){var l=T.text,m=T.isDeleted,c=T.originalText,n=(0,fe.tl)(E);n&&(l=(0,fe.lD)(l,(0,j.mO)(E),n.width));var C=function(D,B){var U=null,R=(0,fe.tl)(D);R&&(U=R.width-2*W.gK);var b,M,G=(0,fe.X1)(B,(0,j.mO)(D),U),ae=G.width,ce=G.height,J=G.baseline,Y=D.textAlign,oe=D.verticalAlign;if(Y!=="center"||oe!==W.oX.MIDDLE||D.containerId){var xe=(0,I.qf)(D),L=(0,i.Z)(xe,4),A=L[0],N=L[1],z=L[2],ee=L[3],ke=(0,pe.wC)(D,ae,ce),Oe=(0,i.Z)(ke,4),Q=(A-Oe[0])/2,Ce=(N-Oe[1])/2,Ne=(z-Oe[2])/2,ze=(ee-Oe[3])/2,ot=(0,te.yq)({s:!0,e:Y==="center"||Y==="left",w:Y==="center"||Y==="right"},D.x,D.y,D.angle,Q,Ce,Ne,ze),P=(0,i.Z)(ot,2);b=P[0],M=P[1]}else{var ye=(0,fe.X1)(D.text,(0,j.mO)(D),U),me=se(D,{width:ae-ye.width,height:ce-ye.height});b=D.x-me.x,M=D.y-me.y}if(R){var Pe=R.height,Ze=R.width;ce>Pe-2*W.gK&&(Pe=ce+2*W.gK),ae>Ze-2*W.gK&&(Ze=ae+2*W.gK),Pe===R.height&&Ze===R.width||(0,V.DR)(R,{height:Pe,width:Ze})}return{width:ae,height:ce,x:Number.isFinite(b)?b:D.x,y:Number.isFinite(M)?M:D.y,baseline:J}}(E,l);return(0,V.BE)(E,ue({text:l,originalText:c,isDeleted:m??E.isDeleted},C))},h=function(E){return ue(ue({},$(E.type,E)),{},{points:E.points||[],pressures:[],simulatePressure:E.simulatePressure,lastCommittedPoint:null})},u=function(E){return ue(ue({},$(E.type,E)),{},{points:E.points||[],lastCommittedPoint:null,startBinding:null,endBinding:null,startArrowhead:E.startArrowhead,endArrowhead:E.endArrowhead})},O=function(E){return ue(ue({},$("image",E)),{},{strokeColor:"transparent",status:"pending",fileId:null,scale:[1,1]})},p=function E(T){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(T==null||(0,x.Z)(T)!=="object")return T;if(Object.prototype.toString.call(T)==="[object Object]"){var m=typeof T.constructor=="function"?Object.create(Object.getPrototypeOf(T)):{};for(var c in T)if(T.hasOwnProperty(c)){if(l===0&&(c==="shape"||c==="canvas"))continue;m[c]=E(T[c],l+1)}return m}if(Array.isArray(T)){for(var n=T.length,C=new Array(n);n--;)C[n]=E(T[n],l+1);return C}return T},_=function(E,T,l,m){var c,n,C=p(l);return(0,j.h2)()?(C.id="".concat(C.id,"_copy"),(c=window.h)!==null&&c!==void 0&&(n=c.app)!==null&&n!==void 0&&n.getSceneElementsIncludingDeleted().find(function(D){return D.id===C.id})&&(C.id+="_copy")):C.id=(0,y.kb)(),C.updated=(0,j.C3)(),C.seed=(0,y.LU)(),C.groupIds=(0,ie.Qy)(C.groupIds,E,function(D){return T.has(D)||T.set(D,(0,y.kb)()),T.get(D)}),m&&(C=Object.assign(C,m)),C}},8634:function(le,K,o){o.d(K,{LW:function(){return $},T:function(){return T},l2:function(){return O},vY:function(){return ge},xx:function(){return E}});var x=o(7169),i=o(1930),v=o(2577),g=o(8288),j=o(5001),y=o(6552),V=o(8925),ie=o(1974),I=o(1935),te=o(6126),pe=o(6340),fe=o(8290),W=o(1564),re=o(5710);function ne(l,m){var c=Object.keys(l);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(l);m&&(n=n.filter(function(C){return Object.getOwnPropertyDescriptor(l,C).enumerable})),c.push.apply(c,n)}return c}function ue(l){for(var m=1;m<arguments.length;m++){var c=arguments[m]!=null?arguments[m]:{};m%2?ne(Object(c),!0).forEach(function(n){(0,x.Z)(l,n,c[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(c)):ne(Object(c)).forEach(function(n){Object.defineProperty(l,n,Object.getOwnPropertyDescriptor(c,n))})}return l}var $=function(l){return l>=2*Math.PI?l-2*Math.PI:l},ge=function(l,m,c,n,C,D,B,U,R,b,M){if(c.length===1){var G=(0,v.Z)(c,1)[0];return m==="rotation"?(se(G,U,R,C),(0,fe.Ww)(G)):!(0,ie.bt)(G)||G.points.length!==2||m!=="nw"&&m!=="ne"&&m!=="sw"&&m!=="se"?!(0,ie.iB)(G)||m!=="nw"&&m!=="ne"&&m!=="sw"&&m!=="se"?m&&O(l.originalElements,B,G,m,D,U,R):(u(G,m,D,U,R),(0,fe.Ww)(G)):S(G,n,C,U,R),!0}if(c.length>1){if(m==="rotation")return _(l,c,U,R,C,b,M),!0;if(m==="nw"||m==="ne"||m==="sw"||m==="se")return p(c,m,U,R),!0}return!1},se=function(l,m,c,n){var C=(0,V.qf)(l),D=(0,v.Z)(C,4),B=D[0],U=D[1],R=(B+D[2])/2,b=(U+D[3])/2,M=5*Math.PI/2+Math.atan2(c-b,m-R);n&&(M+=g.ay/2,M-=M%g.ay),M=$(M),(0,I.DR)(l,{angle:M});var G=(0,re.xB)(l);if(G){var ae=W.Z.getScene(l).getElement(G);(0,I.DR)(ae,{angle:M})}},S=function(l,m,c,n,C){var D=(0,V.qf)(l),B=(0,v.Z)(D,4),U=B[0],R=B[1],b=(U+B[2])/2,M=(R+B[3])/2,G=(0,y.U1)(n,C,b,M,-l.angle),ae=(0,v.Z)(G,2),ce=ae[0],J=ae[1],Y=m==="end"?[ce-l.x,J-l.y]:[l.x+l.points[1][0]-ce,l.y+l.points[1][1]-J],oe=(0,v.Z)(Y,2),xe=oe[0],L=oe[1];if(c){var A=function(Q,Ce,Ne,ze){var ot=te.uK.apply(void 0,[Q].concat((0,i.Z)((0,y.U1)(Ce,Ne,0,0,ze))));return(0,y.U1)(ot.width,ot.height,0,0,-ze)}(l.type,xe,L,l.angle),N=(0,v.Z)(A,2);xe=N[0],L=N[1]}var z=(0,y.yq)(m==="end"?{s:!0,e:!0}:{n:!0,w:!0},l.x,l.y,l.angle,0,0,(l.points[1][0]-xe)/2,(l.points[1][1]-L)/2),ee=(0,v.Z)(z,2),ke=ee[0],Oe=ee[1];(0,I.DR)(l,{x:ke,y:Oe,points:[[0,0],[xe,L]]})},F=function(l,m,c){return(0,ie.bt)(l)||(0,ie.F9)(l)?{points:(0,j.z)(0,m,(0,j.z)(1,c,l.points))}:{}},h=function(l,m,c){var n=l.fontSize*(m/l.width);if(n<1)return null;var C=(0,re.X1)(l.text,(0,pe.mO)({fontSize:n,fontFamily:l.fontFamily}),l.containerId?l.width:null);return{size:n,baseline:C.baseline+(c-C.height)}},u=function(l,m,c,n,C){var D,B=(0,V.qf)(l),U=(0,v.Z)(B,4),R=U[0],b=U[1],M=U[2],G=U[3],ae=(R+M)/2,ce=(b+G)/2,J=(0,y.U1)(n,C,ae,ce,-l.angle),Y=(0,v.Z)(J,2),oe=Y[0],xe=Y[1];switch(m){case"se":D=Math.max((oe-R)/(M-R),(xe-b)/(G-b));break;case"nw":D=Math.max((M-oe)/(M-R),(G-xe)/(G-b));break;case"ne":D=Math.max((oe-R)/(M-R),(G-xe)/(G-b));break;case"sw":D=Math.max((M-oe)/(M-R),(xe-b)/(G-b))}if(D>0){var L=l.width*D,A=l.height*D,N=h(l,L,A);if(N===null)return;var z=(0,V.wC)(l,L,A),ee=(0,v.Z)(z,4),ke=(R-ee[0])/2,Oe=(b-ee[1])/2,Q=(M-ee[2])/2,Ce=(G-ee[3])/2,Ne=(0,y.yq)(function(ye,me){return{n:/^(n|ne|nw)$/.test(ye)||me&&/^(s|se|sw)$/.test(ye),s:/^(s|se|sw)$/.test(ye)||me&&/^(n|ne|nw)$/.test(ye),w:/^(w|nw|sw)$/.test(ye)||me&&/^(e|ne|se)$/.test(ye),e:/^(e|ne|se)$/.test(ye)||me&&/^(w|nw|sw)$/.test(ye)}}(m,c),l.x,l.y,l.angle,ke,Oe,Q,Ce),ze=(0,v.Z)(Ne,2),ot=ze[0],P=ze[1];(0,I.DR)(l,{fontSize:N.size,width:L,height:A,baseline:N.baseline,x:ot,y:P})}},O=function(l,m,c,n,C,D,B){var U=l.get(c.id),R=(0,V.wC)(U,U.width,U.height),b=(0,v.Z)(R,4),M=[b[0],b[1]],G=[b[2],b[3]],ae=(0,y.H5)(M,G),ce=(0,y.xj)([D,B],ae,-U.angle),J=(0,V.wC)(c,c.width,c.height),Y=(0,v.Z)(J,4),oe=Y[0],xe=Y[1],L=Y[2]-oe,A=Y[3]-xe,N=(G[0]-M[0])/L,z=(G[1]-M[1])/A,ee={},ke=(0,re.WJ)(c);n.includes("e")&&(N=(ce[0]-M[0])/L),n.includes("s")&&(z=(ce[1]-M[1])/A),n.includes("w")&&(N=(G[0]-ce[0])/L),n.includes("n")&&(z=(G[1]-ce[1])/A);var Oe=U.width,Q=U.height,Ce=c.width*N,Ne=c.height*z;if(C&&(Ce=2*Ce-Oe,Ne=2*Ne-Q),m){var ze=Math.abs(Ce)/Oe,ot=Math.abs(Ne)/Q;if(n.length===1&&(Ne*=ze,Ce*=ot),n.length===2){var P=Math.max(ze,ot);Ce=Oe*P*Math.sign(Ce),Ne=Q*P*Math.sign(Ne)}}if(ke){var ye=l.get(ke.id);if(ye&&(ee={fontSize:ye.fontSize,baseline:ye.baseline}),m){var me=h(ke,Ce-2*g.gK,Ne-2*g.gK);if(me===null)return;ee={fontSize:me.size,baseline:me.baseline}}else{var Pe=(0,re.AT)((0,pe.mO)(ke)),Ze=(0,re.w_)((0,pe.mO)(ke));Ce=Math.ceil(Math.max(Ce,Pe)),Ne=Math.ceil(Math.max(Ne,Ze))}}var Je=(0,V.wC)(U,Ce,Ne),nt=(0,v.Z)(Je,4),ft=nt[0],pt=nt[1],et=nt[2]-ft,he=nt[3]-pt,de=[].concat(M);if(["n","w","nw"].includes(n)&&(de=[G[0]-Math.abs(et),G[1]-Math.abs(he)]),n==="ne"){var _e=[M[0],G[1]];de=[_e[0],_e[1]-Math.abs(he)]}if(n==="sw"){var we=[G[0],M[1]];de=[we[0]-Math.abs(et),we[1]]}m&&(["s","n"].includes(n)&&(de[0]=ae[0]-et/2),["e","w"].includes(n)&&(de[1]=ae[1]-he/2)),Ce<0&&(n.includes("e")&&(de[0]-=Math.abs(et)),n.includes("w")&&(de[0]+=Math.abs(et))),Ne<0&&(n.includes("s")&&(de[1]-=Math.abs(he)),n.includes("n")&&(de[1]+=Math.abs(he))),C&&(de[0]=ae[0]-Math.abs(et)/2,de[1]=ae[1]-Math.abs(he)/2);var Me=U.angle,Te=(0,y.xj)(de,ae,Me),Le=[de[0]+Math.abs(et)/2,de[1]+Math.abs(he)/2],Be=(0,y.xj)(Le,ae,Me);de=(0,y.xj)(Te,Be,-Me);var We=F(U,Ce,Ne),Ge=(0,i.Z)(de);Ge[0]+=U.x-ft,Ge[1]+=U.y-pt;var it=ue({width:Math.abs(Ce),height:Math.abs(Ne),x:Ge[0],y:Ge[1]},We);"scale"in c&&"scale"in U&&(0,I.DR)(c,{scale:[(Math.sign(N)||U.scale[0])*U.scale[0],(Math.sign(z)||U.scale[1])*U.scale[1]]}),it.width!==0&&it.height!==0&&Number.isFinite(it.x)&&Number.isFinite(it.y)&&((0,fe.Ww)(c,{newSize:{width:it.width,height:it.height}}),(0,I.DR)(c,it),ke&&ee&&(0,I.DR)(ke,{fontSize:ee.fontSize}),(0,re.RB)(c,n))},p=function(l,m,c,n){var C,D,B=(0,V.KP)(l),U=(0,v.Z)(B,4),R=U[0],b=U[1],M=U[2],G=U[3];switch(m){case"se":C=Math.max((c-R)/(M-R),(n-b)/(G-b)),D=function(ce,J,Y){var oe=(0,v.Z)(J,2),xe=oe[0],L=oe[1],A=(0,v.Z)(Y,2),N=A[0],z=A[1];return{x:ce.x+(xe-R)*(C-1)+xe-N,y:ce.y+(L-b)*(C-1)+L-z}};break;case"nw":C=Math.max((M-c)/(M-R),(G-n)/(G-b)),D=function(ce,J,Y){var oe=(0,v.Z)(J,4),xe=oe[2],L=oe[3],A=(0,v.Z)(Y,4),N=A[2],z=A[3];return{x:ce.x-(M-xe)*(C-1)+xe-N,y:ce.y-(G-L)*(C-1)+L-z}};break;case"ne":C=Math.max((c-R)/(M-R),(G-n)/(G-b)),D=function(ce,J,Y){var oe=(0,v.Z)(J,4),xe=oe[0],L=oe[3],A=(0,v.Z)(Y,4),N=A[0],z=A[3];return{x:ce.x+(xe-R)*(C-1)+xe-N,y:ce.y-(G-L)*(C-1)+L-z}};break;case"sw":C=Math.max((M-c)/(M-R),(n-b)/(G-b)),D=function(ce,J,Y){var oe=(0,v.Z)(J,3),xe=oe[1],L=oe[2],A=(0,v.Z)(Y,3),N=A[1],z=A[2];return{x:ce.x-(M-L)*(C-1)+L-z,y:ce.y+(xe-b)*(C-1)+xe-N}}}if(C>0){var ae=l.reduce(function(ce,J){if(!ce)return ce;var Y=J.width*C,oe=J.height*C,xe=(0,re.WJ)(J),L={};if(xe){var A=h(xe,Y-2*g.gK,oe-2*g.gK);if(A===null)return null;L={fontSize:A.size,baseline:A.baseline}}if((0,ie.iB)(J)){var N=h(J,Y,oe);if(N===null)return null;L={fontSize:N.size,baseline:N.baseline}}var z=(0,V.qf)(J),ee=F(J,Y,oe);(0,fe.Ww)(J,{newSize:{width:Y,height:oe},simultaneouslyUpdated:l});var ke=(0,V.wC)(ue(ue({},J),ee),Y,oe),Oe=D(J,z,ke),Q=Oe.x,Ce=Oe.y;return[].concat((0,i.Z)(ce),[ue(ue({width:Y,height:oe,x:Q,y:Ce},ee),L)])},[]);ae&&l.forEach(function(ce,J){(0,I.DR)(ce,ae[J]);var Y=(0,re.WJ)(ce);Y&&((0,I.DR)(Y,{fontSize:ae[J].fontSize,baseline:ae[J].baseline}),(0,re.RB)(ce,m))})}},_=function(l,m,c,n,C,D,B){var U=5*Math.PI/2+Math.atan2(n-B,c-D);C&&(U+=g.ay/2,U-=U%g.ay),m.forEach(function(R,b){var M,G,ae=(0,V.qf)(R),ce=(0,v.Z)(ae,4),J=ce[0],Y=ce[1],oe=(J+ce[2])/2,xe=(Y+ce[3])/2,L=(M=(G=l.originalElements.get(R.id))===null||G===void 0?void 0:G.angle)!==null&&M!==void 0?M:R.angle,A=(0,y.U1)(oe,xe,D,B,U+L-R.angle),N=(0,v.Z)(A,2),z=N[0],ee=N[1];(0,I.DR)(R,{x:R.x+(z-oe),y:R.y+(ee-xe),angle:$(U+L)});var ke=(0,re.xB)(R);if(ke){var Oe=W.Z.getScene(R).getElement(ke);(0,I.DR)(Oe,{x:Oe.x+(z-oe),y:Oe.y+(ee-xe),angle:$(U+L)})}})},E=function(l,m,c,n){var C=m.length===1?(0,V.qf)(m[0]):(0,V.KP)(m),D=(0,v.Z)(C,4),B=D[0],U=D[1],R=D[2],b=D[3],M=(B+R)/2,G=(U+b)/2,ae=m.length===1?m[0].angle:0,ce=(0,y.U1)(c,n,M,G,-ae),J=(0,v.Z)(ce,2);switch(c=J[0],n=J[1],l){case"n":return(0,y.U1)(c-(B+R)/2,n-U,0,0,ae);case"s":return(0,y.U1)(c-(B+R)/2,n-b,0,0,ae);case"w":return(0,y.U1)(c-B,n-(U+b)/2,0,0,ae);case"e":return(0,y.U1)(c-R,n-(U+b)/2,0,0,ae);case"nw":return(0,y.U1)(c-B,n-U,0,0,ae);case"ne":return(0,y.U1)(c-R,n-U,0,0,ae);case"sw":return(0,y.U1)(c-B,n-b,0,0,ae);case"se":return(0,y.U1)(c-R,n-b,0,0,ae);default:return[0,0]}},T=function(l,m){var c=(0,v.Z)(m.points,2),n=(0,v.Z)(c[1],2),C=n[0],D=n[1];return l==="nw"&&(C<0||D<0)||l==="ne"&&C>=0||l==="sw"&&C<=0||l==="se"&&(C>0||D>0)?"end":"origin"}},6126:function(le,K,o){o.d(K,{QD:function(){return v},Qp:function(){return j},uK:function(){return g}}),o(1935);var x=o(1974),i=o(8288),v=function(y){return(0,x.bt)(y)||(0,x.F9)(y)?y.points.length<2:y.width===0&&y.height===0},g=function(y,V,ie){var I=Math.abs(V),te=Math.abs(ie);if(y==="line"||y==="arrow"||y==="freedraw"){var pe=Math.round(Math.atan(te/I)/i.ay)*i.ay;pe===0?ie=0:pe===Math.PI/2?V=0:ie=Math.round(I*Math.tan(pe))*Math.sign(ie)||ie}else y!=="selection"&&(ie=I*Math.sign(ie));return{width:V,height:ie}},j=function(y){var V={width:y.width,height:y.height,x:y.x,y:y.y};if(y.width<0){var ie=Math.abs(y.width);V.width=ie,V.x=y.x-ie}if(y.height<0){var I=Math.abs(y.height);V.height=I,V.y=y.y-I}return V}},5710:function(le,K,o){o.d(K,{AT:function(){return se},P7:function(){return te},RB:function(){return pe},WJ:function(){return u},X1:function(){return fe},hP:function(){return ne},lD:function(){return $},oN:function(){return I},tl:function(){return O},w_:function(){return S},xB:function(){return h}});var x,i,v=o(1930),g=o(6340),j=o(1935),y=o(8288),V=o(1564),ie=o(5118),I=function(p,_){var E=_?_.width-2*y.gK:void 0,T=p.text;_&&(T=$(p.originalText,(0,g.mO)(p),_.width));var l=fe(p.originalText,(0,g.mO)(p),E),m=p.y,c=p.x;if(_){var n=_.height;c=_.x+y.gK,p.verticalAlign===y.oX.TOP?m=_.y+y.gK:p.verticalAlign===y.oX.BOTTOM?m=_.y+_.height-l.height-y.gK:(m=_.y+_.height/2-l.height/2,l.height>_.height-2*y.gK&&(n=l.height+2*y.gK,m=_.y+n/2-l.height/2)),(0,j.DR)(_,{height:n})}(0,j.DR)(p,{width:l.width,height:l.height,baseline:l.baseline,y:m,x:c,text:T})},te=function(p,_,E){var T=(0,g.xn)(p);_.forEach(function(l){var m=E.get(l.id),c=h(l);if(c){var n=E.get(c);if(n){var C,D=T.get(m);D&&(0,j.DR)(D,{boundElements:(C=l.boundElements)===null||C===void 0?void 0:C.concat({type:"text",id:n})});var B=T.get(n);B&&(0,ie.iB)(B)&&(0,j.DR)(B,{containerId:D?m:null})}}})},pe=function(p,_){var E=h(p);if(E){var T=V.Z.getScene(p).getElement(E);if(T&&T.text){if(!p)return;var l,m=T.text,c=T.height,n=p.height,C=T.baseline;if(_!=="n"&&_!=="s"){m&&(m=$(T.originalText,(0,g.mO)(T),p.width));var D=fe(m,(0,g.mO)(T),p.width);c=D.height,C=D.baseline}if(c>p.height-2*y.gK){var B=(n=c+2*y.gK)-p.height,U=_==="ne"||_==="nw"||_==="n"?p.y-B:p.y;(0,j.DR)(p,{height:n,y:U})}l=T.verticalAlign===y.oX.TOP?p.y+y.gK:T.verticalAlign===y.oX.BOTTOM?p.y+p.height-c-y.gK:p.y+p.height/2-c/2,(0,j.DR)(T,{text:m,width:p.width-2*y.gK,height:c,x:p.x+y.gK,y:l,baseline:C})}}},fe=function(p,_,E){p=p.split(`
`).map(function(D){return D||" "}).join(`
`);var T=document.createElement("div");if(T.style.position="absolute",T.style.whiteSpace="pre",T.style.font=_,T.style.minHeight="1em",E){var l=ne(_);T.style.width="".concat(String(E),"px"),T.style.maxWidth="".concat(String(E),"px"),T.style.overflow="hidden",T.style.wordBreak="break-word",T.style.lineHeight="".concat(String(l),"px"),T.style.whiteSpace="pre-wrap"}document.body.appendChild(T),T.innerText=p;var m=document.createElement("span");m.style.display="inline-block",m.style.overflow="hidden",m.style.width="1px",m.style.height="1px",T.appendChild(m);var c=m.offsetTop+m.offsetHeight,n=T.offsetWidth,C=T.offsetHeight;return document.body.removeChild(T),{width:n,height:C,baseline:c}},W="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".toLocaleUpperCase(),re={},ne=function(p){return re[p]||(re[p]=fe(W,p,null).height),re[p]},ue=function(p,_){x||(x=document.createElement("canvas"));var E=x.getContext("2d");E.font=_;var T=E.measureText(p);return(0,g.h2)()?10*T.width:T.width},$=function(p,_,E){var T=E-2*y.gK,l=[],m=p.split(`
`),c=ue(" ",_);return m.forEach(function(n){var C=n.split(" ");if(C.length===1&&C[0]==="")l.push(C[0]);else{for(var D="",B=0,U=0;U<C.length;)if(ue(C[U],_)>=T){for(D&&l.push(D),D="",B=0;C[U].length>0;){var R=C[U][0],b=ge.calculate(R,_);B+=b,C[U]=C[U].slice(1),B>=T?(D.slice(-1)===" "&&(D=D.slice(0,-1)),l.push(D),D=R,(B=b)===T&&(D="",B=0)):D+=R}B+c>=T?(l.push(D),D="",B=0):(D+=" ",B+=c),U++}else{for(;B<T&&U<C.length;){var M=C[U];if((B=ue(D+M,_))>=T){l.push(D),B=0,D="";break}if(U++,D+="".concat(M," "),B+c>=T){l.push(D.slice(0,-1)),D="",B=0;break}}B===T&&(D="",B=0)}D&&(D.slice(-1)===" "&&(D=D.slice(0,-1)),l.push(D))}}),l.join(`
`)},ge=(i={},{calculate:function(p,_){var E=p.charCodeAt(0);if(i[_]||(i[_]=[]),!i[_][E]){var T=ue(p,_);i[_][E]=T}return i[_][E]},getCache:function(p){return i[p]}}),se=function(p){var _=F(p);return _===0?fe(W.split("").join(`
`),p).width+2*y.gK:_+2*y.gK},S=function(p){return ne(p)+2*y.gK},F=function(p){var _=ge.getCache(p);if(!_)return 0;var E=_.filter(function(T){return T!==void 0});return Math.max.apply(Math,(0,v.Z)(E))},h=function(p){var _,E,T;return p!=null&&(_=p.boundElements)!==null&&_!==void 0&&_.length&&(p==null||(E=p.boundElements)===null||E===void 0||(T=E.filter(function(l){return l.type==="text"})[0])===null||T===void 0?void 0:T.id)||null},u=function(p){if(!p)return null;var _,E=h(p);return E&&((_=V.Z.getScene(p))===null||_===void 0?void 0:_.getElement(E))||null},O=function(p){return p&&p.containerId&&((_=V.Z.getScene(p))===null||_===void 0?void 0:_.getElement(p.containerId))||null;var _}},267:function(le,K,o){o.d(K,{PC:function(){return fe},kK:function(){return pe},ox:function(){return y}});var x=o(2577),i=o(8925),v=o(6552),g=o(5118),j={mouse:8,pen:16,touch:28},y={e:!0,s:!0,n:!0,w:!0},V={e:!0,s:!0,n:!0,w:!0},ie={e:!0,s:!0,n:!0,w:!0,nw:!0,se:!0},I={e:!0,s:!0,n:!0,w:!0,ne:!0,sw:!0},te=function(W,re,ne,ue,$,ge,se){var S=(0,v.U1)(W+ne/2,re+ue/2,$,ge,se),F=(0,x.Z)(S,2);return[F[0]-ne/2,F[1]-ue/2,ne,ue]},pe=function(W,re,ne,ue){var $=(0,x.Z)(W,4),ge=$[0],se=$[1],S=$[2],F=$[3],h=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{},u=j[ue],O=u/ne.value,p=u/ne.value,_=u/ne.value,E=u/ne.value,T=S-ge,l=F-se,m=(ge+S)/2,c=(se+F)/2,n=4/ne.value,C=(u-8)/(2*ne.value),D={nw:h.nw?void 0:te(ge-n-_+C,se-n-E+C,O,p,m,c,re),ne:h.ne?void 0:te(S+n-C,se-n-E+C,O,p,m,c,re),sw:h.sw?void 0:te(ge-n-_+C,F+n-C,O,p,m,c,re),se:h.se?void 0:te(S+n-C,F+n-C,O,p,m,c,re),rotation:h.rotation?void 0:te(ge+T/2-O/2,se-n-E+C-16/ne.value,O,p,m,c,re)},B=5*j.mouse/ne.value;return Math.abs(T)>B&&(h.n||(D.n=te(ge+T/2-O/2,se-n-E+C,O,p,m,c,re)),h.s||(D.s=te(ge+T/2-O/2,F+n-C,O,p,m,c,re))),Math.abs(l)>B&&(h.w||(D.w=te(ge-n-_+C,se+l/2-p/2,O,p,m,c,re)),h.e||(D.e=te(S+n-C,se+l/2-p/2,O,p,m,c,re))),D},fe=function(W,re){var ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"mouse";if(W.locked)return{};var ue={};if(W.type==="arrow"||W.type==="line"||W.type==="freedraw"){if(W.points.length===2){var $=(0,x.Z)(W.points,2),ge=$[1];ge[0]===0||ge[1]===0?ue=I:ge[0]>0&&ge[1]<0?ue=ie:ge[0]>0&&ge[1]>0?ue=I:ge[0]<0&&ge[1]>0?ue=ie:ge[0]<0&&ge[1]<0&&(ue=I)}}else(0,g.iB)(W)&&(ue=V);return pe((0,i.qf)(W),W.angle,re,ne,ue)}},1974:function(le,K,o){o.d(K,{F9:function(){return g},Lx:function(){return I},Mn:function(){return ie},Xh:function(){return re},Xo:function(){return W},bt:function(){return y},dt:function(){return V},f0:function(){return te},iB:function(){return v},mG:function(){return pe},pC:function(){return i},r2:function(){return fe},wi:function(){return x}});var x=function(ne){return!!ne&&ne.type==="image"&&!!ne.fileId},i=function(ne){return!!ne&&ne.type==="image"},v=function(ne){return ne!=null&&ne.type==="text"},g=function(ne){return ne!=null&&j(ne.type)},j=function(ne){return ne==="freedraw"},y=function(ne){return ne!=null&&V(ne.type)},V=function(ne){return ne==="arrow"||ne==="line"},ie=function(ne){var ue=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return ne!=null&&(!ne.locked||ue===!0)&&I(ne.type)},I=function(ne){return ne==="arrow"},te=function(ne){var ue=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return!(ne==null||ne.locked&&ue!==!0||ne.type!=="rectangle"&&ne.type!=="diamond"&&ne.type!=="ellipse"&&ne.type!=="image"&&(ne.type!=="text"||ne.containerId))},pe=function(ne){var ue=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return!(ne==null||ne.locked&&ue!==!0||ne.type!=="rectangle"&&ne.type!=="diamond"&&ne.type!=="ellipse"&&ne.type!=="image")},fe=function(ne){return(ne==null?void 0:ne.type)==="text"||(ne==null?void 0:ne.type)==="diamond"||(ne==null?void 0:ne.type)==="rectangle"||(ne==null?void 0:ne.type)==="ellipse"||(ne==null?void 0:ne.type)==="arrow"||(ne==null?void 0:ne.type)==="freedraw"||(ne==null?void 0:ne.type)==="line"},W=function(ne){var ue;return te(ne)&&!((ue=ne.boundElements)===null||ue===void 0||!ue.some(function($){return $.type==="text"}))},re=function(ne){return ne!==null&&v(ne)&&ne.containerId!==null}},6797:function(le,K,o){o.d(K,{_:function(){return fe},l:function(){return pe}});var x=o(5169),i=o(8821),v=o(2248),g=o(7245),j=o(2312),y=o(5901);function V(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ie(W,re,ne){return ie=V()?Reflect.construct:function(ue,$,ge){var se=[null];se.push.apply(se,$);var S=new(Function.bind.apply(ue,se));return ge&&(0,y.Z)(S,ge.prototype),S},ie.apply(null,arguments)}function I(W){var re=typeof Map=="function"?new Map:void 0;return I=function(ne){if(ne===null||(ue=ne,Function.toString.call(ue).indexOf("[native code]")===-1))return ne;var ue;if(typeof ne!="function")throw new TypeError("Super expression must either be null or a function");if(re!==void 0){if(re.has(ne))return re.get(ne);re.set(ne,$)}function $(){return ie(ne,arguments,(0,j.Z)(this).constructor)}return $.prototype=Object.create(ne.prototype,{constructor:{value:$,enumerable:!1,writable:!0,configurable:!0}}),(0,y.Z)($,ne)},I(W)}function te(W){var re=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var ne,ue=(0,j.Z)(W);if(re){var $=(0,j.Z)(this).constructor;ne=Reflect.construct(ue,arguments,$)}else ne=ue.apply(this,arguments);return(0,g.Z)(this,ne)}}var pe=function(W){(0,v.Z)(ne,W);var re=te(ne);function ne(){var ue,$=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Couldn't export canvas.",ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"CANVAS_ERROR";return(0,i.Z)(this,ne),(ue=re.call(this)).name=ge,ue.message=$,ue}return(0,x.Z)(ne)}(I(Error)),fe=function(W){(0,v.Z)(ne,W);var re=te(ne);function ne(){var ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Request Aborted";return(0,i.Z)(this,ne),re.call(this,ue,"AbortError")}return(0,x.Z)(ne)}(I(DOMException))},242:function(le,K,o){o.d(K,{AI:function(){return h},F$:function(){return te},Fb:function(){return $},Nd:function(){return ue},Qy:function(){return se},S_:function(){return S},YS:function(){return ge},bO:function(){return re},h6:function(){return F},iE:function(){return ne},iJ:function(){return W},yO:function(){return fe},zq:function(){return pe}});var x=o(1930),i=o(2577),v=o(7169),g=o(75),j=o(5710);function y(u,O){var p=typeof Symbol<"u"&&u[Symbol.iterator]||u["@@iterator"];if(!p){if(Array.isArray(u)||(p=function(c,n){if(c){if(typeof c=="string")return V(c,n);var C=Object.prototype.toString.call(c).slice(8,-1);if(C==="Object"&&c.constructor&&(C=c.constructor.name),C==="Map"||C==="Set")return Array.from(c);if(C==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(C))return V(c,n)}}(u))||O&&u&&typeof u.length=="number"){p&&(u=p);var _=0,E=function(){};return{s:E,n:function(){return _>=u.length?{done:!0}:{done:!1,value:u[_++]}},e:function(c){throw c},f:E}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var T,l=!0,m=!1;return{s:function(){p=p.call(u)},n:function(){var c=p.next();return l=c.done,c},e:function(c){m=!0,T=c},f:function(){try{l||p.return==null||p.return()}finally{if(m)throw T}}}}function V(u,O){(O==null||O>u.length)&&(O=u.length);for(var p=0,_=new Array(O);p<O;p++)_[p]=u[p];return _}function ie(u,O){var p=Object.keys(u);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(u);O&&(_=_.filter(function(E){return Object.getOwnPropertyDescriptor(u,E).enumerable})),p.push.apply(p,_)}return p}function I(u){for(var O=1;O<arguments.length;O++){var p=arguments[O]!=null?arguments[O]:{};O%2?ie(Object(p),!0).forEach(function(_){(0,v.Z)(u,_,p[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(p)):ie(Object(p)).forEach(function(_){Object.defineProperty(u,_,Object.getOwnPropertyDescriptor(p,_))})}return u}var te=function(u,O,p){var _=p.filter(function(E){return E.groupIds.includes(u)});return _.length<2?O.selectedGroupIds[u]||O.editingGroupId===u?I(I({},O),{},{selectedGroupIds:I(I({},O.selectedGroupIds),{},(0,v.Z)({},u,!1)),editingGroupId:null}):O:I(I({},O),{},{selectedGroupIds:I(I({},O.selectedGroupIds),{},(0,v.Z)({},u,!0)),selectedElementIds:I(I({},O.selectedElementIds),Object.fromEntries(_.map(function(E){return[E.id,!0]})))})},pe=function(u,O){return fe(u,O)!=null},fe=function(u,O){return O.groupIds.filter(function(p){return p!==u.editingGroupId}).find(function(p){return u.selectedGroupIds[p]})},W=function(u){return Object.entries(u.selectedGroupIds).filter(function(O){var p=(0,i.Z)(O,2);return p[0],p[1]}).map(function(O){var p=(0,i.Z)(O,2),_=p[0];return p[1],_})},re=function(u,O){var p=I(I({},u),{},{selectedGroupIds:{}}),_=(0,g.eD)(O,u);if(!_.length)return I(I({},p),{},{editingGroupId:null});var E,T=y(_);try{for(T.s();!(E=T.n()).done;){var l=E.value.groupIds;if(u.editingGroupId){var m=l.indexOf(u.editingGroupId);m>-1&&(l=l.slice(0,m))}if(l.length>0){var c=l[l.length-1];p=te(c,p,O)}}}catch(n){T.e(n)}finally{T.f()}return p},ne=function(u,O){return I(I({},u),{},{editingGroupId:O.groupIds.length?O.groupIds[0]:null,selectedGroupIds:{},selectedElementIds:(0,v.Z)({},O.id,!0)})},ue=function(u,O){return u.groupIds.includes(O)},$=function(u,O){return u.filter(function(p){return ue(p,O)})},ge=function(u,O){return u.groupIds.find(function(p){return O[p]})},se=function(u,O,p){for(var _=(0,x.Z)(u),E=O?u.indexOf(O):-1,T=E>-1?E:u.length,l=0;l<T;l++)_[l]=p(_[l]);return _},S=function(u,O,p){var _=(0,x.Z)(u),E=p?_.indexOf(p):-1,T=E>-1?E:_.length;return _.splice(T,0,O),_},F=function(u,O){return u.filter(function(p){return!O[p]})},h=function(u){var O=new Map;return u.forEach(function(p){var _=p.groupIds.length===0?p.id:p.groupIds[p.groupIds.length-1],E=O.get(_)||[],T=(0,j.WJ)(p);T&&E.push(T),O.set(_,[].concat((0,x.Z)(E),[p]))}),Array.from(O.values())}},8211:function(le,K,o){o.d(K,{Fp:function(){return V},G3:function(){return W},Mj:function(){return ie},m0:function(){return fe},t:function(){return ne}});var x=o(8950),i=o(7945),v=o.n(i),g=o(1463),j=o(4451),y=o(8288),V={code:"en",label:"English"},ie=[{code:"ar-SA",label:"العربية",rtl:!0},{code:"bg-BG",label:"Български"},{code:"ca-ES",label:"Català"},{code:"cs-CZ",label:"Česky"},{code:"de-DE",label:"Deutsch"},{code:"el-GR",label:"Ελληνικά"},{code:"es-ES",label:"Español"},{code:"eu-ES",label:"Euskara"},{code:"fa-IR",label:"فارسی",rtl:!0},{code:"fi-FI",label:"Suomi"},{code:"fr-FR",label:"Français"},{code:"he-IL",label:"עברית",rtl:!0},{code:"hi-IN",label:"हिन्दी"},{code:"hu-HU",label:"Magyar"},{code:"id-ID",label:"Bahasa Indonesia"},{code:"it-IT",label:"Italiano"},{code:"ja-JP",label:"日本語"},{code:"kab-KAB",label:"Taqbaylit"},{code:"kk-KZ",label:"Қазақ тілі"},{code:"ko-KR",label:"한국어"},{code:"lt-LT",label:"Lietuvių"},{code:"lv-LV",label:"Latviešu"},{code:"my-MM",label:"Burmese"},{code:"nb-NO",label:"Norsk bokmål"},{code:"nl-NL",label:"Nederlands"},{code:"nn-NO",label:"Norsk nynorsk"},{code:"oc-FR",label:"Occitan"},{code:"pa-IN",label:"ਪੰਜਾਬੀ"},{code:"pl-PL",label:"Polski"},{code:"pt-BR",label:"Português Brasileiro"},{code:"pt-PT",label:"Português"},{code:"ro-RO",label:"Română"},{code:"ru-RU",label:"Русский"},{code:"sk-SK",label:"Slovenčina"},{code:"sv-SE",label:"Svenska"},{code:"tr-TR",label:"Türkçe"},{code:"uk-UA",label:"Українська"},{code:"zh-CN",label:"简体中文"},{code:"zh-TW",label:"繁體中文"}].concat([V]).sort(function(ue,$){return ue.label>$.label?1:-1}).filter(function(ue){return j[ue.code]>=85}),I="__test__";y.Vi.DEVELOPMENT==="production"&&ie.unshift({code:I,label:"test language"},{code:"".concat(I,".rtl"),label:"‪test language (rtl)‬",rtl:!0});var te=V,pe={},fe=function(){var ue=(0,x.Z)(v().mark(function $(ge){return v().wrap(function(se){for(;;)switch(se.prev=se.next){case 0:if(te=ge,document.documentElement.dir=te.rtl?"rtl":"ltr",document.documentElement.lang=te.code,!ge.code.startsWith(I)){se.next=7;break}pe={},se.next=10;break;case 7:return se.next=9,o(940)("./".concat(te.code,".json"));case 9:pe=se.sent;case 10:case"end":return se.stop()}},$)}));return function($){return ue.apply(this,arguments)}}(),W=function(){return te},re=function(ue,$){for(var ge=0;ge<$.length;++ge){var se=$[ge];if(ue[se]===void 0)return;ue=ue[se]}if(typeof ue=="string")return ue},ne=function(ue,$){if(te.code.startsWith(I)){var ge=$?"".concat(ue,"(").concat(JSON.stringify($).slice(1,-1),")"):ue;return"‪[[".concat(ge,"]]‬")}var se=ue.split("."),S=re(pe,se)||re(g,se);if(S===void 0)throw new Error("Can't find translation for ".concat(ue));if($)for(var F in $)S=S.replace("{{".concat(F,"}}"),String($[F]));return S}},9487:function(le,K,o){o.d(K,{e_:function(){return v},yE:function(){return i}});var x=o(4739),i=(o(9787),Symbol()),v=(0,x.Vv)()},6066:function(le,K,o){o.d(K,{Dt:function(){return v},E0:function(){return ie},ED:function(){return i},Ge:function(){return I},OA:function(){return V},Um:function(){return x},Wl:function(){return y},aU:function(){return g},tW:function(){return j}});var x=/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),i=/^Win/.test(window.navigator.platform),v=/\b(android)\b/i.test(navigator.userAgent),g={EQUAL:"Equal",MINUS:"Minus",NUM_ADD:"NumpadAdd",NUM_SUBTRACT:"NumpadSubtract",NUM_ZERO:"Numpad0",BRACKET_RIGHT:"BracketRight",BRACKET_LEFT:"BracketLeft",ONE:"Digit1",TWO:"Digit2",NINE:"Digit9",QUOTE:"Quote",ZERO:"Digit0",SLASH:"Slash",C:"KeyC",D:"KeyD",G:"KeyG",F:"KeyF",H:"KeyH",V:"KeyV",X:"KeyX",Z:"KeyZ",R:"KeyR"},j={ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",BACKSPACE:"Backspace",ALT:"Alt",CTRL_OR_CMD:x?"metaKey":"ctrlKey",DELETE:"Delete",ENTER:"Enter",ESCAPE:"Escape",QUESTION_MARK:"?",SPACE:" ",TAB:"Tab",CHEVRON_LEFT:"<",CHEVRON_RIGHT:">",PERIOD:".",COMMA:",",A:"a",D:"d",E:"e",G:"g",I:"i",L:"l",O:"o",P:"p",Q:"q",R:"r",S:"s",T:"t",V:"v",X:"x",Y:"y",Z:"z",K:"k"},y=function(te){return te===j.ARROW_LEFT||te===j.ARROW_RIGHT||te===j.ARROW_DOWN||te===j.ARROW_UP},V=function(te){return te.altKey},ie=function(te){return te.shiftKey},I=function(te){return te.shiftKey}},6552:function(le,K,o){o.d(K,{H5:function(){return y},LW:function(){return j},U1:function(){return i},c9:function(){return ie},g6:function(){return V},wC:function(){return fe},xj:function(){return v},yq:function(){return g}});var x=o(8288),i=function(W,re,ne,ue,$){return[(W-ne)*Math.cos($)-(re-ue)*Math.sin($)+ne,(W-ne)*Math.sin($)+(re-ue)*Math.cos($)+ue]},v=function(W,re,ne){return i(W[0],W[1],re[0],re[1],ne)},g=function(W,re,ne,ue,$,ge,se,S){var F=Math.cos(ue),h=Math.sin(ue);return W.e&&W.w?re+=$+se:W.e?(re+=$*(1+F),ne+=$*h,re+=se*(1-F),ne+=se*-h):W.w&&(re+=$*(1-F),ne+=$*-h,re+=se*(1+F),ne+=se*h),W.n&&W.s?ne+=ge+S:W.n?(re+=ge*h,ne+=ge*(1-F),re+=S*-h,ne+=S*(1+F)):W.s&&(re+=ge*-h,ne+=ge*(1+F),re+=S*h,ne+=S*(1-F)),[re,ne]},j=function(W,re,ne,ue){var $=ne-W,ge=ue-re;return Math.hypot($,ge)},y=function(W,re){return[(W[0]+re[0])/2,(W[1]+re[1])/2]},V=function(W){var re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;if(W.length>=3){var ne=[W[0],W[W.length-1]],ue=ne[0],$=ne[1],ge=j(ue[0],ue[1],$[0],$[1]);return ge<=x.qx/re}return!1},ie=function(W,re,ne){var ue=W.length;if(ue<3)return!1;for(var $=[Number.MAX_SAFE_INTEGER,ne],ge=[re,ne],se=0,S=0;S<ue;S++){var F=W[S],h=W[(S+1)%ue];if(pe(F,h,ge,$)){if(te(F,ge,h)===0)return I(F,ge,h);se++}}return se%2==1},I=function(W,re,ne){return re[0]<=Math.max(W[0],ne[0])&&re[0]>=Math.min(W[0],ne[0])&&re[1]<=Math.max(W[1],ne[1])&&re[1]>=Math.min(W[1],ne[1])},te=function(W,re,ne){var ue=(re[1]-W[1])*(ne[0]-re[0])-(re[0]-W[0])*(ne[1]-re[1]);return ue===0?0:ue>0?1:2},pe=function(W,re,ne,ue){var $=te(W,re,ne),ge=te(W,re,ue),se=te(ne,ue,W),S=te(ne,ue,re);return $!==ge&&se!==S||!($!==0||!I(W,ne,re))||!(ge!==0||!I(W,ue,re))||!(se!==0||!I(ne,W,ue))||!(S!==0||!I(ne,re,ue))},fe=function(W,re,ne){return ne?[Math.round(W/ne)*ne,Math.round(re/ne)*ne]:[W,re]}},3024:function(le,K,o){o.d(K,{$D:function(){return S},Fl:function(){return se},I_:function(){return pe.I_},N7:function(){return re.N7},NI:function(){return pe.NI},NL:function(){return ge},ZY:function(){return W.ZY},cT:function(){return W.cT},i1:function(){return F},lV:function(){return W.lV},zh:function(){return ne.zh}});var x=o(8950),i=o(7169),v=o(7945),g=o.n(v),j=o(4162),y=o(8897),V=o(5118),ie=o(679),I=o(8288),te=o(673),pe=o(5523),fe=o(6665),W=o(434),re=o(3063),ne=o(7053);function ue(h,u){var O=Object.keys(h);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(h);u&&(p=p.filter(function(_){return Object.getOwnPropertyDescriptor(h,_).enumerable})),O.push.apply(O,p)}return O}function $(h){for(var u=1;u<arguments.length;u++){var O=arguments[u]!=null?arguments[u]:{};u%2?ue(Object(O),!0).forEach(function(p){(0,i.Z)(h,p,O[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(O)):ue(Object(O)).forEach(function(p){Object.defineProperty(h,p,Object.getOwnPropertyDescriptor(O,p))})}return h}var ge=function(h){var u=h.elements,O=h.appState,p=h.files,_=h.maxWidthOrHeight,E=h.getDimensions,T=(0,ie.nu)({elements:u,appState:O},null,null),l=T.elements,m=T.appState,c=m.exportBackground,n=m.viewBackgroundColor;return(0,j.NL)((0,V.Lm)(l),$($({},m),{},{offsetTop:0,offsetLeft:0,width:0,height:0}),p||{},{exportBackground:c,viewBackgroundColor:n},function(C,D){var B,U=document.createElement("canvas");if(_){typeof E=="function"&&console.warn("`getDimensions()` is ignored when `maxWidthOrHeight` is supplied.");var R=Math.max(C,D),b=_/R;return U.width=C*b,U.height=D*b,{canvas:U,scale:b}}var M=(E==null?void 0:E(C,D))||{width:C,height:D};return U.width=M.width,U.height=M.height,{canvas:U,scale:(B=M.scale)!==null&&B!==void 0?B:1}})},se=function(){var h=(0,x.Z)(g().mark(function u(O){var p,_,E,T,l,m;return g().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return E=(_=O).mimeType,T=E===void 0?I.LO.png:E,l=_.quality,T===I.LO.png&&typeof l=="number"&&console.warn('"quality" will be ignored for "'.concat(I.LO.png,'" mimeType')),T==="image/jpg"&&(T=I.LO.jpg),T!==I.LO.jpg||(p=O.appState)!==null&&p!==void 0&&p.exportBackground||(console.warn('Defaulting "exportBackground" to "true" for "'.concat(I.LO.jpg,'" mimeType')),O=$($({},O),{},{appState:$($({},O.appState),{},{exportBackground:!0})})),c.next=6,ge(O);case 6:return m=c.sent,l=l||(/image\/jpe?g/.test(T)?.92:.8),c.abrupt("return",new Promise(function(n,C){m.toBlob(function(){var D=(0,x.Z)(g().mark(function B(U){var R;return g().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(U){b.next=2;break}return b.abrupt("return",C(new Error("couldn't export to blob")));case 2:if(!U||T!==I.LO.png||(R=O.appState)===null||R===void 0||!R.exportEmbedScene){b.next=6;break}return b.next=5,(0,te.encodePngMetadata)({blob:U,metadata:(0,pe.I_)(O.elements,O.appState,O.files||{},"local")});case 5:U=b.sent;case 6:n(U);case 7:case"end":return b.stop()}},B)}));return function(B){return D.apply(this,arguments)}}(),T,l)}));case 9:case"end":return c.stop()}},u)}));return function(u){return h.apply(this,arguments)}}(),S=function(){var h=(0,x.Z)(g().mark(function u(O){var p,_,E,T,l,m,c,n,C;return g().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return p=O.elements,_=O.appState,E=_===void 0?(0,y.im)():_,T=O.files,l=T===void 0?{}:T,m=O.exportPadding,c=(0,ie.nu)({elements:p,appState:E},null,null),n=c.elements,C=c.appState,D.abrupt("return",(0,j.$D)((0,V.Lm)(n),$($({},C),{},{exportPadding:m}),l));case 3:case"end":return D.stop()}},u)}));return function(u){return h.apply(this,arguments)}}(),F=function(){var h=(0,x.Z)(g().mark(function u(O){var p,_;return g().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:if(O.type!=="svg"){E.next=8;break}return E.next=3,S(O);case 3:return p=E.sent,E.next=6,(0,fe.dd)(p.outerHTML);case 6:case 11:case 17:E.next=20;break;case 8:if(O.type!=="png"){E.next=13;break}return E.next=11,(0,fe.uR)(se(O));case 13:if(O.type!=="json"){E.next=19;break}return _=$($({offsetTop:0,offsetLeft:0,width:0,height:0},(0,y.im)()),O.appState),E.next=17,(0,fe.vQ)(O.elements,_,O.files);case 19:throw new Error("Invalid export type");case 20:case"end":return E.stop()}},u)}));return function(u){return h.apply(this,arguments)}}()},5001:function(le,K,o){o.d(K,{k:function(){return i},z:function(){return v}});var x=o(1930),i=function(g){var j=g.map(function(V){return V[0]}),y=g.map(function(V){return V[1]});return{width:Math.max.apply(Math,(0,x.Z)(j))-Math.min.apply(Math,(0,x.Z)(j)),height:Math.max.apply(Math,(0,x.Z)(y))-Math.min.apply(Math,(0,x.Z)(y))}},v=function(g,j,y){var V=y.map(function(ne){return ne[g]}),ie=Math.max.apply(Math,(0,x.Z)(V)),I=Math.min.apply(Math,(0,x.Z)(V)),te=ie-I,pe=te===0?1:j/te,fe=1/0,W=y.map(function(ne){return ne.map(function(ue,$){if($!==g)return ue;var ge=ue*pe;return fe=Math.min(ge,fe),ge})});if(W.length===2)return W;var re=I-fe;return W.map(function(ne){return ne.map(function(ue,$){return $===g?ue+re:ue})})}},6954:function(le,K,o){o.d(K,{LU:function(){return y},kb:function(){return V}});var x=o(8152),i=o(5605),v=o(6340),g=new x.k(Date.now()),j=0,y=function(){return Math.floor(g.next()*Math.pow(2,31))},V=function(){return(0,v.h2)()?"id".concat(j++):(0,i.x0)()}},3063:function(le,K,o){o.d(K,{Dn:function(){return b},i:function(){return L},N7:function(){return Ne},R2:function(){return Y},bI:function(){return xe},lw:function(){return ee},Rg:function(){return Oe}});var x=o(1930),i=o(7169),v=o(2577),g=o(1974),j=o(8925),y=o(6340),V=o(6552),ie=o(8234),I=o(8897),te=o(8288);function pe(P,ye,me,Pe=Ze=>Ze){return P*Pe(.5-ye*(.5-me))}function fe(P,ye){return[P[0]+ye[0],P[1]+ye[1]]}function W(P,ye){return[P[0]-ye[0],P[1]-ye[1]]}function re(P,ye){return[P[0]*ye,P[1]*ye]}function ne(P){return[P[1],-P[0]]}function ue(P,ye){return P[0]*ye[0]+P[1]*ye[1]}function $(P,ye){return P[0]===ye[0]&&P[1]===ye[1]}function ge(P,ye){return function(me){return me[0]*me[0]+me[1]*me[1]}(W(P,ye))}function se(P){return function(ye,me){return[ye[0]/me,ye[1]/me]}(P,function(ye){return Math.hypot(ye[0],ye[1])}(P))}function S(P,ye){return Math.hypot(P[1]-ye[1],P[0]-ye[0])}function F(P,ye,me){let Pe=Math.sin(me),Ze=Math.cos(me),Je=P[0]-ye[0],nt=P[1]-ye[1],ft=Je*Pe+nt*Ze;return[Je*Ze-nt*Pe+ye[0],ft+ye[1]]}function h(P,ye,me){return fe(P,re(W(ye,P),me))}function u(P,ye,me){return fe(P,re(ye,me))}var{min:O,PI:p}=Math,_=p+1e-4;function E(P,ye={}){return function(me,Pe={}){let{size:Ze=16,smoothing:Je=.5,thinning:nt=.5,simulatePressure:ft=!0,easing:pt=Rt=>Rt,start:et={},end:he={},last:de=!1}=Pe,{cap:_e=!0,taper:we=0,easing:Me=Rt=>Rt*(2-Rt)}=et,{cap:Te=!0,taper:Le=0,easing:Be=Rt=>--Rt*Rt*Rt+1}=he;if(me.length===0||Ze<=0)return[];let We,Ge=me[me.length-1].runningLength,it=Math.pow(Ze*Je,2),Re=[],Xe=[],xt=me.slice(0,10).reduce((Rt,qt)=>{let Ht=qt.pressure;if(ft){let sn=O(1,qt.distance/Ze),wn=O(1,1-sn);Ht=O(1,Rt+.275*sn*(wn-Rt))}return(Rt+Ht)/2},me[0].pressure),st=pe(Ze,nt,me[me.length-1].pressure,pt),Ot=me[0].vector,gt=me[0].point,kt=gt,It=gt,Mt=kt;for(let Rt=0;Rt<me.length;Rt++){let{pressure:qt}=me[Rt],{point:Ht,vector:sn,distance:wn,runningLength:Sn}=me[Rt];if(Rt<me.length-1&&Ge-Sn<3)continue;if(nt){if(ft){let Gn=O(1,wn/Ze),eo=O(1,1-Gn);qt=O(1,xt+.275*Gn*(eo-xt))}st=pe(Ze,nt,qt,pt)}else st=Ze/2;We===void 0&&(We=st);let Yn=Sn<we?Me(Sn/we):1,jn=Ge-Sn<Le?Be((Ge-Sn)/Le):1;if(st=Math.max(.01,st*Math.min(Yn,jn)),Rt===me.length-1){let Gn=re(ne(sn),st);Re.push(W(Ht,Gn)),Xe.push(fe(Ht,Gn));continue}let er=me[Rt+1].vector,Cn=ue(sn,er);if(Cn<0){let Gn=re(ne(Ot),st);for(let eo=.07692307692307693,xr=0;xr<=1;xr+=eo)It=F(W(Ht,Gn),Ht,_*xr),Re.push(It),Mt=F(fe(Ht,Gn),Ht,_*-xr),Xe.push(Mt);gt=It,kt=Mt;continue}let yr=re(ne(h(er,sn,Cn)),st);It=W(Ht,yr),(Rt<=1||ge(gt,It)>it)&&(Re.push(It),gt=It),Mt=fe(Ht,yr),(Rt<=1||ge(kt,Mt)>it)&&(Xe.push(Mt),kt=Mt),xt=qt,Ot=sn}let Zt=me[0].point.slice(0,2),Nt=me.length>1?me[me.length-1].point.slice(0,2):fe(me[0].point,[1,1]),Ft=[],on=[];if(me.length===1){if(!we&&!Le||de){let Rt=u(Zt,se(ne(W(Zt,Nt))),-(We||st)),qt=[];for(let Ht=.07692307692307693,sn=Ht;sn<=1;sn+=Ht)qt.push(F(Rt,Zt,2*_*sn));return qt}}else{if(!(we||Le&&me.length===1))if(_e)for(let qt=.07692307692307693,Ht=qt;Ht<=1;Ht+=qt){let sn=F(Xe[0],Zt,_*Ht);Ft.push(sn)}else{let qt=W(Re[0],Xe[0]),Ht=re(qt,.5),sn=re(qt,.51);Ft.push(W(Zt,Ht),W(Zt,sn),fe(Zt,sn),fe(Zt,Ht))}let Rt=ne(function(qt){return[-qt[0],-qt[1]]}(me[me.length-1].vector));if(Le||we&&me.length===1)on.push(Nt);else if(Te){let qt=u(Nt,Rt,st);for(let Ht=.034482758620689655,sn=Ht;sn<1;sn+=Ht)on.push(F(qt,Nt,3*_*sn))}else on.push(fe(Nt,re(Rt,st)),fe(Nt,re(Rt,.99*st)),W(Nt,re(Rt,.99*st)),W(Nt,re(Rt,st)))}return Re.concat(on,Xe.reverse(),Ft)}(function(me,Pe={}){var Ze;let{streamline:Je=.5,size:nt=16,last:ft=!1}=Pe;if(me.length===0)return[];let pt=.15+.85*(1-Je),et=Array.isArray(me[0])?me:me.map(({x:Te,y:Le,pressure:Be=.5})=>[Te,Le,Be]);if(et.length===2){let Te=et[1];et=et.slice(0,-1);for(let Le=1;Le<5;Le++)et.push(h(et[0],Te,Le/4))}et.length===1&&(et=[...et,[...fe(et[0],[1,1]),...et[0].slice(2)]]);let he=[{point:[et[0][0],et[0][1]],pressure:et[0][2]>=0?et[0][2]:.25,vector:[1,1],distance:0,runningLength:0}],de=!1,_e=0,we=he[0],Me=et.length-1;for(let Te=1;Te<et.length;Te++){let Le=ft&&Te===Me?et[Te].slice(0,2):h(we.point,et[Te],pt);if($(we.point,Le))continue;let Be=S(Le,we.point);if(_e+=Be,Te<Me&&!de){if(_e<nt)continue;de=!0}we={point:Le,pressure:et[Te][2]>=0?et[Te][2]:.5,vector:se(W(we.point,Le)),distance:Be,runningLength:_e},he.push(we)}return he[0].vector=((Ze=he[1])==null?void 0:Ze.vector)||[0,0],he}(P,ye),ye)}var T=o(5710);function l(P,ye){var me=Object.keys(P);if(Object.getOwnPropertySymbols){var Pe=Object.getOwnPropertySymbols(P);ye&&(Pe=Pe.filter(function(Ze){return Object.getOwnPropertyDescriptor(P,Ze).enumerable})),me.push.apply(me,Pe)}return me}function m(P){for(var ye=1;ye<arguments.length;ye++){var me=arguments[ye]!=null?arguments[ye]:{};ye%2?l(Object(me),!0).forEach(function(Pe){(0,i.Z)(P,Pe,me[Pe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(P,Object.getOwnPropertyDescriptors(me)):l(Object(me)).forEach(function(Pe){Object.defineProperty(P,Pe,Object.getOwnPropertyDescriptor(me,Pe))})}return P}var c="invert(100%) hue-rotate(180deg) saturate(1.25)",n=(0,I.im)(),C=function(P,ye){return(0,g.wi)(P)&&!ye.imageCache.has(P.fileId)},D=function(P,ye){var me;return ye.theme==="dark"&&(0,g.wi)(P)&&!C(P,ye)&&((me=ye.imageCache.get(P.fileId))===null||me===void 0?void 0:me.mimeType)!==te.LO.svg},B=function(P){return[8,8+P]},U=function(P){return[1.5,6+P]},R=function(P){return P.type==="freedraw"?12*P.strokeWidth:20},b=14,M=document.createElement("img");M.src="data:".concat(te.LO.svg,",").concat(encodeURIComponent('<svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="image" class="svg-inline--fa fa-image fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="#888" d="M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"></path></svg>'));var G=document.createElement("img");G.src="data:".concat(te.LO.svg,",").concat(encodeURIComponent('<svg viewBox="0 0 668 668" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2"><path d="M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48ZM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56ZM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48Z" style="fill:#888;fill-rule:nonzero" transform="matrix(.81709 0 0 .81709 124.825 145.825)"/><path d="M256 8C119.034 8 8 119.033 8 256c0 136.967 111.034 248 248 248s248-111.034 248-248S392.967 8 256 8Zm130.108 117.892c65.448 65.448 70 165.481 20.677 235.637L150.47 105.216c70.204-49.356 170.226-44.735 235.638 20.676ZM125.892 386.108c-65.448-65.448-70-165.481-20.677-235.637L361.53 406.784c-70.203 49.356-170.226 44.736-235.638-20.676Z" style="fill:#888;fill-rule:nonzero" transform="matrix(.30366 0 0 .30366 506.822 60.065)"/></svg>'));var ae=function(P,ye,me,Pe){switch(me.globalAlpha=P.opacity/100,P.type){case"rectangle":case"diamond":case"ellipse":me.lineJoin="round",me.lineCap="round",ye.draw(Y(P));break;case"arrow":case"line":me.lineJoin="round",me.lineCap="round",Y(P).forEach(function(Te){ye.draw(Te)});break;case"freedraw":me.save(),me.fillStyle=P.strokeColor;var Ze=function(Te){return Q.get(Te)}(P),Je=Y(P);Je&&ye.draw(Je),me.fillStyle=P.strokeColor,me.fill(Ze),me.restore();break;case"image":var nt,ft=(0,g.wi)(P)?(nt=Pe.imageCache.get(P.fileId))===null||nt===void 0?void 0:nt.image:void 0;ft==null||ft instanceof Promise?function(Te,Le,Be){Le.fillStyle="#E7E7E7",Le.fillRect(0,0,Te.width,Te.height);var We=Math.min(Te.width,Te.height),Ge=Math.min(We,Math.min(.4*We,100));Le.drawImage(Te.status==="error"?G:M,Te.width/2-Ge/2,Te.height/2-Ge/2,Ge,Ge)}(P,me,Pe.zoom.value):me.drawImage(ft,0,0,P.width,P.height);break;default:if(!(0,g.iB)(P))throw new Error("Unimplemented type ".concat(P.type));var pt=(0,y.dZ)(P.text),et=pt&&!me.canvas.isConnected;et&&document.body.appendChild(me.canvas),me.canvas.setAttribute("dir",pt?"rtl":"ltr"),me.save(),me.font=(0,y.mO)(P),me.fillStyle=P.strokeColor,me.textAlign=P.textAlign;var he=P.text.replace(/\r\n?/g,`
`).split(`
`),de=P.containerId?(0,T.hP)((0,y.mO)(P)):P.height/he.length,_e=P.height-P.baseline;P.verticalAlign===te.oX.BOTTOM&&(_e=te.gK);for(var we=P.textAlign==="center"?P.width/2:P.textAlign==="right"?P.width:0,Me=0;Me<he.length;Me++)me.fillText(he[Me],we,(Me+1)*de-_e);me.restore(),et&&me.canvas.remove()}me.globalAlpha=1},ce=new WeakMap,J=new WeakMap,Y=function(P){return J.get(P)},oe=function(P,ye){return J.set(P,ye)},xe=function(P){return J.delete(P)},L=function(P){var ye=arguments.length>1&&arguments[1]!==void 0&&arguments[1],me={seed:P.seed,strokeLineDash:P.strokeStyle==="dashed"?B(P.strokeWidth):P.strokeStyle==="dotted"?U(P.strokeWidth):void 0,disableMultiStroke:P.strokeStyle!=="solid",strokeWidth:P.strokeStyle!=="solid"?P.strokeWidth+.5:P.strokeWidth,fillWeight:P.strokeWidth/2,hachureGap:4*P.strokeWidth,roughness:P.roughness,stroke:P.strokeColor,preserveVertices:ye};switch(P.type){case"rectangle":case"diamond":case"ellipse":return me.fillStyle=P.fillStyle,me.fill=P.backgroundColor==="transparent"?void 0:P.backgroundColor,P.type==="ellipse"&&(me.curveFitting=1),me;case"line":case"freedraw":return(0,V.g6)(P.points)&&(me.fillStyle=P.fillStyle,me.fill=P.backgroundColor==="transparent"?void 0:P.backgroundColor),me;case"arrow":return me;default:throw new Error("Unimplemented type ".concat(P.type))}},A=function(P,ye){var me=J.get(P);if(me===void 0)switch(ce.delete(P),P.type){case"rectangle":if(P.strokeSharpness==="round"){var Pe=P.width,Ze=P.height,Je=.25*Math.min(Pe,Ze);me=ye.path("M ".concat(Je," 0 L ").concat(Pe-Je," 0 Q ").concat(Pe," 0, ").concat(Pe," ").concat(Je," L ").concat(Pe," ").concat(Ze-Je," Q ").concat(Pe," ").concat(Ze,", ").concat(Pe-Je," ").concat(Ze," L ").concat(Je," ").concat(Ze," Q 0 ").concat(Ze,", 0 ").concat(Ze-Je," L 0 ").concat(Je," Q 0 0, ").concat(Je," 0"),L(P,!0))}else me=ye.rectangle(0,0,P.width,P.height,L(P));oe(P,me);break;case"diamond":var nt=(0,j.UC)(P),ft=(0,v.Z)(nt,8),pt=ft[0],et=ft[1],he=ft[2],de=ft[3],_e=ft[4],we=ft[5],Me=ft[6],Te=ft[7];me=P.strokeSharpness==="round"?ye.path("M ".concat(pt+.25*(he-pt)," ").concat(et+.25*(de-et)," L ").concat(he-.25*(he-pt)," ").concat(de-.25*(de-et),`
            C `).concat(he," ").concat(de,", ").concat(he," ").concat(de,", ").concat(he-.25*(he-_e)," ").concat(de+.25*(we-de),`
            L `).concat(_e+.25*(he-_e)," ").concat(we-.25*(we-de),`
            C `).concat(_e," ").concat(we,", ").concat(_e," ").concat(we,", ").concat(_e-.25*(_e-Me)," ").concat(we-.25*(we-Te),`
            L `).concat(Me+.25*(_e-Me)," ").concat(Te+.25*(we-Te),`
            C `).concat(Me," ").concat(Te,", ").concat(Me," ").concat(Te,", ").concat(Me+.25*(pt-Me)," ").concat(Te-.25*(Te-et),`
            L `).concat(pt-.25*(pt-Me)," ").concat(et+.25*(Te-et),`
            C `).concat(pt," ").concat(et,", ").concat(pt," ").concat(et,", ").concat(pt+.25*(he-pt)," ").concat(et+.25*(de-et)),L(P,!0)):ye.polygon([[pt,et],[he,de],[_e,we],[Me,Te]],L(P)),oe(P,me);break;case"ellipse":me=ye.ellipse(P.width/2,P.height/2,P.width,P.height,L(P)),oe(P,me);break;case"line":case"arrow":var Le=L(P),Be=P.points.length?P.points:[[0,0]];if(me=P.strokeSharpness==="sharp"?Le.fill?[ye.polygon(Be,Le)]:[ye.linearPath(Be,Le)]:[ye.curve(Be,Le)],P.type==="arrow"){var We=P.startArrowhead,Ge=We===void 0?null:We,it=P.endArrowhead,Re=it===void 0?"arrow":it,Xe=function(kt,It,Mt,Zt){var Nt=(0,j.Y5)(kt,It,Mt,Zt);if(Nt===null)return[];if(Zt==="dot"){var Ft=(0,v.Z)(Nt,3),on=Ft[0],Rt=Ft[1],qt=Ft[2];return[ye.circle(on,Rt,qt,m(m({},Le),{},{fill:kt.strokeColor,fillStyle:"solid",stroke:"none"}))]}if(Zt==="triangle"){var Ht=(0,v.Z)(Nt,6),sn=Ht[0],wn=Ht[1],Sn=Ht[2],Yn=Ht[3],jn=Ht[4],er=Ht[5];return delete Le.strokeLineDash,[ye.polygon([[sn,wn],[Sn,Yn],[jn,er],[sn,wn]],m(m({},Le),{},{fill:kt.strokeColor,fillStyle:"solid"}))]}var Cn=(0,v.Z)(Nt,6),yr=Cn[0],Gn=Cn[1],eo=Cn[2],xr=Cn[3],Qo=Cn[4],Lo=Cn[5];if(kt.strokeStyle==="dotted"){var to=U(kt.strokeWidth-1);Le.strokeLineDash=[to[0],to[1]-1]}else delete Le.strokeLineDash;return[ye.line(eo,xr,yr,Gn,Le),ye.line(Qo,Lo,yr,Gn,Le)]};if(Ge!==null){var xt,st=Xe(P,me,"start",Ge);(xt=me).push.apply(xt,(0,x.Z)(st))}if(Re!==null){var Ot,gt=Xe(P,me,"end",Re);(Ot=me).push.apply(Ot,(0,x.Z)(gt))}}oe(P,me);break;case"freedraw":Ce(P),me=(0,V.g6)(P.points)?ye.polygon(P.points,m(m({},L(P)),{},{stroke:"none"})):null,oe(P,me);break;case"text":case"image":oe(P,null)}},N=function(P,ye){var me=ye?ye.zoom:n.zoom,Pe=ce.get(P),Ze=Pe&&Pe.canvasZoom!==me.value&&!(ye!=null&&ye.shouldCacheIgnoreZoom);if(!Pe||Ze||Pe.theme!==ye.theme){var Je=function(nt,ft,pt){var et=document.createElement("canvas"),he=et.getContext("2d"),de=R(nt),_e=0,we=0;if((0,g.bt)(nt)||(0,g.F9)(nt)){var Me=(0,j.qf)(nt),Te=(0,v.Z)(Me,4),Le=Te[0],Be=Te[1],We=Te[2],Ge=Te[3];et.width=(0,y.TE)(Le,We)*window.devicePixelRatio*ft.value+de*ft.value*2,et.height=(0,y.TE)(Be,Ge)*window.devicePixelRatio*ft.value+de*ft.value*2,_e=nt.x>Le?(0,y.TE)(nt.x,Le)*window.devicePixelRatio*ft.value:0,we=nt.y>Be?(0,y.TE)(nt.y,Be)*window.devicePixelRatio*ft.value:0,he.translate(_e,we)}else et.width=nt.width*window.devicePixelRatio*ft.value+de*ft.value*2,et.height=nt.height*window.devicePixelRatio*ft.value+de*ft.value*2;he.save(),he.translate(de*ft.value,de*ft.value),he.scale(window.devicePixelRatio*ft.value,window.devicePixelRatio*ft.value);var it=ie.Z.canvas(et);return D(nt,pt)&&(he.filter=c),ae(nt,it,he,pt),he.restore(),{element:nt,canvas:et,theme:pt.theme,canvasZoom:ft.value,canvasOffsetX:_e,canvasOffsetY:we}}(P,me,ye);return ce.set(P,Je),Je}return Pe},z=function(P,ye,me,Pe){var Ze=P.element,Je=R(Ze),nt=(0,j.qf)(Ze),ft=(0,v.Z)(nt,4),pt=ft[0],et=ft[1],he=ft[2],de=ft[3];(0,g.F9)(Ze)&&(pt=Math.floor(pt),he=Math.ceil(he),et=Math.floor(et),de=Math.ceil(de));var _e=((pt+he)/2+Pe.scrollX)*window.devicePixelRatio,we=((et+de)/2+Pe.scrollY)*window.devicePixelRatio,Me=C(Ze,Pe),Te="scale"in P.element&&!Me?P.element.scale[0]:1,Le="scale"in P.element&&!Me?P.element.scale[1]:1;me.save(),me.scale(1/window.devicePixelRatio*Te,1/window.devicePixelRatio*Le),me.translate(_e*Te,we*Le),me.rotate(Ze.angle*Te*Le),me.drawImage(P.canvas,-(he-pt)/2*window.devicePixelRatio-Je*P.canvasZoom/P.canvasZoom,-(de-et)/2*window.devicePixelRatio-Je*P.canvasZoom/P.canvasZoom,P.canvas.width/P.canvasZoom,P.canvas.height/P.canvasZoom),me.restore()},ee=function(P,ye,me,Pe){var Ze=ye.generator;switch(P.type){case"selection":me.save(),me.translate(P.x+Pe.scrollX,P.y+Pe.scrollY),me.fillStyle="rgba(0, 0, 255, 0.10)",me.fillRect(0,0,P.width,P.height),me.restore();break;case"freedraw":if(A(P,Ze),Pe.isExporting){var Je=N(P,Pe);z(Je,0,me,Pe)}else{var nt=(0,j.qf)(P),ft=(0,v.Z)(nt,4),pt=ft[0],et=ft[1],he=ft[2],de=ft[3],_e=(pt+he)/2+Pe.scrollX,we=(et+de)/2+Pe.scrollY,Me=(he-pt)/2-(P.x-pt),Te=(de-et)/2-(P.y-et);me.save(),me.translate(_e,we),me.rotate(P.angle),me.translate(-Me,-Te),ae(P,ye,me,Pe),me.restore()}break;case"rectangle":case"diamond":case"ellipse":case"line":case"arrow":case"image":case"text":if(A(P,Ze),Pe.isExporting){var Le=(0,j.qf)(P),Be=(0,v.Z)(Le,4),We=Be[0],Ge=Be[1],it=Be[2],Re=Be[3],Xe=(We+it)/2+Pe.scrollX,xt=(Ge+Re)/2+Pe.scrollY,st=(it-We)/2-(P.x-We),Ot=(Re-Ge)/2-(P.y-Ge);me.save(),me.translate(Xe,xt),me.rotate(P.angle),me.translate(-st,-Ot),D(P,Pe)&&(me.filter="none"),ae(P,ye,me,Pe),me.restore()}else{var gt=N(P,Pe);z(gt,0,me,Pe)}break;default:throw new Error("Unimplemented type ".concat(P.type))}},ke=function(P,ye,me){if(me===void 0)return P.draw(ye);var Pe={sets:ye.sets,shape:ye.shape,options:m(m({},ye.options),{},{fixedDecimalPlaceDigits:me})};return P.draw(Pe)},Oe=function(P,ye,me,Pe,Ze,Je,nt){var ft=(0,j.qf)(P),pt=(0,v.Z)(ft,4),et=pt[0],he=pt[1],de=pt[2],_e=pt[3],we=(de-et)/2-(P.x-et),Me=(_e-he)/2-(P.y-he),Te=180*P.angle/Math.PI,Le=ye.generator,Be=me;if(P.link){var We=me.ownerDocument.createElementNS(te.hR,"a");We.setAttribute("href",P.link),Be.appendChild(We),Be=We}switch(P.type){case"selection":throw new Error("Selection rendering is not supported for SVG");case"rectangle":case"diamond":case"ellipse":A(P,Le);var Ge=ke(ye,Y(P),te.zK),it=P.opacity/100;it!==1&&(Ge.setAttribute("stroke-opacity","".concat(it)),Ge.setAttribute("fill-opacity","".concat(it))),Ge.setAttribute("stroke-linecap","round"),Ge.setAttribute("transform","translate(".concat(Ze||0," ").concat(Je||0,") rotate(").concat(Te," ").concat(we," ").concat(Me,")")),Be.appendChild(Ge);break;case"line":case"arrow":A(P,Le);var Re=me.ownerDocument.createElementNS(te.hR,"g"),Xe=P.opacity/100;Re.setAttribute("stroke-linecap","round"),Y(P).forEach(function(er){var Cn=ke(ye,er,te.zK);Xe!==1&&(Cn.setAttribute("stroke-opacity","".concat(Xe)),Cn.setAttribute("fill-opacity","".concat(Xe))),Cn.setAttribute("transform","translate(".concat(Ze||0," ").concat(Je||0,") rotate(").concat(Te," ").concat(we," ").concat(Me,")")),P.type==="line"&&(0,V.g6)(P.points)&&P.backgroundColor!=="transparent"&&Cn.setAttribute("fill-rule","evenodd"),Re.appendChild(Cn)}),Be.appendChild(Re);break;case"freedraw":A(P,Le),Ce(P);var xt=P.opacity/100,st=Y(P),Ot=st?ke(ye,st,te.zK):me.ownerDocument.createElementNS(te.hR,"g");xt!==1&&(Ot.setAttribute("stroke-opacity","".concat(xt)),Ot.setAttribute("fill-opacity","".concat(xt))),Ot.setAttribute("transform","translate(".concat(Ze||0," ").concat(Je||0,") rotate(").concat(Te," ").concat(we," ").concat(Me,")")),Ot.setAttribute("stroke","none");var gt=me.ownerDocument.createElementNS(te.hR,"path");gt.setAttribute("fill",P.strokeColor),gt.setAttribute("d",Ne(P)),Ot.appendChild(gt),Be.appendChild(Ot);break;case"image":var kt=(0,g.wi)(P)&&Pe[P.fileId];if(kt){var It="image-".concat(kt.id),Mt=me.querySelector("#".concat(It));if(!Mt){(Mt=me.ownerDocument.createElementNS(te.hR,"symbol")).id=It;var Zt=me.ownerDocument.createElementNS(te.hR,"image");Zt.setAttribute("width","100%"),Zt.setAttribute("height","100%"),Zt.setAttribute("href",kt.dataURL),Mt.appendChild(Zt),Be.prepend(Mt)}var Nt=me.ownerDocument.createElementNS(te.hR,"use");Nt.setAttribute("href","#".concat(It)),nt&&kt.mimeType!==te.LO.svg&&Nt.setAttribute("filter",c),Nt.setAttribute("width","".concat(Math.round(P.width))),Nt.setAttribute("height","".concat(Math.round(P.height))),Nt.setAttribute("transform","translate(".concat(Ze||0," ").concat(Je||0,") rotate(").concat(Te," ").concat(we," ").concat(Me,")")),Be.appendChild(Nt)}break;default:if(!(0,g.iB)(P))throw new Error("Unimplemented type ".concat(P.type));var Ft=P.opacity/100,on=me.ownerDocument.createElementNS(te.hR,"g");Ft!==1&&(on.setAttribute("stroke-opacity","".concat(Ft)),on.setAttribute("fill-opacity","".concat(Ft))),on.setAttribute("transform","translate(".concat(Ze||0," ").concat(Je||0,") rotate(").concat(Te," ").concat(we," ").concat(Me,")"));for(var Rt=P.text.replace(/\r\n?/g,`
`).split(`
`),qt=P.height/Rt.length,Ht=P.height-P.baseline,sn=P.textAlign==="center"?P.width/2:P.textAlign==="right"?P.width:0,wn=(0,y.dZ)(P.text)?"rtl":"ltr",Sn=P.textAlign==="center"?"middle":P.textAlign==="right"||wn==="rtl"?"end":"start",Yn=0;Yn<Rt.length;Yn++){var jn=me.ownerDocument.createElementNS(te.hR,"text");jn.textContent=Rt[Yn],jn.setAttribute("x","".concat(sn)),jn.setAttribute("y","".concat((Yn+1)*qt-Ht)),jn.setAttribute("font-family",(0,y.$g)(P)),jn.setAttribute("font-size","".concat(P.fontSize,"px")),jn.setAttribute("fill",P.strokeColor),jn.setAttribute("text-anchor",Sn),jn.setAttribute("style","white-space: pre;"),jn.setAttribute("direction",wn),on.appendChild(jn)}Be.appendChild(on)}},Q=new WeakMap([]);function Ce(P){var ye=Ne(P),me=new Path2D(ye);return Q.set(P,me),me}function Ne(P){return function(ye){if(!ye.length)return"";var me=ye.length-1;return ye.reduce(function(Pe,Ze,Je,nt){return Je===me?Pe.push(Ze,ze(Ze,nt[0]),"L",nt[0],"Z"):Pe.push(Ze,ze(Ze,nt[Je+1])),Pe},["M",ye[0],"Q"]).join(" ").replace(ot,"$1")}(E(P.simulatePressure?P.points:P.points.length?P.points.map(function(ye,me){var Pe=(0,v.Z)(ye,2);return[Pe[0],Pe[1],P.pressures[me]]}):[[0,0,.5]],{simulatePressure:P.simulatePressure,size:4.25*P.strokeWidth,thinning:.6,smoothing:.5,streamline:.5,easing:function(ye){return Math.sin(ye*Math.PI/2)},last:!!P.lastCommittedPoint}))}function ze(P,ye){return[(P[0]+ye[0])/2,(P[1]+ye[1])/2]}var ot=/(\s?[A-Z]?,?-?[0-9]*\.[0-9]{0,2})(([0-9]|e|-)*)/g},3547:function(le,K,o){o.d(K,{Eu:function(){return u},OO:function(){return O},M_:function(){return n}});var x,i=o(2577),v=o(1930),g=o(5284),j=o(5118),y=o(756),V=o(1868),ie=o(3063),I=o(8982),te=o(6938),pe=o(242),fe=o(2325),W=o(8290),re=o(6340);(function(C){C.ACTIVE="active",C.AWAY="away",C.IDLE="idle"})(x||(x={}));var ne=o(8288),ue=o(2383);function $(C,D){var B=typeof Symbol<"u"&&C[Symbol.iterator]||C["@@iterator"];if(!B){if(Array.isArray(C)||(B=function(ae,ce){if(ae){if(typeof ae=="string")return ge(ae,ce);var J=Object.prototype.toString.call(ae).slice(8,-1);if(J==="Object"&&ae.constructor&&(J=ae.constructor.name),J==="Map"||J==="Set")return Array.from(ae);if(J==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(J))return ge(ae,ce)}}(C))||D&&C&&typeof C.length=="number"){B&&(C=B);var U=0,R=function(){};return{s:R,n:function(){return U>=C.length?{done:!0}:{done:!1,value:C[U++]}},e:function(ae){throw ae},f:R}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var b,M=!0,G=!1;return{s:function(){B=B.call(C)},n:function(){var ae=B.next();return M=ae.done,ae},e:function(ae){G=!0,b=ae},f:function(){try{M||B.return==null||B.return()}finally{if(G)throw b}}}}function ge(C,D){(D==null||D>C.length)&&(D=C.length);for(var B=0,U=new Array(D);B<D;B++)U[B]=C[B];return U}var se,S=(0,re.Q5)(),F=function(C,D,B,U,R,b,M,G){var ae=arguments.length>8&&arguments[8]!==void 0&&arguments[8];C.save(),C.translate(b,M),C.rotate(G),ae&&C.fillRect(D-b,B-M,U,R),C.strokeRect(D-b,B-M,U,R),C.restore()},h=function(C,D,B,U){C.beginPath(),C.arc(D,B,U,0,2*Math.PI),C.fill(),C.stroke()},u=function(C,D,B,U,R,b,M){if(b===null)return{atLeastOneVisibleElement:!1};var G=M.renderScrollbars,ae=G===void 0||G,ce=M.renderSelection,J=ce===void 0||ce,Y=M.renderGrid,oe=Y===void 0||Y,xe=M.isExporting,L=b.getContext("2d");L.setTransform(1,0,0,1,0,0),L.save(),L.scale(U,U);var A=b.width/U,N=b.height/U;xe&&M.theme==="dark"&&(L.filter=ne.ZF),typeof M.viewBackgroundColor=="string"?((M.viewBackgroundColor==="transparent"||M.viewBackgroundColor.length===5||M.viewBackgroundColor.length===9||/(hsla|rgba)\(/.test(M.viewBackgroundColor))&&L.clearRect(0,0,A,N),L.save(),L.fillStyle=M.viewBackgroundColor,L.fillRect(0,0,A,N),L.restore()):L.clearRect(0,0,A,N),L.save(),L.scale(M.zoom.value,M.zoom.value),oe&&D.gridSize&&function(gt,kt,It,Mt,Zt,Nt){gt.save(),gt.strokeStyle="rgba(0,0,0,0.1)",gt.beginPath();for(var Ft=It;Ft<It+Zt+2*kt;Ft+=kt)gt.moveTo(Ft,Mt-kt),gt.lineTo(Ft,Mt+Nt+2*kt);for(var on=Mt;on<Mt+Nt+2*kt;on+=kt)gt.moveTo(It-kt,on),gt.lineTo(It+Zt+2*kt,on);gt.stroke(),gt.restore()}(L,D.gridSize,-Math.ceil(M.zoom.value/D.gridSize)*D.gridSize+M.scrollX%D.gridSize,-Math.ceil(M.zoom.value/D.gridSize)*D.gridSize+M.scrollY%D.gridSize,A/M.zoom.value,N/M.zoom.value);var z,ee=C.filter(function(gt){return c(gt,A,N,{zoom:M.zoom,offsetLeft:D.offsetLeft,offsetTop:D.offsetTop,scrollX:M.scrollX,scrollY:M.scrollY})});if(ee.forEach(function(gt){try{(0,ie.lw)(gt,R,L,M),xe||m(gt,L,D)}catch(kt){console.error(kt)}}),D.editingLinearElement){var ke=te._.getElement(D.editingLinearElement.elementId);ke&&function(gt,kt,It,Mt){gt.save(),gt.translate(It.scrollX,It.scrollY),gt.lineWidth=1/It.zoom.value,te._.getPointsGlobalCoordinates(Mt).forEach(function(Zt,Nt){var Ft,on;gt.strokeStyle="red",gt.setLineDash([]),gt.fillStyle=(Ft=kt.editingLinearElement)!==null&&Ft!==void 0&&(on=Ft.selectedPointsIndices)!==null&&on!==void 0&&on.includes(Nt)?"rgba(255, 127, 127, 0.9)":"rgba(255, 255, 255, 0.9)";var Rt=te._.POINT_HANDLE_SIZE;h(gt,Zt[0],Zt[1],Rt/2/It.zoom.value)}),gt.restore()}(L,D,M,ke)}if(B)try{(0,ie.lw)(B,R,L,M)}catch(gt){console.error(gt)}if((0,W.N1)(D)&&D.suggestedBindings.filter(function(gt){return gt!=null}).forEach(function(gt){E(L,M,gt)}),J&&!D.multiElement&&!D.editingLinearElement){var Oe,Q=C.reduce(function(gt,kt){var It=[];if(D.selectedElementIds[kt.id]&&!(0,pe.zq)(D,kt)&&It.push(g.black),M.remoteSelectedElementIds[kt.id]&&It.push.apply(It,(0,v.Z)(M.remoteSelectedElementIds[kt.id].map(function(qt){return(0,I.X)(qt,D).background}))),It.length){var Mt=(0,j.qf)(kt),Zt=(0,i.Z)(Mt,4),Nt=Zt[0],Ft=Zt[1],on=Zt[2],Rt=Zt[3];gt.push({angle:kt.angle,elementX1:Nt,elementY1:Ft,elementX2:on,elementY2:Rt,selectionColors:It})}return gt},[]),Ce=function(gt){var kt=(0,pe.Fb)(C,gt),It=(0,j.KP)(kt),Mt=(0,i.Z)(It,4),Zt=Mt[0],Nt=Mt[1],Ft=Mt[2],on=Mt[3];Q.push({angle:0,elementX1:Zt,elementX2:Ft,elementY1:Nt,elementY2:on,selectionColors:[g.black]})},Ne=$((0,pe.iJ)(D));try{for(Ne.s();!(Oe=Ne.n()).done;)Ce(Oe.value)}catch(gt){Ne.e(gt)}finally{Ne.f()}D.editingGroupId&&Ce(D.editingGroupId),Q.forEach(function(gt){return _(L,M,gt)});var ze=(0,V.eD)(C,D);if(L.save(),L.translate(M.scrollX,M.scrollY),ze.length===1){L.fillStyle=g.white;var ot=(0,j.PC)(ze[0],M.zoom,"mouse");D.viewModeEnabled||p(L,M,ot,ze[0].angle)}else if(ze.length>1&&!D.isRotating){var P=4/M.zoom.value;L.fillStyle=g.white;var ye=(0,j.KP)(ze),me=(0,i.Z)(ye,4),Pe=me[0],Ze=me[1],Je=me[2],nt=me[3],ft=L.getLineDash();L.setLineDash([2/M.zoom.value]);var pt=L.lineWidth;L.lineWidth=1/M.zoom.value,F(L,Pe-P,Ze-P,Je-Pe+2*P,nt-Ze+2*P,(Pe+Je)/2,(Ze+nt)/2,0),L.lineWidth=pt,L.setLineDash(ft);var et=(0,j.kK)([Pe,Ze,Je,nt],0,M.zoom,"mouse",j.ox);ze.some(function(gt){return!gt.locked})&&p(L,M,et,0)}L.restore()}for(var he in L.restore(),M.remotePointerViewportCoords){var de=M.remotePointerViewportCoords[he],_e=de.x,we=de.y;_e-=D.offsetLeft,we-=D.offsetTop;var Me=_e<0||_e>A-9||we<0||we>N-14;_e=Math.max(_e,0),_e=Math.min(_e,A-9),we=Math.max(we,0),we=Math.min(we,N-14);var Te=(0,I.X)(he,D),Le=Te.background,Be=Te.stroke;L.save(),L.strokeStyle=Be,L.fillStyle=Le;var We=M.remotePointerUserStates[he];(Me||We===x.AWAY)&&(L.globalAlpha=.48),M.remotePointerButton&&M.remotePointerButton[he]==="down"&&(L.beginPath(),L.arc(_e,we,15,0,2*Math.PI,!1),L.lineWidth=3,L.strokeStyle="#ffffff88",L.stroke(),L.closePath(),L.beginPath(),L.arc(_e,we,15,0,2*Math.PI,!1),L.lineWidth=1,L.strokeStyle=Be,L.stroke(),L.closePath()),L.beginPath(),L.moveTo(_e,we),L.lineTo(_e+1,we+14),L.lineTo(_e+4,we+9),L.lineTo(_e+9,we+10),L.lineTo(_e,we),L.fill(),L.stroke();var Ge=M.remotePointerUsernames[he],it="";We===x.AWAY?it=S?"⚫️":" (".concat(x.AWAY,")"):We===x.IDLE?it=S?"💤":" (".concat(x.IDLE,")"):We===x.ACTIVE&&(it=S?"🟢":"");var Re="".concat(Ge?"".concat(Ge," "):"").concat(it);if(!Me&&Re){var Xe=_e+9,xt=we+14,st=L.measureText(Re),Ot=st.actualBoundingBoxDescent+st.actualBoundingBoxAscent;L.fillStyle=Be,L.fillRect(Xe-1,xt-1,st.width+8+2,Ot+8+2),L.fillStyle=Le,L.fillRect(Xe,xt,st.width+8,Ot+8),L.fillStyle=g.white,L.fillText(Re,Xe+4,xt+4+st.actualBoundingBoxAscent)}L.restore(),L.closePath()}return ae&&(z=(0,y.tJ)(C,A,N,M),L.save(),L.fillStyle=y.w1,L.strokeStyle="rgba(255,255,255,0.8)",[z.horizontal,z.vertical].forEach(function(gt){gt&&function(kt,It,Mt,Zt,Nt,Ft){kt.beginPath(),kt.moveTo(It+Ft,Mt),kt.lineTo(It+Zt-Ft,Mt),kt.quadraticCurveTo(It+Zt,Mt,It+Zt,Mt+Ft),kt.lineTo(It+Zt,Mt+Nt-Ft),kt.quadraticCurveTo(It+Zt,Mt+Nt,It+Zt-Ft,Mt+Nt),kt.lineTo(It+Ft,Mt+Nt),kt.quadraticCurveTo(It,Mt+Nt,It,Mt+Nt-Ft),kt.lineTo(It,Mt+Ft),kt.quadraticCurveTo(It,Mt,It+Ft,Mt),kt.closePath(),kt.fill(),kt.stroke()}(L,gt.x,gt.y,gt.width,gt.height,y.nn/2)}),L.restore()),L.restore(),{atLeastOneVisibleElement:ee.length>0,scrollBars:z}},O=(0,re.hR)(function(C,D,B,U,R,b,M,G){var ae=u(C,D,B,U,R,b,M);G==null||G(ae)},{trailing:!0}),p=function(C,D,B,U){Object.keys(B).forEach(function(R){var b=B[R];b!==void 0&&(C.save(),C.lineWidth=1/D.zoom.value,R==="rotation"?h(C,b[0]+b[2]/2,b[1]+b[3]/2,b[2]/2):F(C,b[0],b[1],b[2],b[3],b[0]+b[2]/2,b[1]+b[3]/2,U,!0),C.restore())})},_=function(C,D,B){var U=B.angle,R=B.elementX1,b=B.elementY1,M=B.elementX2,G=B.elementY2,ae=B.selectionColors,ce=M-R,J=G-b,Y=4/D.zoom.value,oe=8/D.zoom.value,xe=4/D.zoom.value;C.save(),C.translate(D.scrollX,D.scrollY),C.lineWidth=1/D.zoom.value;for(var L=ae.length,A=0;A<L;++A)C.strokeStyle=ae[A],C.setLineDash([oe,xe+(oe+xe)*(L-1)]),C.lineDashOffset=(oe+xe)*A,F(C,R-Y,b-Y,ce+2*Y,J+2*Y,R+ce/2,b+J/2,U);C.restore()},E=function(C,D,B){var U=Array.isArray(B)?l:T;C.save(),C.translate(D.scrollX,D.scrollY),U(C,B),C.restore()},T=function(C,D){var B=(0,j.qf)(D),U=(0,i.Z)(B,4),R=U[0],b=U[1],M=U[2]-R,G=U[3]-b,ae=(0,fe.fb)(D,M,G);C.strokeStyle="rgba(0,0,0,.05)",C.lineWidth=ae-4;var ce=2+ae/2;switch(D.type){case"rectangle":case"text":case"image":F(C,R-ce,b-ce,M+2*ce,G+2*ce,R+M/2,b+G/2,D.angle);break;case"diamond":var J=Math.hypot(M,G);(function(Y,oe,xe,L,A,N){Y.save(),Y.translate(L,A),Y.rotate(N),Y.beginPath(),Y.moveTo(0,xe/2),Y.lineTo(oe/2,0),Y.lineTo(0,-xe/2),Y.lineTo(-oe/2,0),Y.closePath(),Y.stroke(),Y.restore()})(C,M+2*(ce*J/G),G+2*(ce*J/M),R+M/2,b+G/2,D.angle);break;case"ellipse":(function(Y,oe,xe,L,A,N){Y.beginPath(),Y.ellipse(L,A,oe/2,xe/2,N,0,2*Math.PI),Y.stroke()})(C,M+2*ce,G+2*ce,R+M/2,b+G/2,D.angle)}},l=function(C,D){var B=(0,i.Z)(D,3),U=B[0],R=B[1],b=B[2],M=(0,fe.fb)(b,b.width,b.height);C.strokeStyle="rgba(0,0,0,0)",C.fillStyle="rgba(0,0,0,.05)",(R==="both"?[0,-1]:R==="start"?[0]:[-1]).forEach(function(G){var ae=te._.getPointAtIndexGlobalCoordinates(U,G),ce=(0,i.Z)(ae,2),J=ce[0],Y=ce[1];h(C,J,Y,M)})},m=function(C,D,B){if(C.link&&!B.selectedElementIds[C.id]){var U=(0,j.qf)(C),R=(0,i.Z)(U,4),b=R[0],M=R[1],G=R[2],ae=R[3],ce=(0,ue.sw)([b,M,G,ae],C.angle,B),J=(0,i.Z)(ce,4),Y=J[0],oe=J[1],xe=J[2],L=J[3],A=Y+xe/2,N=oe+L/2;if(D.save(),D.translate(B.scrollX+A,B.scrollY+N),D.rotate(C.angle),se&&se.zoom===B.zoom.value)D.drawImage(se,Y-A,oe-N,xe,L);else{(se=document.createElement("canvas")).zoom=B.zoom.value,se.width=xe*window.devicePixelRatio*B.zoom.value,se.height=L*window.devicePixelRatio*B.zoom.value;var z=se.getContext("2d");z.scale(window.devicePixelRatio*B.zoom.value,window.devicePixelRatio*B.zoom.value),z.fillStyle="#fff",z.fillRect(0,0,xe,L),z.drawImage(ue.rj,0,0,xe,L),z.restore(),D.drawImage(se,Y-A,oe-N,xe,L)}D.restore()}},c=function(C,D,B,U){var R=(0,j.Pi)(C),b=(0,i.Z)(R,4),M=b[0],G=b[1],ae=b[2],ce=b[3],J=(0,re.dE)({clientX:U.offsetLeft,clientY:U.offsetTop},U),Y=(0,re.dE)({clientX:U.offsetLeft+D,clientY:U.offsetTop+B},U);return J.x<=ae&&J.y<=ce&&Y.x>=M&&Y.y>=G},n=function(C,D,B,U){var R=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{},b=R.offsetX,M=b===void 0?0:b,G=R.offsetY,ae=G===void 0?0:G,ce=R.exportWithDarkMode,J=ce!==void 0&&ce;B&&C.forEach(function(Y){if(!Y.isDeleted)try{(0,ie.Rg)(Y,D,B,U,Y.x+M,Y.y+ae,J)}catch(oe){console.error(oe)}})}},1564:function(le,K,o){var x=o(8821),i=o(5169),v=o(5118),g=function(y){return typeof y=="string"},j=function(){function y(){(0,x.Z)(this,y),this.callbacks=new Set,this.nonDeletedElements=[],this.elements=[],this.elementsMap=new Map}return(0,i.Z)(y,[{key:"getElementsIncludingDeleted",value:function(){return this.elements}},{key:"getNonDeletedElements",value:function(){return this.nonDeletedElements}},{key:"getElement",value:function(V){return this.elementsMap.get(V)||null}},{key:"getNonDeletedElement",value:function(V){var ie=this.getElement(V);return ie&&(0,v.qP)(ie)?ie:null}},{key:"replaceAllElements",value:function(V){var ie=this;this.elements=V,this.elementsMap.clear(),V.forEach(function(I){ie.elementsMap.set(I.id,I),y.mapElementToScene(I,ie)}),this.nonDeletedElements=(0,v.Lm)(this.elements),this.informMutation()}},{key:"informMutation",value:function(){for(var V=0,ie=Array.from(this.callbacks);V<ie.length;V++)(0,ie[V])()}},{key:"addCallback",value:function(V){var ie=this;if(this.callbacks.has(V))throw new Error;return this.callbacks.add(V),function(){if(!ie.callbacks.has(V))throw new Error;ie.callbacks.delete(V)}}},{key:"destroy",value:function(){var V=this;y.sceneMapById.forEach(function(ie,I){ie===V&&y.sceneMapById.delete(I)}),this.callbacks.clear()}}],[{key:"mapElementToScene",value:function(V,ie){g(V)?this.sceneMapById.set(V,ie):this.sceneMapByElement.set(V,ie)}},{key:"getScene",value:function(V){return g(V)?this.sceneMapById.get(V)||null:this.sceneMapByElement.get(V)||null}}]),y}();j.sceneMapByElement=new WeakMap,j.sceneMapById=new Map,K.Z=j},8120:function(le,K,o){o.d(K,{$b:function(){return g},CJ:function(){return fe},M9:function(){return V},OW:function(){return W},PD:function(){return j},QG:function(){return pe},Un:function(){return te},Zd:function(){return y},bZ:function(){return I},gP:function(){return ie}});var x=o(2577),i=o(5118),v=o(1974),g=function(re){return re==="rectangle"||re==="ellipse"||re==="diamond"||re==="line"||re==="freedraw"},j=function(re){return re!=="image"},y=function(re){return re==="rectangle"||re==="ellipse"||re==="diamond"||re==="freedraw"||re==="arrow"||re==="line"},V=function(re){return re==="rectangle"||re==="ellipse"||re==="diamond"||re==="arrow"||re==="line"},ie=function(re){return re==="rectangle"||re==="arrow"||re==="line"||re==="diamond"},I=function(re){return re==="text"},te=function(re){return re==="arrow"},pe=function(re,ne){for(var ue=null,$=re.length-1;$>=0;--$){var ge=re[$];if(!ge.isDeleted&&ne(ge)){ue=ge;break}}return ue},fe=function(re,ne){return re.filter(function(ue){return!ue.isDeleted&&ne(ue)})},W=function(re,ne,ue){for(var $=null,ge=re.length-1;ge>=0;--ge)if(!re[ge].isDeleted){var se=(0,i.qf)(re[ge]),S=(0,x.Z)(se,4),F=S[0],h=S[1],u=S[2],O=S[3];if(F<ne&&ne<u&&h<ue&&ue<O){$=re[ge];break}}return(0,v.mG)($,!1)?$:null}},4162:function(le,K,o){o.d(K,{$D:function(){return ne},Cg:function(){return $},NL:function(){return re},oj:function(){return W}});var x=o(2577),i=o(8950),v=o(7945),g=o.n(v),j=o(8234),y=o(8925),V=o(3547),ie=o(6340),I=o(8288),te=o(8897),pe=o(5523),fe=o(5637),W="<!-- svg-source:excalidraw -->",re=function(){var ge=(0,i.Z)(g().mark(function se(S,F,h,u){var O,p,_,E,T,l,m,c,n,C,D,B,U,R,b,M,G,ae,ce=arguments;return g().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:return O=u.exportBackground,p=u.exportPadding,_=p===void 0?I.qy:p,E=u.viewBackgroundColor,T=ce.length>4&&ce[4]!==void 0?ce[4]:function(Y,oe){var xe=document.createElement("canvas");return xe.width=Y*F.exportScale,xe.height=oe*F.exportScale,{canvas:xe,scale:F.exportScale}},l=ue(S,_),m=(0,x.Z)(l,4),c=m[0],n=m[1],C=m[2],D=m[3],B=T(C,D),U=B.canvas,R=B.scale,b=R===void 0?1:R,M=(0,te.im)(),J.next=7,(0,fe.Xx)({imageCache:new Map,fileIds:(0,fe.oA)(S).map(function(Y){return Y.fileId}),files:h});case 7:return G=J.sent,ae=G.imageCache,(0,V.Eu)(S,F,null,b,j.Z.canvas(U),U,{viewBackgroundColor:O?E:null,scrollX:-c+_,scrollY:-n+_,zoom:M.zoom,remotePointerViewportCoords:{},remoteSelectedElementIds:{},shouldCacheIgnoreZoom:!1,remotePointerUsernames:{},remotePointerUserStates:{},theme:F.exportWithDarkMode?"dark":"light",imageCache:ae,renderScrollbars:!1,renderSelection:!1,renderGrid:!1,isExporting:!0}),J.abrupt("return",U);case 11:case"end":return J.stop()}},se)}));return function(se,S,F,h){return ge.apply(this,arguments)}}(),ne=function(){var ge=(0,i.Z)(g().mark(function se(S,F,h){var u,O,p,_,E,T,l,m,c,n,C,D,B,U,R,b,M,G;return g().wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:if(u=F.exportPadding,O=u===void 0?I.qy:u,p=F.viewBackgroundColor,_=F.exportScale,E=_===void 0?1:_,T=F.exportEmbedScene,l="",!T){ae.next=14;break}return ae.prev=3,ae.next=6,Promise.resolve().then(o.bind(o,673));case 6:return ae.next=8,ae.sent.encodeSvgMetadata({text:(0,pe.I_)(S,F,h||{},"local")});case 8:l=ae.sent,ae.next=14;break;case 11:ae.prev=11,ae.t0=ae.catch(3),console.error(ae.t0);case 14:return m=ue(S,O),c=(0,x.Z)(m,4),n=c[0],C=c[1],D=c[2],B=c[3],(U=document.createElementNS(I.hR,"svg")).setAttribute("version","1.1"),U.setAttribute("xmlns",I.hR),U.setAttribute("viewBox","0 0 ".concat(D," ").concat(B)),U.setAttribute("width","".concat(D*E)),U.setAttribute("height","".concat(B*E)),F.exportWithDarkMode&&U.setAttribute("filter",I.ZF),R="https://excalidraw.com/",R=window.EXCALIDRAW_ASSET_PATH||"https://unpkg.com/".concat("@excalidraw/excalidraw","@").concat("0.12.0"),(b=R)!==null&&b!==void 0&&b.startsWith("/")&&(R=R.replace("/","".concat(window.location.origin,"/"))),R="".concat(R,"/dist/excalidraw-assets/"),U.innerHTML=`
  `.concat(W,`
  `).concat(l,`
  <defs>
    <style>
      @font-face {
        font-family: "Virgil";
        src: url("`).concat(R,`Virgil.woff2");
      }
      @font-face {
        font-family: "Cascadia";
        src: url("`).concat(R,`Cascadia.woff2");
      }
    </style>
  </defs>
  `),F.exportBackground&&p&&((M=U.ownerDocument.createElementNS(I.hR,"rect")).setAttribute("x","0"),M.setAttribute("y","0"),M.setAttribute("width","".concat(D)),M.setAttribute("height","".concat(B)),M.setAttribute("fill",p),U.appendChild(M)),G=j.Z.svg(U),(0,V.M_)(S,G,U,h||{},{offsetX:-n+O,offsetY:-C+O,exportWithDarkMode:F.exportWithDarkMode}),ae.abrupt("return",U);case 29:case"end":return ae.stop()}},se,null,[[3,11]])}));return function(se,S,F){return ge.apply(this,arguments)}}(),ue=function(ge,se){var S=(0,y.KP)(ge),F=(0,x.Z)(S,4),h=F[0],u=F[1],O=F[2],p=F[3];return[h,u,(0,ie.TE)(h,O)+2*se,(0,ie.TE)(u,p)+se+se]},$=function(ge,se,S){var F=ue(ge,se).map(function(u){return Math.trunc(u*S)}),h=(0,x.Z)(F,4);return[h[2],h[3]]}},75:function(le,K,o){o.d(K,{$b:function(){return g.$b},CJ:function(){return g.CJ},M9:function(){return g.M9},N:function(){return i.N},OW:function(){return g.OW},PR:function(){return i.PR},QG:function(){return g.QG},Un:function(){return g.Un},W:function(){return v.W},Yp:function(){return i.Yp},Zd:function(){return g.Zd},Zs:function(){return i.Zs},_4:function(){return x._4},bZ:function(){return g.bZ},eD:function(){return i.eD},gP:function(){return g.gP},j:function(){return j.j}});var x=o(756),i=o(1868),v=o(2264),g=o(8120),j=o(746)},2264:function(le,K,o){o.d(K,{W:function(){return j},s:function(){return g}});var x=o(2577),i=o(5118),v=o(6340),g=function(y){var V=y.scenePoint,ie=y.viewportDimensions,I=y.zoom;return{scrollX:ie.width/2*(1/I.value)-V.x,scrollY:ie.height/2*(1/I.value)-V.y}},j=function(y,V,ie){if(!(y=(0,i.n_)(y)).length)return{scrollX:0,scrollY:0};var I=(0,i.KP)(y),te=(0,x.Z)(I,4),pe=te[0],fe=te[1],W=te[2],re=te[3];if(function($,ge,se){var S=(0,x.Z)(se,4),F=S[0],h=S[1],u=S[2],O=S[3],p=(0,v._i)({sceneX:F,sceneY:h},$),_=p.x,E=p.y,T=(0,v._i)({sceneX:u,sceneY:O},$),l=T.x,m=T.y;return l-_>$.width||m-E>$.height}(V,0,[pe,fe,W,re])){var ne=(0,i.os)(y,(0,v.dE)({clientX:V.scrollX,clientY:V.scrollY},V)),ue=(0,x.Z)(ne,4);pe=ue[0],fe=ue[1],W=ue[2],re=ue[3]}return g({scenePoint:{x:(pe+W)/2,y:(fe+re)/2},viewportDimensions:{width:V.width,height:V.height},zoom:V.zoom})}},756:function(le,K,o){o.d(K,{WM:function(){return j},_4:function(){return I},nn:function(){return y},tJ:function(){return ie},w1:function(){return V}});var x=o(2577),i=o(5118),v=o(6340),g=o(8211),j=4,y=6,V="rgba(0,0,0,0.3)",ie=function(te,pe,fe,W){var re=W.scrollX,ne=W.scrollY,ue=W.zoom;if(te.length===0)return{horizontal:null,vertical:null};var $=(0,i.KP)(te),ge=(0,x.Z)($,4),se=ge[0],S=ge[1],F=ge[2],h=ge[3],u=pe/ue.value,O=fe/ue.value,p=pe-u,_=fe-O,E={top:parseInt((0,v.IH)("sat")),bottom:parseInt((0,v.IH)("sab")),left:parseInt((0,v.IH)("sal")),right:parseInt((0,v.IH)("sar"))},T=(0,g.G3)().rtl,l=p/2-re+E.left,m=_/2-ne+E.top,c=l+u-E.right,n=m+O-E.bottom,C=Math.min(se,l),D=Math.min(S,m),B=Math.max(F,c),U=Math.max(h,n);return{horizontal:l===C&&c===B?null:{x:Math.max(E.left,j)+(l-C)/(B-C)*pe,y:fe-y-Math.max(j,E.bottom),width:(c-l)/(B-C)*pe-Math.max(2*j,E.left+E.right),height:y},vertical:m===D&&n===U?null:{x:T?Math.max(E.left,j):pe-y-Math.max(E.right,j),y:(m-D)/(U-D)*fe+Math.max(E.top,j),width:y,height:(n-m)/(U-D)*fe-Math.max(2*j,E.top+E.bottom)}}},I=function(te,pe,fe){var W=[te.horizontal,te.vertical].map(function($){return $!=null&&$.x<=pe&&pe<=$.x+$.width&&$.y<=fe&&fe<=$.y+$.height}),re=(0,x.Z)(W,2),ne=re[0],ue=re[1];return{isOverEither:ne||ue,isOverHorizontal:ne,isOverVertical:ue}}},1868:function(le,K,o){o.d(K,{N:function(){return j},PR:function(){return y},Yp:function(){return g},Zs:function(){return ie},eD:function(){return V}});var x=o(2577),i=o(5118),v=o(1974),g=function(I,te){var pe=(0,i.qf)(te),fe=(0,x.Z)(pe,4),W=fe[0],re=fe[1],ne=fe[2],ue=fe[3];return I.filter(function($){var ge=(0,i.Pi)($),se=(0,x.Z)(ge,4),S=se[0],F=se[1],h=se[2],u=se[3];return $.locked===!1&&$.type!=="selection"&&!(0,v.Xh)($)&&W<=S&&re<=F&&ne>=h&&ue>=u})},j=function(I,te){return I.some(function(pe){return te.selectedElementIds[pe.id]})},y=function(I,te,pe){var fe=Array.from(new Set(V(I,te).map(function(W){return pe(W)})));return fe.length===1?fe[0]:null},V=function(I,te){var pe=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return I.filter(function(fe){return te.selectedElementIds[fe.id]||pe&&(0,v.Xh)(fe)&&te.selectedElementIds[fe==null?void 0:fe.containerId]?fe:null})},ie=function(I,te){return te.editingElement?[te.editingElement]:V(I,te,!0)}},746:function(le,K,o){o.d(K,{E:function(){return i},j:function(){return x}});var x=function(v){return Math.max(.1,Math.min(v,30))},i=function(v,g){var j=v.viewportX,y=v.viewportY,V=v.nextZoom,ie=j-g.offsetLeft,I=y-g.offsetTop,te=g.zoom.value;return{scrollX:g.scrollX+(ie-ie/te)+-(ie-ie/V),scrollY:g.scrollY+(I-I/te)+-(I-I/V),zoom:{value:V}}}},6340:function(le,K,o){o.d(K,{$9:function(){return xe},$g:function(){return se},$h:function(){return Ne},AK:function(){return M},C3:function(){return ee},Ds:function(){return F},FG:function(){return G},Fc:function(){return re},G3:function(){return z},IH:function(){return U},Ip:function(){return A},KJ:function(){return E},OF:function(){return T},Om:function(){return p},Oo:function(){return ne},PI:function(){return Y},Pr:function(){return n},Q5:function(){return L},Qm:function(){return J},TE:function(){return O},Uk:function(){return l},_Z:function(){return $},_i:function(){return B},ag:function(){return Q},cx:function(){return ae},dE:function(){return D},dZ:function(){return b},h2:function(){return Oe},hR:function(){return h},mO:function(){return S},qr:function(){return ce},qz:function(){return N},rB:function(){return m},s:function(){return ge},tH:function(){return oe},uY:function(){return C},v4:function(){return Ce},wO:function(){return ue},wo:function(){return c},xn:function(){return ke},xp:function(){return ot},y8:function(){return ze},yo:function(){return u},z8:function(){return _}});var x=o(6655),i=o(7169),v=o(1930),g=o(2577),j=o(5284),y=o(56),V=o(8288),ie=o(5156),I=o(6066);function te(P,ye){var me=Object.keys(P);if(Object.getOwnPropertySymbols){var Pe=Object.getOwnPropertySymbols(P);ye&&(Pe=Pe.filter(function(Ze){return Object.getOwnPropertyDescriptor(P,Ze).enumerable})),me.push.apply(me,Pe)}return me}function pe(P){for(var ye=1;ye<arguments.length;ye++){var me=arguments[ye]!=null?arguments[ye]:{};ye%2?te(Object(me),!0).forEach(function(Pe){(0,i.Z)(P,Pe,me[Pe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(P,Object.getOwnPropertyDescriptors(me)):te(Object(me)).forEach(function(Pe){Object.defineProperty(P,Pe,Object.getOwnPropertyDescriptor(me,Pe))})}return P}var fe,W,re=function(){var P=new Date,ye=P.getFullYear(),me="".concat(P.getMonth()+1).padStart(2,"0"),Pe="".concat(P.getDate()).padStart(2,"0"),Ze="".concat(P.getHours()).padStart(2,"0"),Je="".concat(P.getMinutes()).padStart(2,"0");return"".concat(ye,"-").concat(me,"-").concat(Pe,"-").concat(Ze).concat(Je)},ne=function(P){return P.charAt(0).toUpperCase()+P.slice(1)},ue=function(P){return P instanceof HTMLElement&&P.className.includes("ToolIcon")},$=function(P){return P instanceof HTMLElement&&P.dataset.type==="wysiwyg"||P instanceof HTMLBRElement||P instanceof HTMLInputElement||P instanceof HTMLTextAreaElement||P instanceof HTMLSelectElement},ge=function(P){return P instanceof HTMLElement&&P.dataset.type==="wysiwyg"||P instanceof HTMLBRElement||P instanceof HTMLTextAreaElement||P instanceof HTMLInputElement&&(P.type==="text"||P.type==="number")},se=function(P){for(var ye=P.fontFamily,me=0,Pe=Object.entries(V.ut);me<Pe.length;me++){var Ze=(0,g.Z)(Pe[me],2),Je=Ze[0];if(Ze[1]===ye)return"".concat(Je,", ").concat(V._D)}return V._D},S=function(P){var ye=P.fontSize,me=P.fontFamily;return"".concat(ye,"px ").concat(se({fontFamily:me}))},F=function(P,ye){var me=0,Pe=null,Ze=function(){for(var Je=arguments.length,nt=new Array(Je),ft=0;ft<Je;ft++)nt[ft]=arguments[ft];Pe=nt,clearTimeout(me),me=window.setTimeout(function(){Pe=null,P.apply(void 0,nt)},ye)};return Ze.flush=function(){if(clearTimeout(me),Pe){var Je=Pe;Pe=null,P.apply(void 0,(0,v.Z)(Je))}},Ze.cancel=function(){Pe=null,clearTimeout(me)},Ze},h=function(P,ye){var me=null,Pe=null,Ze=null,Je=function ft(pt){me=window.requestAnimationFrame(function(){me=null,P.apply(void 0,(0,v.Z)(pt)),Pe=null,Ze&&(Pe=Ze,Ze=null,ft(Pe))})},nt=function(){for(var ft=arguments.length,pt=new Array(ft),et=0;et<ft;et++)pt[et]=arguments[et];Pe=pt,me===null?Je(Pe):ye!=null&&ye.trailing&&(Ze=pt)};return nt.flush=function(){me!==null&&(cancelAnimationFrame(me),me=null),Pe&&(P.apply(void 0,(0,v.Z)(Ze||Pe)),Pe=Ze=null)},nt.cancel=function(){Pe=Ze=null,me!==null&&(cancelAnimationFrame(me),me=null)},nt},u=function(P,ye){if(!P.length||ye<1)return[];for(var me=0,Pe=0,Ze=Array(Math.ceil(P.length/ye));me<P.length;)Ze[Pe++]=P.slice(me,me+=ye);return Ze},O=function(P,ye){return Math.abs(P-ye)},p=function(P,ye){return ye.type==="custom"?pe(pe({},P.activeTool),{},{type:"custom",customType:ye.customType}):pe(pe({},P.activeTool),{},{lastActiveToolBeforeEraser:ye.lastActiveToolBeforeEraser===void 0?P.activeTool.lastActiveToolBeforeEraser:ye.lastActiveToolBeforeEraser,type:ye.type,customType:null})},_=function(P){P&&(P.style.cursor="")},E=function(P,ye){P&&(P.style.cursor=ye)},T=function(P,ye){fe&&fe.theme===ye||function(){var me=ye===V.C6.DARK;(fe=document.createElement("canvas")).theme=ye,fe.height=20,fe.width=20;var Pe=fe.getContext("2d");Pe.lineWidth=1,Pe.beginPath(),Pe.arc(fe.width/2,fe.height/2,5,0,2*Math.PI),Pe.fillStyle=me?j.black:j.white,Pe.fill(),Pe.strokeStyle=me?j.white:j.black,Pe.stroke(),W=fe.toDataURL(V.LO.svg)}(),E(P,"url(".concat(W,") ").concat(10," ").concat(10,", auto"))},l=function(P,ye){P&&(ye.activeTool.type==="selection"?_(P):ye.activeTool.type==="eraser"?T(P,ye.theme):["image","custom"].includes(ye.activeTool.type)||(P.style.cursor=V.oc.CROSSHAIR))},m=function(){var P;return((P=document.fullscreenElement)===null||P===void 0?void 0:P.nodeName)==="HTML"},c=function(){return document.documentElement.requestFullscreen()},n=function(){return document.exitFullscreen()},C=function(P){return P=P.replace(/\bAlt\b/i,"Alt").replace(/\bShift\b/i,"Shift").replace(/\b(Enter|Return)\b/i,"Enter").replace(/\bDel\b/i,"Delete"),I.Um?P.replace(/\bCtrlOrCmd\b/i,"Cmd").replace(/\bAlt\b/i,"Option"):P.replace(/\bCtrlOrCmd\b/i,"Ctrl")},D=function(P,ye){var me=P.clientX,Pe=P.clientY,Ze=ye.zoom,Je=ye.offsetLeft,nt=ye.offsetTop,ft=ye.scrollX,pt=ye.scrollY,et=1/Ze.value;return{x:(me-Je)*et-ft,y:(Pe-nt)*et-pt}},B=function(P,ye){var me=P.sceneX,Pe=P.sceneY,Ze=ye.zoom,Je=ye.offsetLeft,nt=ye.offsetTop,ft=ye.scrollX,pt=ye.scrollY;return{x:(me+ft)*Ze.value+Je,y:(Pe+pt)*Ze.value+nt}},U=function(P){return getComputedStyle(document.documentElement).getPropertyValue("--".concat(P))},R=new RegExp("^[^".concat("A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿Ⰰ-﬜﷾-﹯﻽-￿","]*[").concat("֑-߿יִ-﷽ﹰ-ﻼ","]")),b=function(P){return R.test(P)},M=function(P){var ye=(0,g.Z)(P,2);return{x:ye[0],y:ye[1]}},G=function(P){if((P==null?void 0:P.name)!=="AbortError")throw P;console.warn(P)},ae=function(P,ye){var me=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;me<0&&(me=P.length+me);for(var Pe=(me=Math.min(P.length,Math.max(me,0)))-1;++Pe<P.length;)if(ye(P[Pe],Pe,P))return Pe;return-1},ce=function(P,ye){var me=arguments.length>2&&arguments[2]!==void 0?arguments[2]:P.length-1;me<0&&(me=P.length+me);for(var Pe=(me=Math.min(P.length-1,Math.max(me,0)))+1;--Pe>-1;)if(ye(P[Pe],Pe,P))return Pe;return-1},J=function(P){var ye=P.length===5&&P.substr(4,1)==="0",me=P.length===9&&P.substr(7,2)==="00";return ye||me||P===y.Z.elementBackground[0]},Y=function(){var P,ye,me=new Promise(function(Pe,Ze){P=Pe,ye=Ze});return me.resolve=P,me.reject=ye,me},oe=function(P){return function(ye){(0,ie.unstable_batchedUpdates)(P,ye)}},xe=function(P){return h(function(ye){(0,ie.unstable_batchedUpdates)(P,ye)})},L=function(){var P=document.createElement("canvas").getContext("2d");return P?(P.fillStyle="#f00",P.textBaseline="top",P.font="32px Arial",P.fillText("😀",0,0),P.getImageData(12,12,1,1).data[0]!==0):!1},A=function(P){for(var ye=P.parentElement;ye;){if(ye===document.body)return document;var me=window.getComputedStyle(ye).overflowY;if(ye.scrollHeight>ye.clientHeight&&(me==="auto"||me==="scroll"||me==="overlay"))return ye;ye=ye.parentElement}return document},N=function(P){for(var ye=P.parentElement;ye;){if(ye.tabIndex>-1)return void ye.focus();ye=ye.parentElement}},z=function(P){return Array.from(P).map(function(ye){return"0".concat(ye.toString(16)).slice(-2)}).join("")},ee=function(){return Oe()?1:Date.now()},ke=function(P){return P.reduce(function(ye,me){return ye.set(typeof me=="string"?me:me.id,me),ye},new Map)},Oe=function(){var P;return typeof process<"u"&&((P={REACT_APP_BACKEND_V2_GET_URL:"https://json.excalidraw.com/api/v2/",REACT_APP_BACKEND_V2_POST_URL:"https://json.excalidraw.com/api/v2/post/",REACT_APP_LIBRARY_URL:"https://libraries.excalidraw.com",REACT_APP_LIBRARY_BACKEND:"https://us-central1-excalidraw-room-persistence.cloudfunctions.net/libraries",REACT_APP_PORTAL_URL:"https://portal.excalidraw.com",REACT_APP_WS_SERVER_URL:"",REACT_APP_FIREBASE_CONFIG:'{"apiKey":"AIzaSyAd15pYlMci_xIp9ko6wkEsDzAAA0Dn0RU","authDomain":"excalidraw-room-persistence.firebaseapp.com","databaseURL":"https://excalidraw-room-persistence.firebaseio.com","projectId":"excalidraw-room-persistence","storageBucket":"excalidraw-room-persistence.appspot.com","messagingSenderId":"654800341332","appId":"1:654800341332:web:4a692de832b55bd57ce0c1"}',REACT_APP_GOOGLE_ANALYTICS_ID:"UA-387204-13",REACT_APP_PLUS_APP:"https://app.excalidraw.com",PKG_NAME:"@excalidraw/excalidraw",PKG_VERSION:"0.12.0",IS_EXCALIDRAW_NPM_PACKAGE:!0})===null||P===void 0?void 0:P.NODE_ENV)==="test"},Q=function(P,ye){return new CustomEvent(P,{detail:{nativeEvent:ye},cancelable:!0})},Ce=function(P,ye){var me=!1;for(var Pe in ye){var Ze=ye[Pe];if(Ze!==void 0){if(P[Pe]===Ze&&((0,x.Z)(Ze)!=="object"||Ze===null))continue;me=!0}}return me?pe(pe({},P),ye):P},Ne=function(){try{return window.self===window.top?"top":"iframe"}catch{return"iframe"}},ze=function(P){return!!P&&(0,x.Z)(P)==="object"&&"then"in P&&"catch"in P&&"finally"in P},ot=function(P){var ye=P==null?void 0:P.querySelectorAll("button, a, input, select, textarea, div[tabindex], label[tabindex]");return ye?Array.from(ye).filter(function(me){return me.tabIndex>-1&&!me.disabled}):[]}},9669:function(le){le.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg=="},7984:function(le){le.exports='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="292.4" height="292.4" viewBox="0 0 292 292"><path d="M287 197L159 69c-4-3-8-5-13-5s-9 2-13 5L5 197c-3 4-5 8-5 13s2 9 5 13c4 4 8 5 13 5h256c5 0 9-1 13-5s5-8 5-13-1-9-5-13z"/></svg>'},1639:function(le){le.exports='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="292.4" height="292.4" viewBox="0 0 292 292"><path fill="%23ced4da" d="M287 197L159 69c-4-3-8-5-13-5s-9 2-13 5L5 197c-3 4-5 8-5 13s2 9 5 13c4 4 8 5 13 5h256c5 0 9-1 13-5s5-8 5-13-1-9-5-13z"/></svg>'},3147:function(le,K,o){le.exports=o.p+"excalidraw-assets/Cascadia.woff2"},3940:function(le,K,o){le.exports=o.p+"excalidraw-assets/Virgil.woff2"},9787:function(le){le.exports=$o},5156:function(le){le.exports=Jr},7017:function(le,K,o){function x(i,v){(v==null||v>i.length)&&(v=i.length);for(var g=0,j=new Array(v);g<v;g++)j[g]=i[g];return j}o.d(K,{Z:function(){return x}})},3173:function(le,K,o){function x(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}o.d(K,{Z:function(){return x}})},8950:function(le,K,o){function x(v,g,j,y,V,ie,I){try{var te=v[ie](I),pe=te.value}catch(fe){return void j(fe)}te.done?g(pe):Promise.resolve(pe).then(y,V)}function i(v){return function(){var g=this,j=arguments;return new Promise(function(y,V){var ie=v.apply(g,j);function I(pe){x(ie,y,V,I,te,"next",pe)}function te(pe){x(ie,y,V,I,te,"throw",pe)}I(void 0)})}}o.d(K,{Z:function(){return i}})},8821:function(le,K,o){function x(i,v){if(!(i instanceof v))throw new TypeError("Cannot call a class as a function")}o.d(K,{Z:function(){return x}})},5169:function(le,K,o){function x(v,g){for(var j=0;j<g.length;j++){var y=g[j];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(v,y.key,y)}}function i(v,g,j){return g&&x(v.prototype,g),j&&x(v,j),v}o.d(K,{Z:function(){return i}})},7169:function(le,K,o){function x(i,v,g){return v in i?Object.defineProperty(i,v,{value:g,enumerable:!0,configurable:!0,writable:!0}):i[v]=g,i}o.d(K,{Z:function(){return x}})},2312:function(le,K,o){function x(i){return x=Object.setPrototypeOf?Object.getPrototypeOf:function(v){return v.__proto__||Object.getPrototypeOf(v)},x(i)}o.d(K,{Z:function(){return x}})},2248:function(le,K,o){o.d(K,{Z:function(){return i}});var x=o(5901);function i(v,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(g&&g.prototype,{constructor:{value:v,writable:!0,configurable:!0}}),g&&(0,x.Z)(v,g)}},2726:function(le,K,o){function x(i,v){if(i==null)return{};var g,j,y=function(ie,I){if(ie==null)return{};var te,pe,fe={},W=Object.keys(ie);for(pe=0;pe<W.length;pe++)te=W[pe],I.indexOf(te)>=0||(fe[te]=ie[te]);return fe}(i,v);if(Object.getOwnPropertySymbols){var V=Object.getOwnPropertySymbols(i);for(j=0;j<V.length;j++)g=V[j],v.indexOf(g)>=0||Object.prototype.propertyIsEnumerable.call(i,g)&&(y[g]=i[g])}return y}o.d(K,{Z:function(){return x}})},7245:function(le,K,o){o.d(K,{Z:function(){return v}});var x=o(6655),i=o(3173);function v(g,j){if(j&&((0,x.Z)(j)==="object"||typeof j=="function"))return j;if(j!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(0,i.Z)(g)}},5901:function(le,K,o){function x(i,v){return x=Object.setPrototypeOf||function(g,j){return g.__proto__=j,g},x(i,v)}o.d(K,{Z:function(){return x}})},2577:function(le,K,o){o.d(K,{Z:function(){return i}});var x=o(9139);function i(v,g){return function(j){if(Array.isArray(j))return j}(v)||function(j,y){var V=j==null?null:typeof Symbol<"u"&&j[Symbol.iterator]||j["@@iterator"];if(V!=null){var ie,I,te=[],pe=!0,fe=!1;try{for(V=V.call(j);!(pe=(ie=V.next()).done)&&(te.push(ie.value),!y||te.length!==y);pe=!0);}catch(W){fe=!0,I=W}finally{try{pe||V.return==null||V.return()}finally{if(fe)throw I}}return te}}(v,g)||(0,x.Z)(v,g)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}},1930:function(le,K,o){o.d(K,{Z:function(){return v}});var x=o(7017),i=o(9139);function v(g){return function(j){if(Array.isArray(j))return(0,x.Z)(j)}(g)||function(j){if(typeof Symbol<"u"&&j[Symbol.iterator]!=null||j["@@iterator"]!=null)return Array.from(j)}(g)||(0,i.Z)(g)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}},6655:function(le,K,o){function x(i){return x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},x(i)}o.d(K,{Z:function(){return x}})},9139:function(le,K,o){o.d(K,{Z:function(){return i}});var x=o(7017);function i(v,g){if(v){if(typeof v=="string")return(0,x.Z)(v,g);var j=Object.prototype.toString.call(v).slice(8,-1);return j==="Object"&&v.constructor&&(j=v.constructor.name),j==="Map"||j==="Set"?Array.from(v):j==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j)?(0,x.Z)(v,g):void 0}}},5605:function(le,K,o){o.d(K,{x0:function(){return x}});let x=(i=21)=>crypto.getRandomValues(new Uint8Array(i)).reduce((v,g)=>v+=(g&=63)<36?g.toString(36):g<62?(g-26).toString(36).toUpperCase():g>62?"-":"_","")},5284:function(le){le.exports=JSON.parse('{"white":"#ffffff","black":"#000000","gray":["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],"red":["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],"pink":["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],"grape":["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],"violet":["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],"indigo":["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],"blue":["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],"cyan":["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],"teal":["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],"green":["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],"lime":["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],"yellow":["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],"orange":["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]}')},1463:function(le){le.exports=JSON.parse(`{"labels":{"paste":"Paste","pasteCharts":"Paste charts","selectAll":"Select all","multiSelect":"Add element to selection","moveCanvas":"Move canvas","cut":"Cut","copy":"Copy","copyAsPng":"Copy to clipboard as PNG","copyAsSvg":"Copy to clipboard as SVG","copyText":"Copy to clipboard as text","bringForward":"Bring forward","sendToBack":"Send to back","bringToFront":"Bring to front","sendBackward":"Send backward","delete":"Delete","copyStyles":"Copy styles","pasteStyles":"Paste styles","stroke":"Stroke","background":"Background","fill":"Fill","strokeWidth":"Stroke width","strokeStyle":"Stroke style","strokeStyle_solid":"Solid","strokeStyle_dashed":"Dashed","strokeStyle_dotted":"Dotted","sloppiness":"Sloppiness","opacity":"Opacity","textAlign":"Text align","edges":"Edges","sharp":"Sharp","round":"Round","arrowheads":"Arrowheads","arrowhead_none":"None","arrowhead_arrow":"Arrow","arrowhead_bar":"Bar","arrowhead_dot":"Dot","arrowhead_triangle":"Triangle","fontSize":"Font size","fontFamily":"Font family","onlySelected":"Only selected","withBackground":"Background","exportEmbedScene":"Embed scene","exportEmbedScene_details":"Scene data will be saved into the exported PNG/SVG file so that the scene can be restored from it.\\nWill increase exported file size.","addWatermark":"Add \\"Made with Excalidraw\\"","handDrawn":"Hand-drawn","normal":"Normal","code":"Code","small":"Small","medium":"Medium","large":"Large","veryLarge":"Very large","solid":"Solid","hachure":"Hachure","crossHatch":"Cross-hatch","thin":"Thin","bold":"Bold","left":"Left","center":"Center","right":"Right","extraBold":"Extra bold","architect":"Architect","artist":"Artist","cartoonist":"Cartoonist","fileTitle":"File name","colorPicker":"Color picker","canvasColors":"Used on canvas","canvasBackground":"Canvas background","drawingCanvas":"Drawing canvas","layers":"Layers","actions":"Actions","language":"Language","liveCollaboration":"Live collaboration","duplicateSelection":"Duplicate","untitled":"Untitled","name":"Name","yourName":"Your name","madeWithExcalidraw":"Made with Excalidraw","group":"Group selection","ungroup":"Ungroup selection","collaborators":"Collaborators","showGrid":"Show grid","addToLibrary":"Add to library","removeFromLibrary":"Remove from library","libraryLoadingMessage":"Loading library…","libraries":"Browse libraries","loadingScene":"Loading scene…","align":"Align","alignTop":"Align top","alignBottom":"Align bottom","alignLeft":"Align left","alignRight":"Align right","centerVertically":"Center vertically","centerHorizontally":"Center horizontally","distributeHorizontally":"Distribute horizontally","distributeVertically":"Distribute vertically","flipHorizontal":"Flip horizontal","flipVertical":"Flip vertical","viewMode":"View mode","toggleExportColorScheme":"Toggle export color scheme","share":"Share","showStroke":"Show stroke color picker","showBackground":"Show background color picker","toggleTheme":"Toggle theme","personalLib":"Personal Library","excalidrawLib":"Excalidraw Library","decreaseFontSize":"Decrease font size","increaseFontSize":"Increase font size","unbindText":"Unbind text","bindText":"Bind text to the container","link":{"edit":"Edit link","create":"Create link","label":"Link"},"elementLock":{"lock":"Lock","unlock":"Unlock","lockAll":"Lock all","unlockAll":"Unlock all"},"statusPublished":"Published","sidebarLock":"Keep sidebar open"},"library":{"noItems":"No items added yet...","hint_emptyLibrary":"Select an item on canvas to add it here, or install a library from the public repository, below.","hint_emptyPrivateLibrary":"Select an item on canvas to add it here."},"buttons":{"clearReset":"Reset the canvas","exportJSON":"Export to file","exportImage":"Save as image","export":"Export","exportToPng":"Export to PNG","exportToSvg":"Export to SVG","copyToClipboard":"Copy to clipboard","copyPngToClipboard":"Copy PNG to clipboard","scale":"Scale","save":"Save to current file","saveAs":"Save as","load":"Load","getShareableLink":"Get shareable link","close":"Close","selectLanguage":"Select language","scrollBackToContent":"Scroll back to content","zoomIn":"Zoom in","zoomOut":"Zoom out","resetZoom":"Reset zoom","menu":"Menu","done":"Done","edit":"Edit","undo":"Undo","redo":"Redo","resetLibrary":"Reset library","createNewRoom":"Create new room","fullScreen":"Full screen","darkMode":"Dark mode","lightMode":"Light mode","zenMode":"Zen mode","exitZenMode":"Exit zen mode","cancel":"Cancel","clear":"Clear","remove":"Remove","publishLibrary":"Publish","submit":"Submit","confirm":"Confirm"},"alerts":{"clearReset":"This will clear the whole canvas. Are you sure?","couldNotCreateShareableLink":"Couldn't create shareable link.","couldNotCreateShareableLinkTooBig":"Couldn't create shareable link: the scene is too big","couldNotLoadInvalidFile":"Couldn't load invalid file","importBackendFailed":"Importing from backend failed.","cannotExportEmptyCanvas":"Cannot export empty canvas.","couldNotCopyToClipboard":"Couldn't copy to clipboard.","decryptFailed":"Couldn't decrypt data.","uploadedSecurly":"The upload has been secured with end-to-end encryption, which means that Excalidraw server and third parties can't read the content.","loadSceneOverridePrompt":"Loading external drawing will replace your existing content. Do you wish to continue?","collabStopOverridePrompt":"Stopping the session will overwrite your previous, locally stored drawing. Are you sure?\\n\\n(If you want to keep your local drawing, simply close the browser tab instead.)","errorAddingToLibrary":"Couldn't add item to the library","errorRemovingFromLibrary":"Couldn't remove item from the library","confirmAddLibrary":"This will add {{numShapes}} shape(s) to your library. Are you sure?","imageDoesNotContainScene":"This image does not seem to contain any scene data. Have you enabled scene embedding during export?","cannotRestoreFromImage":"Scene couldn't be restored from this image file","invalidSceneUrl":"Couldn't import scene from the supplied URL. It's either malformed, or doesn't contain valid Excalidraw JSON data.","resetLibrary":"This will clear your library. Are you sure?","removeItemsFromsLibrary":"Delete {{count}} item(s) from library?","invalidEncryptionKey":"Encryption key must be of 22 characters. Live collaboration is disabled."},"errors":{"unsupportedFileType":"Unsupported file type.","imageInsertError":"Couldn't insert image. Try again later...","fileTooBig":"File is too big. Maximum allowed size is {{maxSize}}.","svgImageInsertError":"Couldn't insert SVG image. The SVG markup looks invalid.","invalidSVGString":"Invalid SVG.","cannotResolveCollabServer":"Couldn't connect to the collab server. Please reload the page and try again.","importLibraryError":"Couldn't load library"},"toolBar":{"selection":"Selection","image":"Insert image","rectangle":"Rectangle","diamond":"Diamond","ellipse":"Ellipse","arrow":"Arrow","line":"Line","freedraw":"Draw","text":"Text","library":"Library","lock":"Keep selected tool active after drawing","penMode":"Prevent pinch-zoom and accept freedraw input only from pen","link":"Add/ Update link for a selected shape","eraser":"Eraser"},"headings":{"canvasActions":"Canvas actions","selectedShapeActions":"Selected shape actions","shapes":"Shapes"},"hints":{"canvasPanning":"To move canvas, hold mouse wheel or spacebar while dragging","linearElement":"Click to start multiple points, drag for single line","freeDraw":"Click and drag, release when you're finished","text":"Tip: you can also add text by double-clicking anywhere with the selection tool","text_selected":"Double-click or press ENTER to edit text","text_editing":"Press Escape or CtrlOrCmd+ENTER to finish editing","linearElementMulti":"Click on last point or press Escape or Enter to finish","lockAngle":"You can constrain angle by holding SHIFT","resize":"You can constrain proportions by holding SHIFT while resizing,\\nhold ALT to resize from the center","resizeImage":"You can resize freely by holding SHIFT,\\nhold ALT to resize from the center","rotate":"You can constrain angles by holding SHIFT while rotating","lineEditor_info":"Double-click or press Enter to edit points","lineEditor_pointSelected":"Press Delete to remove point(s),\\nCtrlOrCmd+D to duplicate, or drag to move","lineEditor_nothingSelected":"Select a point to edit (hold SHIFT to select multiple),\\nor hold Alt and click to add new points","placeImage":"Click to place the image, or click and drag to set its size manually","publishLibrary":"Publish your own library","bindTextToElement":"Press enter to add text","deepBoxSelect":"Hold CtrlOrCmd to deep select, and to prevent dragging","eraserRevert":"Hold Alt to revert the elements marked for deletion"},"canvasError":{"cannotShowPreview":"Cannot show preview","canvasTooBig":"The canvas may be too big.","canvasTooBigTip":"Tip: try moving the farthest elements a bit closer together."},"errorSplash":{"headingMain_pre":"Encountered an error. Try ","headingMain_button":"reloading the page.","clearCanvasMessage":"If reloading doesn't work, try ","clearCanvasMessage_button":"clearing the canvas.","clearCanvasCaveat":" This will result in loss of work ","trackedToSentry_pre":"The error with identifier ","trackedToSentry_post":" was tracked on our system.","openIssueMessage_pre":"We were very cautious not to include your scene information on the error. If your scene is not private, please consider following up on our ","openIssueMessage_button":"bug tracker.","openIssueMessage_post":" Please include information below by copying and pasting into the GitHub issue.","sceneContent":"Scene content:"},"roomDialog":{"desc_intro":"You can invite people to your current scene to collaborate with you.","desc_privacy":"Don't worry, the session uses end-to-end encryption, so whatever you draw will stay private. Not even our server will be able to see what you come up with.","button_startSession":"Start session","button_stopSession":"Stop session","desc_inProgressIntro":"Live-collaboration session is now in progress.","desc_shareLink":"Share this link with anyone you want to collaborate with:","desc_exitSession":"Stopping the session will disconnect you from the room, but you'll be able to continue working with the scene, locally. Note that this won't affect other people, and they'll still be able to collaborate on their version.","shareTitle":"Join a live collaboration session on Excalidraw"},"errorDialog":{"title":"Error"},"exportDialog":{"disk_title":"Save to disk","disk_details":"Export the scene data to a file from which you can import later.","disk_button":"Save to file","link_title":"Shareable link","link_details":"Export as a read-only link.","link_button":"Export to Link","excalidrawplus_description":"Save the scene to your Excalidraw+ workspace.","excalidrawplus_button":"Export","excalidrawplus_exportError":"Couldn't export to Excalidraw+ at this moment..."},"helpDialog":{"blog":"Read our blog","click":"click","deepSelect":"Deep select","deepBoxSelect":"Deep select within box, and prevent dragging","curvedArrow":"Curved arrow","curvedLine":"Curved line","documentation":"Documentation","doubleClick":"double-click","drag":"drag","editor":"Editor","editSelectedShape":"Edit selected shape (text/arrow/line)","github":"Found an issue? Submit","howto":"Follow our guides","or":"or","preventBinding":"Prevent arrow binding","tools":"Tools","shortcuts":"Keyboard shortcuts","textFinish":"Finish editing (text editor)","textNewLine":"Add new line (text editor)","title":"Help","view":"View","zoomToFit":"Zoom to fit all elements","zoomToSelection":"Zoom to selection","toggleElementLock":"Lock/unlock selection"},"clearCanvasDialog":{"title":"Clear canvas"},"publishDialog":{"title":"Publish library","itemName":"Item name","authorName":"Author name","githubUsername":"GitHub username","twitterUsername":"Twitter username","libraryName":"Library name","libraryDesc":"Library description","website":"Website","placeholder":{"authorName":"Your name or username","libraryName":"Name of your library","libraryDesc":"Description of your library to help people understand its usage","githubHandle":"GitHub handle (optional), so you can edit the library once submitted for review","twitterHandle":"Twitter username (optional), so we know who to credit when promoting over Twitter","website":"Link to your personal website or elsewhere (optional)"},"errors":{"required":"Required","website":"Enter a valid URL"},"noteDescription":{"pre":"Submit your library to be included in the ","link":"public library repository","post":"for other people to use in their drawings."},"noteGuidelines":{"pre":"The library needs to be manually approved first. Please read the ","link":"guidelines","post":" before submitting. You will need a GitHub account to communicate and make changes if requested, but it is not strictly required."},"noteLicense":{"pre":"By submitting, you agree the library will be published under the ","link":"MIT License, ","post":"which in short means anyone can use them without restrictions."},"noteItems":"Each library item must have its own name so it's filterable. The following library items will be included:","atleastOneLibItem":"Please select at least one library item to get started","republishWarning":"Note: some of the selected items are marked as already published/submitted. You should only resubmit items when updating an existing library or submission."},"publishSuccessDialog":{"title":"Library submitted","content":"Thank you {{authorName}}. Your library has been submitted for review. You can track the status","link":"here"},"confirmDialog":{"resetLibrary":"Reset library","removeItemsFromLib":"Remove selected items from library"},"encrypted":{"tooltip":"Your drawings are end-to-end encrypted so Excalidraw's servers will never see them.","link":"Blog post on end-to-end encryption in Excalidraw"},"stats":{"angle":"Angle","element":"Element","elements":"Elements","height":"Height","scene":"Scene","selected":"Selected","storage":"Storage","title":"Stats for nerds","total":"Total","version":"Version","versionCopy":"Click to copy","versionNotAvailable":"Version not available","width":"Width"},"toast":{"addedToLibrary":"Added to library","copyStyles":"Copied styles.","copyToClipboard":"Copied to clipboard.","copyToClipboardAsPng":"Copied {{exportSelection}} to clipboard as PNG\\n({{exportColorScheme}})","fileSaved":"File saved.","fileSavedToFilename":"Saved to {filename}","canvas":"canvas","selection":"selection"},"colors":{"495057":"Gray 7","ffffff":"White","f8f9fa":"Gray 0","f1f3f5":"Gray 1","fff5f5":"Red 0","fff0f6":"Pink 0","f8f0fc":"Grape 0","f3f0ff":"Violet 0","edf2ff":"Indigo 0","e7f5ff":"Blue 0","e3fafc":"Cyan 0","e6fcf5":"Teal 0","ebfbee":"Green 0","f4fce3":"Lime 0","fff9db":"Yellow 0","fff4e6":"Orange 0","transparent":"Transparent","ced4da":"Gray 4","868e96":"Gray 6","fa5252":"Red 6","e64980":"Pink 6","be4bdb":"Grape 6","7950f2":"Violet 6","4c6ef5":"Indigo 6","228be6":"Blue 6","15aabf":"Cyan 6","12b886":"Teal 6","40c057":"Green 6","82c91e":"Lime 6","fab005":"Yellow 6","fd7e14":"Orange 6","000000":"Black","343a40":"Gray 8","c92a2a":"Red 9","a61e4d":"Pink 9","862e9c":"Grape 9","5f3dc4":"Violet 9","364fc7":"Indigo 9","1864ab":"Blue 9","0b7285":"Cyan 9","087f5b":"Teal 9","2b8a3e":"Green 9","5c940d":"Lime 9","e67700":"Yellow 9","d9480f":"Orange 9"}}`)},4451:function(le){le.exports=JSON.parse('{"ar-SA":92,"bg-BG":58,"bn-BD":0,"ca-ES":95,"cs-CZ":23,"da-DK":34,"de-DE":99,"el-GR":83,"en":100,"es-ES":99,"eu-ES":97,"fa-IR":60,"fi-FI":98,"fr-FR":99,"he-IL":95,"hi-IN":61,"hu-HU":96,"id-ID":99,"it-IT":99,"ja-JP":98,"kab-KAB":93,"kk-KZ":22,"ko-KR":98,"lt-LT":22,"lv-LV":100,"mr-IN":100,"my-MM":44,"nb-NO":100,"nl-NL":87,"nn-NO":96,"oc-FR":99,"pa-IN":89,"pl-PL":89,"pt-BR":96,"pt-PT":80,"ro-RO":100,"ru-RU":100,"si-LK":9,"sk-SK":99,"sl-SI":100,"sv-SE":100,"ta-IN":98,"tr-TR":100,"uk-UA":90,"zh-CN":99,"zh-HK":27,"zh-TW":100}')}},Jl={};function Lt(le){var K=Jl[le];if(K!==void 0)return K.exports;var o=Jl[le]={id:le,loaded:!1,exports:{}};return $l[le].call(o.exports,o,o.exports,Lt),o.loaded=!0,o.exports}Lt.m=$l,Lt.n=function(le){var K=le&&le.__esModule?function(){return le.default}:function(){return le};return Lt.d(K,{a:K}),K},Wr=Object.getPrototypeOf?function(le){return Object.getPrototypeOf(le)}:function(le){return le.__proto__},Lt.t=function(le,K){if(1&K&&(le=this(le)),8&K||typeof le=="object"&&le&&(4&K&&le.__esModule||16&K&&typeof le.then=="function"))return le;var o=Object.create(null);Lt.r(o);var x={};Qr=Qr||[null,Wr({}),Wr([]),Wr(Wr)];for(var i=2&K&&le;typeof i=="object"&&!~Qr.indexOf(i);i=Wr(i))Object.getOwnPropertyNames(i).forEach(function(v){x[v]=function(){return le[v]}});return x.default=function(){return le},Lt.d(o,x),o},Lt.d=function(le,K){for(var o in K)Lt.o(K,o)&&!Lt.o(le,o)&&Object.defineProperty(le,o,{enumerable:!0,get:K[o]})},Lt.f={},Lt.e=function(le){return Promise.all(Object.keys(Lt.f).reduce(function(K,o){return Lt.f[o](le,K),K},[]))},Lt.u=function(le){return"excalidraw-assets/"+{22:"locales/kk-KZ-json",24:"locales/nl-NL-json",71:"locales/sl-SI-json",81:"locales/eu-ES-json",82:"locales/de-DE-json",89:"locales/ro-RO-json",91:"locales/ar-SA-json",124:"locales/ru-RU-json",130:"locales/ca-ES-json",162:"locales/pa-IN-json",204:"locales/ja-JP-json",239:"locales/it-IT-json",265:"locales/cs-CZ-json",302:"locales/si-LK-json",312:"locales/he-IL-json",330:"locales/fa-IR-json",340:"locales/lt-LT-json",359:"locales/nb-NO-json",368:"locales/hu-HU-json",395:"locales/pt-PT-json",397:"locales/mr-IN-json",404:"locales/ta-IN-json",421:"locales/zh-TW-json",429:"locales/bn-BD-json",477:"locales/my-MM-json",512:"locales/fi-FI-json",513:"locales/el-GR-json",534:"locales/sv-SE-json",551:"locales/kab-KAB-json",579:"locales/uk-UA-json",628:"locales/bg-BG-json",674:"locales/pl-PL-json",680:"locales/zh-CN-json",682:"locales/fr-FR-json",690:"locales/oc-FR-json",721:"locales/pt-BR-json",736:"vendor",750:"locales/sk-SK-json",759:"locales/es-ES-json",768:"locales/lv-LV-json",790:"locales/da-DK-json",808:"locales/id-ID-json",828:"locales/hi-IN-json",844:"locales/ko-KR-json",885:"locales/nn-NO-json",920:"locales/zh-HK-json",977:"locales/tr-TR-json"}[le]+"-"+{22:"256f55e01b7d14c51a85",24:"9e2654c18661c817cad2",71:"053f1aa5c78d021e73e0",81:"5570769d29eb3be6fea1",82:"e7215ff06fe5513fd875",89:"314bb21d9405881aea46",91:"c45aab1368e1467c61fc",124:"7afc1507267127a4039e",130:"a414efadae57479408aa",162:"fff5fde7b22725f4892b",204:"6ca4d0a0a0da6439e399",239:"97f53316658e3c6e3cc2",265:"a898ae3675b2d66f2491",302:"09768735f21a6d7fe6c0",312:"cf135bd5c36e9008cf4c",330:"5f34cbf7e5dc2a5b6694",340:"d6dce1ea118b023d9b66",359:"a061d909ce3f9c28e569",368:"5f4e84e297b66cee16a9",395:"a5412c6c70653dd832bc",397:"f2dbf75cf336121866d9",404:"8227d446fbfcd3f8c7be",421:"529b943391afcfd5369d",429:"8522a1ce4e8fbd149dd3",477:"f8ea0cde2df903706156",512:"a58f3fd51d0149157782",513:"648c4e8a33d49e3c8d60",534:"daf16f824ce6bf253b94",551:"ca6c8cc0a4c6ce0394e8",579:"1b9f0b315899af8a00fd",628:"c0c83d33de789fc3ecc3",674:"556a5502303d62e61fc5",680:"a965551d944124b24b25",682:"2649082b2724353b1b7c",690:"36b68175896ab5fd8838",721:"8e000700411ca90b0a50",736:"52b1f3361986b6c6a4fe",750:"93cdc341372014e6d68e",759:"d4c3bba2e07c62d27ff7",768:"8cde5d34d4617c13212c",790:"3f6008b3d7f477f7c6b4",808:"8e2480705d678b85e0d8",828:"e3c279159830df6b85a7",844:"1c5c18219823218aec95",885:"34324eb373b2c86232e9",920:"76ff37dfc9fb93291975",977:"0a8595289a6099a03252"}[le]+".js"},Lt.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),Lt.o=function(le,K){return Object.prototype.hasOwnProperty.call(le,K)},Jo={},fl="ExcalidrawLib:",Lt.l=function(le,K,o,x){if(Jo[le])Jo[le].push(K);else{var i,v;if(o!==void 0)for(var g=document.getElementsByTagName("script"),j=0;j<g.length;j++){var y=g[j];if(y.getAttribute("src")==le||y.getAttribute("data-webpack")==fl+o){i=y;break}}i||(v=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,Lt.nc&&i.setAttribute("nonce",Lt.nc),i.setAttribute("data-webpack",fl+o),i.src=le),Jo[le]=[K];var V=function(I,te){i.onerror=i.onload=null,clearTimeout(ie);var pe=Jo[le];if(delete Jo[le],i.parentNode&&i.parentNode.removeChild(i),pe&&pe.forEach(function(fe){return fe(te)}),I)return I(te)},ie=setTimeout(V.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=V.bind(null,i.onerror),i.onload=V.bind(null,i.onload),v&&document.head.appendChild(i)}},Lt.r=function(le){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(le,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(le,"__esModule",{value:!0})},Lt.nmd=function(le){return le.paths=[],le.children||(le.children=[]),le},Lt.p="",function(){Lt.b=document.baseURI||self.location.href;var le={388:0};Lt.f.j=function(x,i){var v=Lt.o(le,x)?le[x]:void 0;if(v!==0)if(v)i.push(v[2]);else{var g=new Promise(function(V,ie){v=le[x]=[V,ie]});i.push(v[2]=g);var j=Lt.p+Lt.u(x),y=new Error;Lt.l(j,function(V){if(Lt.o(le,x)&&((v=le[x])!==0&&(le[x]=void 0),v)){var ie=V&&(V.type==="load"?"missing":V.type),I=V&&V.target&&V.target.src;y.message="Loading chunk "+x+` failed.
(`+ie+": "+I+")",y.name="ChunkLoadError",y.type=ie,y.request=I,v[1](y)}},"chunk-"+x,x)}};var K=function(x,i){var v,g,j=i[0],y=i[1],V=i[2],ie=0;if(j.some(function(I){return le[I]!==0})){for(v in y)Lt.o(y,v)&&(Lt.m[v]=y[v]);V&&V(Lt)}for(x&&x(i);ie<j.length;ie++)g=j[ie],Lt.o(le,g)&&le[g]&&le[g][0](),le[g]=0},o=self.webpackChunkExcalidrawLib=self.webpackChunkExcalidrawLib||[];o.forEach(K.bind(null,0)),o.push=K.bind(null,o.push.bind(o))}();var pl={};return function(){Lt.r(pl),Lt.d(pl,{Excalidraw:function(){return m},FONT_FAMILY:function(){return le.ut},MIME_TYPES:function(){return le.LO},THEME:function(){return le.C6},bumpVersion:function(){return S.ZP},defaultLang:function(){return te.Fp},exportToBlob:function(){return ge.Fl},exportToCanvas:function(){return ge.NL},exportToClipboard:function(){return ge.i1},exportToSvg:function(){return ge.$D},getFreeDrawSvgPath:function(){return ge.N7},getNonDeletedElements:function(){return ue.Lm},getSceneVersion:function(){return ue.Uo},isInvisiblySmallElement:function(){return ue.QD},isLinearElement:function(){return se.bt},languages:function(){return te.Mj},loadFromBlob:function(){return ge.cT},loadLibraryFromBlob:function(){return ge.lV},loadSceneOrLibraryFromBlob:function(){return ge.ZY},mergeLibraryItems:function(){return ge.zh},mutateElement:function(){return S.DR},newElementWith:function(){return S.BE},parseLibraryTokensFromUrl:function(){return F.Di},restore:function(){return $.nu},restoreAppState:function(){return $.lY},restoreElements:function(){return $.ET},restoreLibraryItems:function(){return $.wJ},sceneCoordsToViewportCoords:function(){return h._i},serializeAsJSON:function(){return ge.I_},serializeLibraryAsJSON:function(){return ge.NI},useHandleLibrary:function(){return F.xS},viewportCoordsToSceneCoords:function(){return h.dE}});var le=Lt(8288);le.Vi.TEST!=="production"&&(Lt.p=window.EXCALIDRAW_ASSET_PATH||"https://unpkg.com/".concat("@excalidraw/excalidraw","@").concat("0.12.0","/dist/")),Lt(8336);var K=Lt(6479),o=Lt.n(K),x=Lt(9713),i=Lt.n(x),v=Lt(9787),g=Lt.n(v),j=Lt(8950),y=Lt(2577),V=Lt(7945),ie=Lt.n(V),I=Lt(5440),te=Lt(8211),pe=Lt(4512),fe=function(c){var n=(0,v.useState)(!0),C=(0,y.Z)(n,2),D=C[0],B=C[1];return(0,v.useEffect)(function(){var U=function(){var b=(0,j.Z)(ie().mark(function M(){return ie().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return G.next=2,(0,te.m0)(R);case 2:B(!1);case 3:case"end":return G.stop()}},M)}));return function(){return b.apply(this,arguments)}}(),R=te.Mj.find(function(b){return b.code===c.langCode})||te.Fp;U()},[c.langCode]),D?(0,pe.jsx)(I.z,{}):c.children},W=Lt(9660),re=(Lt(4285),Lt(3313),Lt(4739)),ne=Lt(9487),ue=Lt(5118),$=Lt(679),ge=Lt(3024),se=Lt(1974),S=Lt(1935),F=Lt(7053),h=Lt(6340),u=["initialData","UIOptions"],O=["initialData","UIOptions"];function p(c,n){var C=Object.keys(c);if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(c);n&&(D=D.filter(function(B){return Object.getOwnPropertyDescriptor(c,B).enumerable})),C.push.apply(C,D)}return C}function _(c){for(var n=1;n<arguments.length;n++){var C=arguments[n]!=null?arguments[n]:{};n%2?p(Object(C),!0).forEach(function(D){i()(c,D,C[D])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(C)):p(Object(C)).forEach(function(D){Object.defineProperty(c,D,Object.getOwnPropertyDescriptor(C,D))})}return c}var E=function(c){var n,C,D,B=c.onChange,U=c.initialData,R=c.excalidrawRef,b=c.onCollabButtonClick,M=c.isCollaborating,G=M!==void 0&&M,ae=c.onPointerUpdate,ce=c.renderTopRightUI,J=c.renderFooter,Y=c.langCode,oe=Y===void 0?te.Fp.code:Y,xe=c.viewModeEnabled,L=c.zenModeEnabled,A=c.gridModeEnabled,N=c.libraryReturnUrl,z=c.theme,ee=c.name,ke=c.renderCustomStats,Oe=c.onPaste,Q=c.detectScroll,Ce=Q===void 0||Q,Ne=c.handleKeyboardGlobally,ze=Ne!==void 0&&Ne,ot=c.onLibraryChange,P=c.autoFocus,ye=P!==void 0&&P,me=c.generateIdForFile,Pe=c.onLinkOpen,Ze=c.onPointerDown,Je=c.onScrollChange,nt=(n=c.UIOptions)===null||n===void 0?void 0:n.canvasActions,ft=_(_({},c.UIOptions),{},{canvasActions:_(_({},le.cW.canvasActions),nt)});return nt!=null&&nt.export&&(ft.canvasActions.export.saveFileToDisk=(C=(D=nt.export)===null||D===void 0?void 0:D.saveFileToDisk)!==null&&C!==void 0?C:le.cW.canvasActions.export.saveFileToDisk),(0,v.useEffect)(function(){var pt=function(et){typeof et.scale=="number"&&et.scale!==1&&et.preventDefault()};return document.addEventListener("touchmove",pt,{passive:!1}),function(){document.removeEventListener("touchmove",pt)}},[]),(0,pe.jsx)(fe,{langCode:oe,children:(0,pe.jsx)(re.zt,{unstable_createStore:function(){return ne.e_},scope:ne.yE,children:(0,pe.jsx)(W.ZP,{onChange:B,initialData:U,excalidrawRef:R,onCollabButtonClick:b,isCollaborating:G,onPointerUpdate:ae,renderTopRightUI:ce,renderFooter:J,langCode:oe,viewModeEnabled:xe,zenModeEnabled:L,gridModeEnabled:A,libraryReturnUrl:N,theme:z,name:ee,renderCustomStats:ke,UIOptions:ft,onPaste:Oe,detectScroll:Ce,handleKeyboardGlobally:ze,onLibraryChange:ot,autoFocus:ye,generateIdForFile:me,onLinkOpen:Pe,onPointerDown:Ze,onScrollChange:Je})})})},T=function(c,n){c.initialData;var C=c.UIOptions,D=C===void 0?{}:C,B=o()(c,u),U=(n.initialData,n.UIOptions),R=U===void 0?{}:U,b=o()(n,O),M=Object.keys(D),G=Object.keys(R);if(M.length!==G.length)return!1;var ae=M.every(function(Y){return Y==="canvasActions"&&Object.keys(D.canvasActions).every(function(oe){var xe,L,A,N;return oe==="export"&&D!=null&&(xe=D.canvasActions)!==null&&xe!==void 0&&xe.export&&R!=null&&(L=R.canvasActions)!==null&&L!==void 0&&L.export?D.canvasActions.export.saveFileToDisk===R.canvasActions.export.saveFileToDisk:(D==null||(A=D.canvasActions)===null||A===void 0?void 0:A[oe])===(R==null||(N=R.canvasActions)===null||N===void 0?void 0:N[oe])}),!0}),ce=Object.keys(c),J=Object.keys(n);return ae&&ce.length===J.length&&ce.every(function(Y){return B[Y]===b[Y]})},l=(0,v.forwardRef)(function(c,n){return(0,pe.jsx)(E,_(_({},c),{},{excalidrawRef:n}))}),m=g().memo(l,T)}(),pl}()})})(Jc);var Cu=Jc.exports;$c.exports=Cu;var Qc=$c.exports;const Ou=Eu(Qc),Iu=Su({__proto__:null,default:Ou},[Qc]);export{Iu as m};
