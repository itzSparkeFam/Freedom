import{u as b,r as p,E as S,p as u,q as g,j as a,a as e,m as G,F as r,bM as O,bw as E,L as s,S as f,x as d,bN as C,aL as I,bO as T,bP as k,bQ as L,C as h,bR as U,az as y,aD as V,bS as _,bT as D,bC as B,bU as M,bV as F,br as K,bD as x,V as w,ac as X,A as j,b as W}from"./index-594e1857.js";const Y={vehicles:[{type:"car",name:"Blista Compact",plate:"49XJL722",model:"Blista Compact",location:"Richman Glen",impounded:!1,locked:!1,statistics:{engine:100,body:100,fuel:100}},{type:"car",name:"Buccaneer",plate:"49XJL723",model:"Buccaneer",location:"Buccaneer Way",impounded:!1,locked:!0,statistics:{engine:87,body:98,fuel:53}},{type:"car",name:"Buffalo",plate:"49XJL724",model:"Buffalo",location:"Grove Street",impounded:!0,locked:!1,statistics:{engine:100,body:100,fuel:100},impoundReason:{reason:"Parking Violation",retrievable:0,price:250,impounder:"Police Department"}}]};function z(){const o=b(j),[t,c]=p.useState([]),[i,n]=p.useState(null);p.useEffect(()=>{S("Garage")&&u("Garage",{action:"getVehicles"},Y.vehicles).then(l=>{if(!l)return g("info","No response from getVehicles");c(l)})},[o==null?void 0:o.active]);const m={car:e(E,{}),boat:e(C,{}),plane:e(I,{}),bike:e(T,{}),truck:e(k,{}),train:e(L,{})};return a("div",{className:"garage-container",style:{backgroundImage:"url(./assets/img/backgrounds/default/apps/garage/2.jpg)"},children:[e(G.div,{animate:{backdropFilter:"blur(10px) brightness(0.75)"},exit:{backdropFilter:"inherit"},transition:{duration:1},className:"blur-overlay"}),e("div",{className:"garage-header",children:i?a(r,{children:[e("div",{className:"title",children:i.model}),e(O,{className:"close",onClick:()=>n(null)})]}):a("div",{className:"title",children:[e(E,{})," ",s("APPS.GARAGE.MY_CARS")]})}),e(G.div,{...f(i?"right":"left",i?"home":"homes",.2),className:"garage-wrapper",children:i?e(J,{Vehicle:[i,n],Vehicles:[t,c]}):a(r,{children:[t.filter(l=>l.location==="out"&&!l.impounded).length>0&&a(r,{children:[a("div",{className:"subtitle",children:[s("APPS.GARAGE.OUT"),e(d,{})]}),e("section",{children:t.filter(l=>l.location==="out"&&!l.impounded).map(l=>a("div",{className:"item small",onClick:()=>n(l),children:[e("div",{className:"icon blue",children:m[l.type]}),a("div",{className:"info",children:[e("div",{className:"title",children:l.model}),e("div",{className:"value",children:l.plate})]})]},l.plate))})]}),t.filter(l=>l.location!=="out"&&!l.impounded).length>0&&a(r,{children:[a("div",{className:"subtitle",children:[s("APPS.GARAGE.GARAGE"),e(d,{})]}),e("section",{children:t.filter(l=>l.location!=="out"&&!l.impounded).map((l,A)=>a("div",{className:"item small",onClick:()=>n(l),children:[e("div",{className:"icon blue",children:m[l.type]}),a("div",{className:"info",children:[e("div",{className:"title",children:l.model}),a("div",{className:"value",children:[l.plate," - ",l.location]})]})]},l.plate))})]}),t.filter(l=>l.impounded).length>0&&a(r,{children:[a("div",{className:"subtitle",children:[s("APPS.GARAGE.IMPOUNDED"),e(d,{})]}),e("section",{children:t.filter(l=>l.impounded).map((l,A)=>a("div",{className:"item small",onClick:()=>n(l),children:[e("div",{className:"icon blue",children:m[l.type]}),a("div",{className:"info",children:[e("div",{className:"title",children:l.model}),a("div",{className:"value",children:[l.plate," - ",l.location]})]})]},l.plate))})]})]})})]})}const J=({Vehicle:o,Vehicles:t})=>{var A,v;const c=b(W),[i,n]=o,[m,l]=t;return a("div",{className:"options-container",children:[a("div",{className:"grid-wrapper",children:[a("div",{className:"subtitle",children:[s("APPS.GARAGE.ACTIONS"),e(d,{})]}),a("div",{className:"grid",children:[a("div",{className:"item big",onClick:()=>{h.PopUp.set({title:s("APPS.GARAGE.WAYPOINT_POPUP.TITLE"),description:s("APPS.GARAGE.WAYPOINT_POPUP.TEXT").format({model:i.model}),buttons:[{title:s("APPS.GARAGE.WAYPOINT_POPUP.CANCEL")},{title:s("APPS.GARAGE.WAYPOINT_POPUP.PROCEED"),cb:()=>{u("Garage",{action:"setWaypoint",plate:i.plate})}}]})},children:[e("div",{className:"icon blue",children:e(U,{})}),a("div",{className:"info",children:[e("div",{className:"title",children:s("APPS.GARAGE.LOCATION")}),e("div",{className:"value",children:y(i.location==="out"?s("APPS.GARAGE.OUT"):i.location)})]})]}),i.locked!==void 0&&a("div",{className:"item big","data-active":i.locked,onClick:()=>{h.PopUp.set({title:s("APPS.GARAGE.LOCK_POPUP.TITLE").format({toggle:i.locked?s("APPS.GARAGE.UNLOCK"):s("APPS.GARAGE.LOCK")}),description:s("APPS.GARAGE.LOCK_POPUP.TEXT").format({toggle:(i.locked?s("APPS.GARAGE.UNLOCK"):s("APPS.GARAGE.LOCK")).toLowerCase()}),buttons:[{title:s("APPS.GARAGE.LOCK_POPUP.CANCEL")},{title:s("APPS.GARAGE.LOCK_POPUP.PROCEED"),cb:()=>{u("Garage",{action:"toggleLocked",plate:i.plate},!i.locked).then(R=>{R!==void 0&&(l(P=>P.map(N=>N.plate===i.plate?{...N,locked:!N.locked}:N)),n(P=>({...P,locked:!P.locked})))})}}]})},children:[e("div",{className:"icon blue",children:e(V,{})}),a("div",{className:"info",children:[e("div",{className:"title",children:s("APPS.GARAGE.STATUS")}),e("div",{className:"value",children:i.locked?s("APPS.GARAGE.LOCKED"):s("APPS.GARAGE.UNLOCKED")})]})]}),((A=c==null?void 0:c.valet)==null?void 0:A.enabled)&&i.location!=="out"&&!i.impounded&&i.type==="car"&&a("div",{className:"item big",onClick:()=>{h.PopUp.set({title:s("APPS.GARAGE.VALET_POPUP.TITLE"),description:c.valet.price&&c.valet.price>0?s("APPS.GARAGE.VALET_POPUP.TEXT_PAID").format({model:i.model,plate:i.plate,amount:c.valet.price}):s("APPS.GARAGE.VALET_POPUP.TEXT").format({model:i.model,plate:i.plate}),buttons:[{title:s("APPS.GARAGE.VALET_POPUP.CANCEL")},{title:s("APPS.GARAGE.VALET_POPUP.PROCEED"),cb:()=>{u("Garage",{action:"valet",plate:i.plate})}}]})},children:[e("div",{className:"icon blue",children:e(_,{})}),a("div",{className:"info",children:[e("div",{className:"title",children:s("APPS.GARAGE.SUMMON")}),e("div",{className:"value",children:s("APPS.GARAGE.VALET")})]})]})]})]}),i.statistics&&Object.keys(i.statistics).length>0&&a("div",{className:"grid-wrapper",children:[a("div",{className:"subtitle",children:[s("APPS.GARAGE.STATISTICS"),e(d,{})]}),a("div",{className:"grid",children:[i.statistics.fuel&&a("div",{className:"item small",children:[e("div",{className:"icon blue",children:e(D,{})}),a("div",{className:"info",children:[e("div",{className:"title",children:s("APPS.GARAGE.FUEL")}),a("div",{className:"value",children:[i.statistics.fuel,"%"]})]})]}),i.statistics.engine&&a("div",{className:"item small",children:[e("div",{className:"icon blue",children:e(B,{})}),a("div",{className:"info",children:[e("div",{className:"title",children:s("APPS.GARAGE.ENGINE")}),a("div",{className:"value",children:[i.statistics.engine,"%"]})]})]}),i.statistics.body&&a("div",{className:"item small",children:[e("div",{className:"icon blue",children:e(M,{})}),a("div",{className:"info",children:[e("div",{className:"title",children:s("APPS.GARAGE.BODY")}),a("div",{className:"value",children:[i.statistics.body,"%"]})]})]})]})]}),i.impounded&&i.impoundReason&&Object.keys(i.impoundReason).length>0&&a("div",{className:"grid-wrapper",children:[a("div",{className:"subtitle",children:[s("APPS.GARAGE.IMPOUND_INFO"),e(d,{})]}),a("div",{className:"grid",children:[i.impoundReason.reason&&a("div",{className:"item big",children:[e("div",{className:"icon blue",children:e(F,{})}),a("div",{className:"info",children:[e("div",{className:"title",children:s("APPS.GARAGE.IMPOUND_REASON.REASON")}),e("div",{className:"value",children:i.impoundReason.reason})]})]}),i.impoundReason.impounder&&a("div",{className:"item big",children:[e("div",{className:"icon blue",children:e(K,{})}),a("div",{className:"info",children:[e("div",{className:"title",children:s("APPS.GARAGE.IMPOUND_REASON.IMPOUNDER")}),e("div",{className:"value",children:i.impoundReason.impounder})]})]}),i.impoundReason.price!==void 0&&a("div",{className:"item small",children:[e("div",{className:"icon blue",children:e(x,{})}),a("div",{className:"info",children:[e("div",{className:"title",children:s("APPS.GARAGE.IMPOUND_REASON.PRICE")}),e("div",{className:"value",children:(v=c==null?void 0:c.CurrencyFormat)==null?void 0:v.replace("%s",i.impoundReason.price.toString())})]})]}),i.impoundReason.retrievable&&a("div",{className:"item small",children:[e("div",{className:"icon blue",children:e(w,{})}),a("div",{className:"info",children:[e("div",{className:"title",children:s("APPS.GARAGE.IMPOUND_REASON.RETRIEVABLE")}),e("div",{className:"value",children:X(i.impoundReason.retrievable)})]})]})]})]})]})};export{z as default};
